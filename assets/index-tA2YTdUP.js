(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Uo(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Ne={},hi=[],qt=()=>{},ua=()=>!1,Ms=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Lo=e=>e.startsWith("onUpdate:"),et=Object.assign,Fo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Sd=Object.prototype.hasOwnProperty,$e=(e,t)=>Sd.call(e,t),ne=Array.isArray,mi=e=>Yi(e)==="[object Map]",Ii=e=>Yi(e)==="[object Set]",br=e=>Yi(e)==="[object Date]",ae=e=>typeof e=="function",xe=e=>typeof e=="string",Rt=e=>typeof e=="symbol",Me=e=>e!==null&&typeof e=="object",ca=e=>(Me(e)||ae(e))&&ae(e.then)&&ae(e.catch),pa=Object.prototype.toString,Yi=e=>pa.call(e),Ad=e=>Yi(e).slice(8,-1),fa=e=>Yi(e)==="[object Object]",Vo=e=>xe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,xi=Uo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ps=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},kd=/-\w/g,At=Ps(e=>e.replace(kd,t=>t.slice(1).toUpperCase())),Nd=/\B([A-Z])/g,ni=Ps(e=>e.replace(Nd,"-$1").toLowerCase()),Rs=Ps(e=>e.charAt(0).toUpperCase()+e.slice(1)),to=Ps(e=>e?`on${Rs(e)}`:""),On=(e,t)=>!Object.is(e,t),cs=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},ha=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},xs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let $r;const Os=()=>$r||($r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ii(e){if(ne(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=xe(i)?Rd(i):ii(i);if(o)for(const a in o)t[a]=o[a]}return t}else if(xe(e)||Me(e))return e}const Dd=/;(?![^(]*\))/g,Md=/:([^]+)/,Pd=/\/\*[^]*?\*\//g;function Rd(e){const t={};return e.replace(Pd,"").split(Dd).forEach(n=>{if(n){const i=n.split(Md);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Pe(e){let t="";if(xe(e))t=e;else if(ne(e))for(let n=0;n<e.length;n++){const i=Pe(e[n]);i&&(t+=i+" ")}else if(Me(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const xd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Od=Uo(xd);function ma(e){return!!e||e===""}function Ud(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=Zn(e[i],t[i]);return n}function Zn(e,t){if(e===t)return!0;let n=br(e),i=br(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Rt(e),i=Rt(t),n||i)return e===t;if(n=ne(e),i=ne(t),n||i)return n&&i?Ud(e,t):!1;if(n=Me(e),i=Me(t),n||i){if(!n||!i)return!1;const o=Object.keys(e).length,a=Object.keys(t).length;if(o!==a)return!1;for(const s in e){const l=e.hasOwnProperty(s),d=t.hasOwnProperty(s);if(l&&!d||!l&&d||!Zn(e[s],t[s]))return!1}}return String(e)===String(t)}function Bo(e,t){return e.findIndex(n=>Zn(n,t))}const ga=e=>!!(e&&e.__v_isRef===!0),f=e=>xe(e)?e:e==null?"":ne(e)||Me(e)&&(e.toString===pa||!ae(e.toString))?ga(e)?f(e.value):JSON.stringify(e,va,2):String(e),va=(e,t)=>ga(t)?va(e,t.value):mi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,o],a)=>(n[no(i,a)+" =>"]=o,n),{})}:Ii(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>no(n))}:Rt(t)?no(t):Me(t)&&!ne(t)&&!fa(t)?String(t):t,no=(e,t="")=>{var n;return Rt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let lt;class Ld{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=lt,!t&&lt&&(this.index=(lt.scopes||(lt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=lt;try{return lt=this,t()}finally{lt=n}}}on(){++this._on===1&&(this.prevScope=lt,lt=this)}off(){this._on>0&&--this._on===0&&(lt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Fd(){return lt}let De;const io=new WeakSet;class ya{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,lt&&lt.active&&lt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,io.has(this)&&(io.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ba(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Cr(this),$a(this);const t=De,n=Pt;De=this,Pt=!0;try{return this.fn()}finally{Ca(this),De=t,Pt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Wo(t);this.deps=this.depsTail=void 0,Cr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?io.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){vo(this)&&this.run()}get dirty(){return vo(this)}}let wa=0,Oi,Ui;function ba(e,t=!1){if(e.flags|=8,t){e.next=Ui,Ui=e;return}e.next=Oi,Oi=e}function Ho(){wa++}function Go(){if(--wa>0)return;if(Ui){let t=Ui;for(Ui=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Oi;){let t=Oi;for(Oi=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function $a(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ca(e){let t,n=e.depsTail,i=n;for(;i;){const o=i.prevDep;i.version===-1?(i===n&&(n=o),Wo(i),Vd(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=o}e.deps=t,e.depsTail=n}function vo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ia(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ia(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Hi)||(e.globalVersion=Hi,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!vo(e))))return;e.flags|=2;const t=e.dep,n=De,i=Pt;De=e,Pt=!0;try{$a(e);const o=e.fn(e._value);(t.version===0||On(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{De=n,Pt=i,Ca(e),e.flags&=-3}}function Wo(e,t=!1){const{dep:n,prevSub:i,nextSub:o}=e;if(i&&(i.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)Wo(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Vd(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Pt=!0;const Ta=[];function mn(){Ta.push(Pt),Pt=!1}function gn(){const e=Ta.pop();Pt=e===void 0?!0:e}function Cr(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=De;De=void 0;try{t()}finally{De=n}}}let Hi=0;class Bd{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class zo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!De||!Pt||De===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==De)n=this.activeLink=new Bd(De,this),De.deps?(n.prevDep=De.depsTail,De.depsTail.nextDep=n,De.depsTail=n):De.deps=De.depsTail=n,Ea(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=De.depsTail,n.nextDep=void 0,De.depsTail.nextDep=n,De.depsTail=n,De.deps===n&&(De.deps=i)}return n}trigger(t){this.version++,Hi++,this.notify(t)}notify(t){Ho();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Go()}}}function Ea(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)Ea(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const yo=new WeakMap,Kn=Symbol(""),wo=Symbol(""),Gi=Symbol("");function qe(e,t,n){if(Pt&&De){let i=yo.get(e);i||yo.set(e,i=new Map);let o=i.get(n);o||(i.set(n,o=new zo),o.map=i,o.key=n),o.track()}}function rn(e,t,n,i,o,a){const s=yo.get(e);if(!s){Hi++;return}const l=d=>{d&&d.trigger()};if(Ho(),t==="clear")s.forEach(l);else{const d=ne(e),m=d&&Vo(n);if(d&&n==="length"){const c=Number(i);s.forEach((h,C)=>{(C==="length"||C===Gi||!Rt(C)&&C>=c)&&l(h)})}else switch((n!==void 0||s.has(void 0))&&l(s.get(n)),m&&l(s.get(Gi)),t){case"add":d?m&&l(s.get("length")):(l(s.get(Kn)),mi(e)&&l(s.get(wo)));break;case"delete":d||(l(s.get(Kn)),mi(e)&&l(s.get(wo)));break;case"set":mi(e)&&l(s.get(Kn));break}}Go()}function ci(e){const t=be(e);return t===e?t:(qe(t,"iterate",Gi),It(e)?t:t.map(xt))}function Us(e){return qe(e=be(e),"iterate",Gi),e}function En(e,t){return vn(e)?qn(e)?wi(xt(t)):wi(t):xt(t)}const Hd={__proto__:null,[Symbol.iterator](){return so(this,Symbol.iterator,e=>En(this,e))},concat(...e){return ci(this).concat(...e.map(t=>ne(t)?ci(t):t))},entries(){return so(this,"entries",e=>(e[1]=En(this,e[1]),e))},every(e,t){return en(this,"every",e,t,void 0,arguments)},filter(e,t){return en(this,"filter",e,t,n=>n.map(i=>En(this,i)),arguments)},find(e,t){return en(this,"find",e,t,n=>En(this,n),arguments)},findIndex(e,t){return en(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return en(this,"findLast",e,t,n=>En(this,n),arguments)},findLastIndex(e,t){return en(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return en(this,"forEach",e,t,void 0,arguments)},includes(...e){return oo(this,"includes",e)},indexOf(...e){return oo(this,"indexOf",e)},join(e){return ci(this).join(e)},lastIndexOf(...e){return oo(this,"lastIndexOf",e)},map(e,t){return en(this,"map",e,t,void 0,arguments)},pop(){return Ni(this,"pop")},push(...e){return Ni(this,"push",e)},reduce(e,...t){return Ir(this,"reduce",e,t)},reduceRight(e,...t){return Ir(this,"reduceRight",e,t)},shift(){return Ni(this,"shift")},some(e,t){return en(this,"some",e,t,void 0,arguments)},splice(...e){return Ni(this,"splice",e)},toReversed(){return ci(this).toReversed()},toSorted(e){return ci(this).toSorted(e)},toSpliced(...e){return ci(this).toSpliced(...e)},unshift(...e){return Ni(this,"unshift",e)},values(){return so(this,"values",e=>En(this,e))}};function so(e,t,n){const i=Us(e),o=i[t]();return i!==e&&!It(e)&&(o._next=o.next,o.next=()=>{const a=o._next();return a.done||(a.value=n(a.value)),a}),o}const Gd=Array.prototype;function en(e,t,n,i,o,a){const s=Us(e),l=s!==e&&!It(e),d=s[t];if(d!==Gd[t]){const h=d.apply(e,a);return l?xt(h):h}let m=n;s!==e&&(l?m=function(h,C){return n.call(this,En(e,h),C,e)}:n.length>2&&(m=function(h,C){return n.call(this,h,C,e)}));const c=d.call(s,m,i);return l&&o?o(c):c}function Ir(e,t,n,i){const o=Us(e);let a=n;return o!==e&&(It(e)?n.length>3&&(a=function(s,l,d){return n.call(this,s,l,d,e)}):a=function(s,l,d){return n.call(this,s,En(e,l),d,e)}),o[t](a,...i)}function oo(e,t,n){const i=be(e);qe(i,"iterate",Gi);const o=i[t](...n);return(o===-1||o===!1)&&Ko(n[0])?(n[0]=be(n[0]),i[t](...n)):o}function Ni(e,t,n=[]){mn(),Ho();const i=be(e)[t].apply(e,n);return Go(),gn(),i}const Wd=Uo("__proto__,__v_isRef,__isVue"),Sa=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Rt));function zd(e){Rt(e)||(e=String(e));const t=be(this);return qe(t,"has",e),t.hasOwnProperty(e)}class Aa{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return a;if(n==="__v_raw")return i===(o?a?eu:Ma:a?Da:Na).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const s=ne(t);if(!o){let d;if(s&&(d=Hd[n]))return d;if(n==="hasOwnProperty")return zd}const l=Reflect.get(t,n,je(t)?t:i);if((Rt(n)?Sa.has(n):Wd(n))||(o||qe(t,"get",n),a))return l;if(je(l)){const d=s&&Vo(n)?l:l.value;return o&&Me(d)?$o(d):d}return Me(l)?o?$o(l):wn(l):l}}class ka extends Aa{constructor(t=!1){super(!1,t)}set(t,n,i,o){let a=t[n];const s=ne(t)&&Vo(n);if(!this._isShallow){const m=vn(a);if(!It(i)&&!vn(i)&&(a=be(a),i=be(i)),!s&&je(a)&&!je(i))return m||(a.value=i),!0}const l=s?Number(n)<t.length:$e(t,n),d=Reflect.set(t,n,i,je(t)?t:o);return t===be(o)&&(l?On(i,a)&&rn(t,"set",n,i):rn(t,"add",n,i)),d}deleteProperty(t,n){const i=$e(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&i&&rn(t,"delete",n,void 0),o}has(t,n){const i=Reflect.has(t,n);return(!Rt(n)||!Sa.has(n))&&qe(t,"has",n),i}ownKeys(t){return qe(t,"iterate",ne(t)?"length":Kn),Reflect.ownKeys(t)}}class _d extends Aa{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Jd=new ka,Kd=new _d,qd=new ka(!0);const bo=e=>e,ss=e=>Reflect.getPrototypeOf(e);function Yd(e,t,n){return function(...i){const o=this.__v_raw,a=be(o),s=mi(a),l=e==="entries"||e===Symbol.iterator&&s,d=e==="keys"&&s,m=o[e](...i),c=n?bo:t?wi:xt;return!t&&qe(a,"iterate",d?wo:Kn),{next(){const{value:h,done:C}=m.next();return C?{value:h,done:C}:{value:l?[c(h[0]),c(h[1])]:c(h),done:C}},[Symbol.iterator](){return this}}}}function os(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function jd(e,t){const n={get(o){const a=this.__v_raw,s=be(a),l=be(o);e||(On(o,l)&&qe(s,"get",o),qe(s,"get",l));const{has:d}=ss(s),m=t?bo:e?wi:xt;if(d.call(s,o))return m(a.get(o));if(d.call(s,l))return m(a.get(l));a!==s&&a.get(o)},get size(){const o=this.__v_raw;return!e&&qe(be(o),"iterate",Kn),o.size},has(o){const a=this.__v_raw,s=be(a),l=be(o);return e||(On(o,l)&&qe(s,"has",o),qe(s,"has",l)),o===l?a.has(o):a.has(o)||a.has(l)},forEach(o,a){const s=this,l=s.__v_raw,d=be(l),m=t?bo:e?wi:xt;return!e&&qe(d,"iterate",Kn),l.forEach((c,h)=>o.call(a,m(c),m(h),s))}};return et(n,e?{add:os("add"),set:os("set"),delete:os("delete"),clear:os("clear")}:{add(o){!t&&!It(o)&&!vn(o)&&(o=be(o));const a=be(this);return ss(a).has.call(a,o)||(a.add(o),rn(a,"add",o,o)),this},set(o,a){!t&&!It(a)&&!vn(a)&&(a=be(a));const s=be(this),{has:l,get:d}=ss(s);let m=l.call(s,o);m||(o=be(o),m=l.call(s,o));const c=d.call(s,o);return s.set(o,a),m?On(a,c)&&rn(s,"set",o,a):rn(s,"add",o,a),this},delete(o){const a=be(this),{has:s,get:l}=ss(a);let d=s.call(a,o);d||(o=be(o),d=s.call(a,o)),l&&l.call(a,o);const m=a.delete(o);return d&&rn(a,"delete",o,void 0),m},clear(){const o=be(this),a=o.size!==0,s=o.clear();return a&&rn(o,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=Yd(o,e,t)}),n}function _o(e,t){const n=jd(e,t);return(i,o,a)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get($e(n,o)&&o in i?n:i,o,a)}const Xd={get:_o(!1,!1)},Qd={get:_o(!1,!0)},Zd={get:_o(!0,!1)};const Na=new WeakMap,Da=new WeakMap,Ma=new WeakMap,eu=new WeakMap;function tu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function nu(e){return e.__v_skip||!Object.isExtensible(e)?0:tu(Ad(e))}function wn(e){return vn(e)?e:Jo(e,!1,Jd,Xd,Na)}function iu(e){return Jo(e,!1,qd,Qd,Da)}function $o(e){return Jo(e,!0,Kd,Zd,Ma)}function Jo(e,t,n,i,o){if(!Me(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=nu(e);if(a===0)return e;const s=o.get(e);if(s)return s;const l=new Proxy(e,a===2?i:n);return o.set(e,l),l}function qn(e){return vn(e)?qn(e.__v_raw):!!(e&&e.__v_isReactive)}function vn(e){return!!(e&&e.__v_isReadonly)}function It(e){return!!(e&&e.__v_isShallow)}function Ko(e){return e?!!e.__v_raw:!1}function be(e){const t=e&&e.__v_raw;return t?be(t):e}function ce(e){return!$e(e,"__v_skip")&&Object.isExtensible(e)&&ha(e,"__v_skip",!0),e}const xt=e=>Me(e)?wn(e):e,wi=e=>Me(e)?$o(e):e;function je(e){return e?e.__v_isRef===!0:!1}function Ot(e){return su(e,!1)}function su(e,t){return je(e)?e:new ou(e,t)}class ou{constructor(t,n){this.dep=new zo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:be(t),this._value=n?t:xt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||It(t)||vn(t);t=i?t:be(t),On(t,n)&&(this._rawValue=t,this._value=i?t:xt(t),this.dep.trigger())}}function ru(e){return je(e)?e.value:e}const au={get:(e,t,n)=>t==="__v_raw"?e:ru(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return je(o)&&!je(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function Pa(e){return qn(e)?e:new Proxy(e,au)}class lu{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new zo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Hi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&De!==this)return ba(this,!0),!0}get value(){const t=this.dep.track();return Ia(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function du(e,t,n=!1){let i,o;return ae(e)?i=e:(i=e.get,o=e.set),new lu(i,o,n)}const rs={},gs=new WeakMap;let _n;function uu(e,t=!1,n=_n){if(n){let i=gs.get(n);i||gs.set(n,i=[]),i.push(e)}}function cu(e,t,n=Ne){const{immediate:i,deep:o,once:a,scheduler:s,augmentJob:l,call:d}=n,m=Y=>o?Y:It(Y)||o===!1||o===0?an(Y,1):an(Y);let c,h,C,A,H=!1,G=!1;if(je(e)?(h=()=>e.value,H=It(e)):qn(e)?(h=()=>m(e),H=!0):ne(e)?(G=!0,H=e.some(Y=>qn(Y)||It(Y)),h=()=>e.map(Y=>{if(je(Y))return Y.value;if(qn(Y))return m(Y);if(ae(Y))return d?d(Y,2):Y()})):ae(e)?t?h=d?()=>d(e,2):e:h=()=>{if(C){mn();try{C()}finally{gn()}}const Y=_n;_n=c;try{return d?d(e,3,[A]):e(A)}finally{_n=Y}}:h=qt,t&&o){const Y=h,R=o===!0?1/0:o;h=()=>an(Y(),R)}const _=Fd(),Z=()=>{c.stop(),_&&_.active&&Fo(_.effects,c)};if(a&&t){const Y=t;t=(...R)=>{Y(...R),Z()}}let ee=G?new Array(e.length).fill(rs):rs;const Ae=Y=>{if(!(!(c.flags&1)||!c.dirty&&!Y))if(t){const R=c.run();if(o||H||(G?R.some((ie,X)=>On(ie,ee[X])):On(R,ee))){C&&C();const ie=_n;_n=c;try{const X=[R,ee===rs?void 0:G&&ee[0]===rs?[]:ee,A];ee=R,d?d(t,3,X):t(...X)}finally{_n=ie}}}else c.run()};return l&&l(Ae),c=new ya(h),c.scheduler=s?()=>s(Ae,!1):Ae,A=Y=>uu(Y,!1,c),C=c.onStop=()=>{const Y=gs.get(c);if(Y){if(d)d(Y,4);else for(const R of Y)R();gs.delete(c)}},t?i?Ae(!0):ee=c.run():s?s(Ae.bind(null,!0),!0):c.run(),Z.pause=c.pause.bind(c),Z.resume=c.resume.bind(c),Z.stop=Z,Z}function an(e,t=1/0,n){if(t<=0||!Me(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,je(e))an(e.value,t,n);else if(ne(e))for(let i=0;i<e.length;i++)an(e[i],t,n);else if(Ii(e)||mi(e))e.forEach(i=>{an(i,t,n)});else if(fa(e)){for(const i in e)an(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&an(e[i],t,n)}return e}function ji(e,t,n,i){try{return i?e(...i):e()}catch(o){Ls(o,t,n)}}function jt(e,t,n,i){if(ae(e)){const o=ji(e,t,n,i);return o&&ca(o)&&o.catch(a=>{Ls(a,t,n)}),o}if(ne(e)){const o=[];for(let a=0;a<e.length;a++)o.push(jt(e[a],t,n,i));return o}}function Ls(e,t,n,i=!0){const o=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||Ne;if(t){let l=t.parent;const d=t.proxy,m=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const c=l.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](e,d,m)===!1)return}l=l.parent}if(a){mn(),ji(a,null,10,[e,d,m]),gn();return}}pu(e,n,o,i,s)}function pu(e,t,n,i=!0,o=!1){if(o)throw e;console.error(e)}const ot=[];let Ft=-1;const gi=[];let Sn=null,pi=0;const Ra=Promise.resolve();let vs=null;function xa(e){const t=vs||Ra;return e?t.then(this?e.bind(this):e):t}function fu(e){let t=Ft+1,n=ot.length;for(;t<n;){const i=t+n>>>1,o=ot[i],a=Wi(o);a<e||a===e&&o.flags&2?t=i+1:n=i}return t}function qo(e){if(!(e.flags&1)){const t=Wi(e),n=ot[ot.length-1];!n||!(e.flags&2)&&t>=Wi(n)?ot.push(e):ot.splice(fu(t),0,e),e.flags|=1,Oa()}}function Oa(){vs||(vs=Ra.then(La))}function hu(e){ne(e)?gi.push(...e):Sn&&e.id===-1?Sn.splice(pi+1,0,e):e.flags&1||(gi.push(e),e.flags|=1),Oa()}function Tr(e,t,n=Ft+1){for(;n<ot.length;n++){const i=ot[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;ot.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Ua(e){if(gi.length){const t=[...new Set(gi)].sort((n,i)=>Wi(n)-Wi(i));if(gi.length=0,Sn){Sn.push(...t);return}for(Sn=t,pi=0;pi<Sn.length;pi++){const n=Sn[pi];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Sn=null,pi=0}}const Wi=e=>e.id==null?e.flags&2?-1:1/0:e.id;function La(e){try{for(Ft=0;Ft<ot.length;Ft++){const t=ot[Ft];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ji(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ft<ot.length;Ft++){const t=ot[Ft];t&&(t.flags&=-2)}Ft=-1,ot.length=0,Ua(),vs=null,(ot.length||gi.length)&&La()}}let Ke=null,Fa=null;function ys(e){const t=Ke;return Ke=e,Fa=e&&e.type.__scopeId||null,t}function ws(e,t=Ke,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&Fr(-1);const a=ys(t);let s;try{s=e(...o)}finally{ys(a),i._d&&Fr(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function U(e,t){if(Ke===null)return e;const n=Hs(Ke),i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[a,s,l,d=Ne]=t[o];a&&(ae(a)&&(a={mounted:a,updated:a}),a.deep&&an(s),i.push({dir:a,instance:n,value:s,oldValue:void 0,arg:l,modifiers:d}))}return e}function Wn(e,t,n,i){const o=e.dirs,a=t&&t.dirs;for(let s=0;s<o.length;s++){const l=o[s];a&&(l.oldValue=a[s].value);let d=l.dir[i];d&&(mn(),jt(d,n,8,[e.el,l,e,t]),gn())}}function mu(e,t){if(Ye){let n=Ye.provides;const i=Ye.parent&&Ye.parent.provides;i===n&&(n=Ye.provides=Object.create(i)),n[e]=t}}function ps(e,t,n=!1){const i=hc();if(i||yi){let o=yi?yi._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&ae(t)?t.call(i&&i.proxy):t}}const gu=Symbol.for("v-scx"),vu=()=>ps(gu);function ro(e,t,n){return Va(e,t,n)}function Va(e,t,n=Ne){const{immediate:i,deep:o,flush:a,once:s}=n,l=et({},n),d=t&&i||!t&&a!=="post";let m;if(_i){if(a==="sync"){const A=vu();m=A.__watcherHandles||(A.__watcherHandles=[])}else if(!d){const A=()=>{};return A.stop=qt,A.resume=qt,A.pause=qt,A}}const c=Ye;l.call=(A,H,G)=>jt(A,c,H,G);let h=!1;a==="post"?l.scheduler=A=>{it(A,c&&c.suspense)}:a!=="sync"&&(h=!0,l.scheduler=(A,H)=>{H?A():qo(A)}),l.augmentJob=A=>{t&&(A.flags|=4),h&&(A.flags|=2,c&&(A.id=c.uid,A.i=c))};const C=cu(e,t,l);return _i&&(m?m.push(C):d&&C()),C}function yu(e,t,n){const i=this.proxy,o=xe(e)?e.includes(".")?Ba(i,e):()=>i[e]:e.bind(i,i);let a;ae(t)?a=t:(a=t.handler,n=t);const s=Xi(this),l=Va(o,a.bind(i),n);return s(),l}function Ba(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}const Ha=Symbol("_vte"),wu=e=>e.__isTeleport,Li=e=>e&&(e.disabled||e.disabled===""),Er=e=>e&&(e.defer||e.defer===""),Sr=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Ar=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Co=(e,t)=>{const n=e&&e.to;return xe(n)?t?t(n):null:n},Ga={name:"Teleport",__isTeleport:!0,process(e,t,n,i,o,a,s,l,d,m){const{mc:c,pc:h,pbc:C,o:{insert:A,querySelector:H,createText:G,createComment:_}}=m,Z=Li(t.props);let{shapeFlag:ee,children:Ae,dynamicChildren:Y}=t;if(e==null){const R=t.el=G(""),ie=t.anchor=G("");A(R,n,i),A(ie,n,i);const X=(pe,ke)=>{ee&16&&c(Ae,pe,ke,o,a,s,l,d)},se=()=>{const pe=t.target=Co(t.props,H),ke=Wa(pe,t,G,A);pe&&(s!=="svg"&&Sr(pe)?s="svg":s!=="mathml"&&Ar(pe)&&(s="mathml"),o&&o.isCE&&(o.ce._teleportTargets||(o.ce._teleportTargets=new Set)).add(pe),Z||(X(pe,ke),fs(t,!1)))};Z&&(X(n,ie),fs(t,!0)),Er(t.props)?(t.el.__isMounted=!1,it(()=>{se(),delete t.el.__isMounted},a)):se()}else{if(Er(t.props)&&e.el.__isMounted===!1){it(()=>{Ga.process(e,t,n,i,o,a,s,l,d,m)},a);return}t.el=e.el,t.targetStart=e.targetStart;const R=t.anchor=e.anchor,ie=t.target=e.target,X=t.targetAnchor=e.targetAnchor,se=Li(e.props),pe=se?n:ie,ke=se?R:X;if(s==="svg"||Sr(ie)?s="svg":(s==="mathml"||Ar(ie))&&(s="mathml"),Y?(C(e.dynamicChildren,Y,pe,o,a,s,l),Zo(e,t,!0)):d||h(e,t,pe,ke,o,a,s,l,!1),Z)se?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):as(t,n,R,m,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const Oe=t.target=Co(t.props,H);Oe&&as(t,Oe,null,m,0)}else se&&as(t,ie,X,m,1);fs(t,Z)}},remove(e,t,n,{um:i,o:{remove:o}},a){const{shapeFlag:s,children:l,anchor:d,targetStart:m,targetAnchor:c,target:h,props:C}=e;if(h&&(o(m),o(c)),a&&o(d),s&16){const A=a||!Li(C);for(let H=0;H<l.length;H++){const G=l[H];i(G,t,n,A,!!G.dynamicChildren)}}},move:as,hydrate:bu};function as(e,t,n,{o:{insert:i},m:o},a=2){a===0&&i(e.targetAnchor,t,n);const{el:s,anchor:l,shapeFlag:d,children:m,props:c}=e,h=a===2;if(h&&i(s,t,n),(!h||Li(c))&&d&16)for(let C=0;C<m.length;C++)o(m[C],t,n,2);h&&i(l,t,n)}function bu(e,t,n,i,o,a,{o:{nextSibling:s,parentNode:l,querySelector:d,insert:m,createText:c}},h){function C(G,_,Z,ee){_.anchor=h(s(G),_,l(G),n,i,o,a),_.targetStart=Z,_.targetAnchor=ee}const A=t.target=Co(t.props,d),H=Li(t.props);if(A){const G=A._lpa||A.firstChild;if(t.shapeFlag&16)if(H)C(e,t,G,G&&s(G));else{t.anchor=s(e);let _=G;for(;_;){if(_&&_.nodeType===8){if(_.data==="teleport start anchor")t.targetStart=_;else if(_.data==="teleport anchor"){t.targetAnchor=_,A._lpa=t.targetAnchor&&s(t.targetAnchor);break}}_=s(_)}t.targetAnchor||Wa(A,t,c,m),h(G&&s(G),t,A,n,i,o,a)}fs(t,H)}else H&&t.shapeFlag&16&&C(e,t,e,s(e));return t.anchor&&s(t.anchor)}const Yo=Ga;function fs(e,t){const n=e.ctx;if(n&&n.ut){let i,o;for(t?(i=e.el,o=e.anchor):(i=e.targetStart,o=e.targetAnchor);i&&i!==o;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function Wa(e,t,n,i){const o=t.targetStart=n(""),a=t.targetAnchor=n("");return o[Ha]=a,e&&(i(o,e),i(a,e)),a}const $u=Symbol("_leaveCb");function jo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,jo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function oe(e,t){return ae(e)?et({name:e.name},t,{setup:e}):e}function za(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const bs=new WeakMap;function Fi(e,t,n,i,o=!1){if(ne(e)){e.forEach((H,G)=>Fi(H,t&&(ne(t)?t[G]:t),n,i,o));return}if(vi(i)&&!o){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Fi(e,t,n,i.component.subTree);return}const a=i.shapeFlag&4?Hs(i.component):i.el,s=o?null:a,{i:l,r:d}=e,m=t&&t.r,c=l.refs===Ne?l.refs={}:l.refs,h=l.setupState,C=be(h),A=h===Ne?ua:H=>$e(C,H);if(m!=null&&m!==d){if(kr(t),xe(m))c[m]=null,A(m)&&(h[m]=null);else if(je(m)){m.value=null;const H=t;H.k&&(c[H.k]=null)}}if(ae(d))ji(d,l,12,[s,c]);else{const H=xe(d),G=je(d);if(H||G){const _=()=>{if(e.f){const Z=H?A(d)?h[d]:c[d]:d.value;if(o)ne(Z)&&Fo(Z,a);else if(ne(Z))Z.includes(a)||Z.push(a);else if(H)c[d]=[a],A(d)&&(h[d]=c[d]);else{const ee=[a];d.value=ee,e.k&&(c[e.k]=ee)}}else H?(c[d]=s,A(d)&&(h[d]=s)):G&&(d.value=s,e.k&&(c[e.k]=s))};if(s){const Z=()=>{_(),bs.delete(e)};Z.id=-1,bs.set(e,Z),it(Z,n)}else kr(e),_()}}}function kr(e){const t=bs.get(e);t&&(t.flags|=8,bs.delete(e))}Os().requestIdleCallback;Os().cancelIdleCallback;const vi=e=>!!e.type.__asyncLoader,_a=e=>e.type.__isKeepAlive;function Cu(e,t){Ja(e,"a",t)}function Iu(e,t){Ja(e,"da",t)}function Ja(e,t,n=Ye){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Fs(t,i,n),n){let o=n.parent;for(;o&&o.parent;)_a(o.parent.vnode)&&Tu(i,t,n,o),o=o.parent}}function Tu(e,t,n,i){const o=Fs(t,e,i,!0);Ka(()=>{Fo(i[t],o)},n)}function Fs(e,t,n=Ye,i=!1){if(n){const o=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...s)=>{mn();const l=Xi(n),d=jt(t,n,e,s);return l(),gn(),d});return i?o.unshift(a):o.push(a),a}}const bn=e=>(t,n=Ye)=>{(!_i||e==="sp")&&Fs(e,(...i)=>t(...i),n)},Eu=bn("bm"),Su=bn("m"),Au=bn("bu"),ku=bn("u"),Nu=bn("bum"),Ka=bn("um"),Du=bn("sp"),Mu=bn("rtg"),Pu=bn("rtc");function Ru(e,t=Ye){Fs("ec",e,t)}const qa="components";function He(e,t){return ja(qa,e,!0,t)||e}const Ya=Symbol.for("v-ndc");function Io(e){return xe(e)?ja(qa,e,!1)||e:e||Ya}function ja(e,t,n=!0,i=!1){const o=Ke||Ye;if(o){const a=o.type;{const l=wc(a,!1);if(l&&(l===t||l===At(t)||l===Rs(At(t))))return a}const s=Nr(o[e]||a[e],t)||Nr(o.appContext[e],t);return!s&&i?a:s}}function Nr(e,t){return e&&(e[t]||e[At(t)]||e[Rs(At(t))])}function Xe(e,t,n,i){let o;const a=n,s=ne(e);if(s||xe(e)){const l=s&&qn(e);let d=!1,m=!1;l&&(d=!It(e),m=vn(e),e=Us(e)),o=new Array(e.length);for(let c=0,h=e.length;c<h;c++)o[c]=t(d?m?wi(xt(e[c])):xt(e[c]):e[c],c,void 0,a)}else if(typeof e=="number"){o=new Array(e);for(let l=0;l<e;l++)o[l]=t(l+1,l,void 0,a)}else if(Me(e))if(e[Symbol.iterator])o=Array.from(e,(l,d)=>t(l,d,void 0,a));else{const l=Object.keys(e);o=new Array(l.length);for(let d=0,m=l.length;d<m;d++){const c=l[d];o[d]=t(e[c],c,d,a)}}else o=[];return o}function xu(e,t,n={},i,o){if(Ke.ce||Ke.parent&&vi(Ke.parent)&&Ke.parent.ce){const m=Object.keys(n).length>0;return I(),kt(le,null,[ve("slot",n,i)],m?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),I();const s=a&&Xa(a(n)),l=n.key||s&&s.key,d=kt(le,{key:(l&&!Rt(l)?l:`_${t}`)+(!s&&i?"_fb":"")},s||[],s&&e._===1?64:-2);return a&&a._c&&(a._d=!0),d}function Xa(e){return e.some(t=>er(t)?!(t.type===yn||t.type===le&&!Xa(t.children)):!0)?e:null}const To=e=>e?ml(e)?Hs(e):To(e.parent):null,Vi=et(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>To(e.parent),$root:e=>To(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Za(e),$forceUpdate:e=>e.f||(e.f=()=>{qo(e.update)}),$nextTick:e=>e.n||(e.n=xa.bind(e.proxy)),$watch:e=>yu.bind(e)}),ao=(e,t)=>e!==Ne&&!e.__isScriptSetup&&$e(e,t),Ou={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:o,props:a,accessCache:s,type:l,appContext:d}=e;if(t[0]!=="$"){const C=s[t];if(C!==void 0)switch(C){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return a[t]}else{if(ao(i,t))return s[t]=1,i[t];if(o!==Ne&&$e(o,t))return s[t]=2,o[t];if($e(a,t))return s[t]=3,a[t];if(n!==Ne&&$e(n,t))return s[t]=4,n[t];Eo&&(s[t]=0)}}const m=Vi[t];let c,h;if(m)return t==="$attrs"&&qe(e.attrs,"get",""),m(e);if((c=l.__cssModules)&&(c=c[t]))return c;if(n!==Ne&&$e(n,t))return s[t]=4,n[t];if(h=d.config.globalProperties,$e(h,t))return h[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:a}=e;return ao(o,t)?(o[t]=n,!0):i!==Ne&&$e(i,t)?(i[t]=n,!0):$e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,props:a,type:s}},l){let d;return!!(n[l]||e!==Ne&&l[0]!=="$"&&$e(e,l)||ao(t,l)||$e(a,l)||$e(i,l)||$e(Vi,l)||$e(o.config.globalProperties,l)||(d=s.__cssModules)&&d[l])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:$e(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Dr(e){return ne(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Eo=!0;function Uu(e){const t=Za(e),n=e.proxy,i=e.ctx;Eo=!1,t.beforeCreate&&Mr(t.beforeCreate,e,"bc");const{data:o,computed:a,methods:s,watch:l,provide:d,inject:m,created:c,beforeMount:h,mounted:C,beforeUpdate:A,updated:H,activated:G,deactivated:_,beforeDestroy:Z,beforeUnmount:ee,destroyed:Ae,unmounted:Y,render:R,renderTracked:ie,renderTriggered:X,errorCaptured:se,serverPrefetch:pe,expose:ke,inheritAttrs:Oe,components:Ge,directives:at,filters:Qt}=t;if(m&&Lu(m,i,null),s)for(const ye in s){const Ce=s[ye];ae(Ce)&&(i[ye]=Ce.bind(n))}if(o){const ye=o.call(n,n);Me(ye)&&(e.data=wn(ye))}if(Eo=!0,a)for(const ye in a){const Ce=a[ye],Zt=ae(Ce)?Ce.bind(n,n):ae(Ce.get)?Ce.get.bind(n,n):qt,ri=!ae(Ce)&&ae(Ce.set)?Ce.set.bind(n):qt,We=vl({get:Zt,set:ri});Object.defineProperty(i,ye,{enumerable:!0,configurable:!0,get:()=>We.value,set:ft=>We.value=ft})}if(l)for(const ye in l)Qa(l[ye],i,n,ye);if(d){const ye=ae(d)?d.call(n):d;Reflect.ownKeys(ye).forEach(Ce=>{mu(Ce,ye[Ce])})}c&&Mr(c,e,"c");function Ve(ye,Ce){ne(Ce)?Ce.forEach(Zt=>ye(Zt.bind(n))):Ce&&ye(Ce.bind(n))}if(Ve(Eu,h),Ve(Su,C),Ve(Au,A),Ve(ku,H),Ve(Cu,G),Ve(Iu,_),Ve(Ru,se),Ve(Pu,ie),Ve(Mu,X),Ve(Nu,ee),Ve(Ka,Y),Ve(Du,pe),ne(ke))if(ke.length){const ye=e.exposed||(e.exposed={});ke.forEach(Ce=>{Object.defineProperty(ye,Ce,{get:()=>n[Ce],set:Zt=>n[Ce]=Zt,enumerable:!0})})}else e.exposed||(e.exposed={});R&&e.render===qt&&(e.render=R),Oe!=null&&(e.inheritAttrs=Oe),Ge&&(e.components=Ge),at&&(e.directives=at),pe&&za(e)}function Lu(e,t,n=qt){ne(e)&&(e=So(e));for(const i in e){const o=e[i];let a;Me(o)?"default"in o?a=ps(o.from||i,o.default,!0):a=ps(o.from||i):a=ps(o),je(a)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):t[i]=a}}function Mr(e,t,n){jt(ne(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function Qa(e,t,n,i){let o=i.includes(".")?Ba(n,i):()=>n[i];if(xe(e)){const a=t[e];ae(a)&&ro(o,a)}else if(ae(e))ro(o,e.bind(n));else if(Me(e))if(ne(e))e.forEach(a=>Qa(a,t,n,i));else{const a=ae(e.handler)?e.handler.bind(n):t[e.handler];ae(a)&&ro(o,a,e)}}function Za(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,l=a.get(t);let d;return l?d=l:!o.length&&!n&&!i?d=t:(d={},o.length&&o.forEach(m=>$s(d,m,s,!0)),$s(d,t,s)),Me(t)&&a.set(t,d),d}function $s(e,t,n,i=!1){const{mixins:o,extends:a}=t;a&&$s(e,a,n,!0),o&&o.forEach(s=>$s(e,s,n,!0));for(const s in t)if(!(i&&s==="expose")){const l=Fu[s]||n&&n[s];e[s]=l?l(e[s],t[s]):t[s]}return e}const Fu={data:Pr,props:Rr,emits:Rr,methods:Mi,computed:Mi,beforeCreate:nt,created:nt,beforeMount:nt,mounted:nt,beforeUpdate:nt,updated:nt,beforeDestroy:nt,beforeUnmount:nt,destroyed:nt,unmounted:nt,activated:nt,deactivated:nt,errorCaptured:nt,serverPrefetch:nt,components:Mi,directives:Mi,watch:Bu,provide:Pr,inject:Vu};function Pr(e,t){return t?e?function(){return et(ae(e)?e.call(this,this):e,ae(t)?t.call(this,this):t)}:t:e}function Vu(e,t){return Mi(So(e),So(t))}function So(e){if(ne(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function nt(e,t){return e?[...new Set([].concat(e,t))]:t}function Mi(e,t){return e?et(Object.create(null),e,t):t}function Rr(e,t){return e?ne(e)&&ne(t)?[...new Set([...e,...t])]:et(Object.create(null),Dr(e),Dr(t??{})):t}function Bu(e,t){if(!e)return t;if(!t)return e;const n=et(Object.create(null),e);for(const i in t)n[i]=nt(e[i],t[i]);return n}function el(){return{app:null,config:{isNativeTag:ua,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Hu=0;function Gu(e,t){return function(i,o=null){ae(i)||(i=et({},i)),o!=null&&!Me(o)&&(o=null);const a=el(),s=new WeakSet,l=[];let d=!1;const m=a.app={_uid:Hu++,_component:i,_props:o,_container:null,_context:a,_instance:null,version:$c,get config(){return a.config},set config(c){},use(c,...h){return s.has(c)||(c&&ae(c.install)?(s.add(c),c.install(m,...h)):ae(c)&&(s.add(c),c(m,...h))),m},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),m},component(c,h){return h?(a.components[c]=h,m):a.components[c]},directive(c,h){return h?(a.directives[c]=h,m):a.directives[c]},mount(c,h,C){if(!d){const A=m._ceVNode||ve(i,o);return A.appContext=a,C===!0?C="svg":C===!1&&(C=void 0),e(A,c,C),d=!0,m._container=c,c.__vue_app__=m,Hs(A.component)}},onUnmount(c){l.push(c)},unmount(){d&&(jt(l,m._instance,16),e(null,m._container),delete m._container.__vue_app__)},provide(c,h){return a.provides[c]=h,m},runWithContext(c){const h=yi;yi=m;try{return c()}finally{yi=h}}};return m}}let yi=null;const Wu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${At(t)}Modifiers`]||e[`${ni(t)}Modifiers`];function zu(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Ne;let o=n;const a=t.startsWith("update:"),s=a&&Wu(i,t.slice(7));s&&(s.trim&&(o=n.map(c=>xe(c)?c.trim():c)),s.number&&(o=n.map(xs)));let l,d=i[l=to(t)]||i[l=to(At(t))];!d&&a&&(d=i[l=to(ni(t))]),d&&jt(d,e,6,o);const m=i[l+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,jt(m,e,6,o)}}const _u=new WeakMap;function tl(e,t,n=!1){const i=n?_u:t.emitsCache,o=i.get(e);if(o!==void 0)return o;const a=e.emits;let s={},l=!1;if(!ae(e)){const d=m=>{const c=tl(m,t,!0);c&&(l=!0,et(s,c))};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!a&&!l?(Me(e)&&i.set(e,null),null):(ne(a)?a.forEach(d=>s[d]=null):et(s,a),Me(e)&&i.set(e,s),s)}function Vs(e,t){return!e||!Ms(t)?!1:(t=t.slice(2).replace(/Once$/,""),$e(e,t[0].toLowerCase()+t.slice(1))||$e(e,ni(t))||$e(e,t))}function xr(e){const{type:t,vnode:n,proxy:i,withProxy:o,propsOptions:[a],slots:s,attrs:l,emit:d,render:m,renderCache:c,props:h,data:C,setupState:A,ctx:H,inheritAttrs:G}=e,_=ys(e);let Z,ee;try{if(n.shapeFlag&4){const Y=o||i,R=Y;Z=Bt(m.call(R,Y,c,h,A,C,H)),ee=l}else{const Y=t;Z=Bt(Y.length>1?Y(h,{attrs:l,slots:s,emit:d}):Y(h,null)),ee=t.props?l:Ju(l)}}catch(Y){Bi.length=0,Ls(Y,e,1),Z=ve(yn)}let Ae=Z;if(ee&&G!==!1){const Y=Object.keys(ee),{shapeFlag:R}=Ae;Y.length&&R&7&&(a&&Y.some(Lo)&&(ee=Ku(ee,a)),Ae=bi(Ae,ee,!1,!0))}return n.dirs&&(Ae=bi(Ae,null,!1,!0),Ae.dirs=Ae.dirs?Ae.dirs.concat(n.dirs):n.dirs),n.transition&&jo(Ae,n.transition),Z=Ae,ys(_),Z}const Ju=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ms(n))&&((t||(t={}))[n]=e[n]);return t},Ku=(e,t)=>{const n={};for(const i in e)(!Lo(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function qu(e,t,n){const{props:i,children:o,component:a}=e,{props:s,children:l,patchFlag:d}=t,m=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return i?Or(i,s,m):!!s;if(d&8){const c=t.dynamicProps;for(let h=0;h<c.length;h++){const C=c[h];if(s[C]!==i[C]&&!Vs(m,C))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===s?!1:i?s?Or(i,s,m):!0:!!s;return!1}function Or(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const a=i[o];if(t[a]!==e[a]&&!Vs(n,a))return!0}return!1}function Yu({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const nl={},il=()=>Object.create(nl),sl=e=>Object.getPrototypeOf(e)===nl;function ju(e,t,n,i=!1){const o={},a=il();e.propsDefaults=Object.create(null),ol(e,t,o,a);for(const s in e.propsOptions[0])s in o||(o[s]=void 0);n?e.props=i?o:iu(o):e.type.props?e.props=o:e.props=a,e.attrs=a}function Xu(e,t,n,i){const{props:o,attrs:a,vnode:{patchFlag:s}}=e,l=be(o),[d]=e.propsOptions;let m=!1;if((i||s>0)&&!(s&16)){if(s&8){const c=e.vnode.dynamicProps;for(let h=0;h<c.length;h++){let C=c[h];if(Vs(e.emitsOptions,C))continue;const A=t[C];if(d)if($e(a,C))A!==a[C]&&(a[C]=A,m=!0);else{const H=At(C);o[H]=Ao(d,l,H,A,e,!1)}else A!==a[C]&&(a[C]=A,m=!0)}}}else{ol(e,t,o,a)&&(m=!0);let c;for(const h in l)(!t||!$e(t,h)&&((c=ni(h))===h||!$e(t,c)))&&(d?n&&(n[h]!==void 0||n[c]!==void 0)&&(o[h]=Ao(d,l,h,void 0,e,!0)):delete o[h]);if(a!==l)for(const h in a)(!t||!$e(t,h))&&(delete a[h],m=!0)}m&&rn(e.attrs,"set","")}function ol(e,t,n,i){const[o,a]=e.propsOptions;let s=!1,l;if(t)for(let d in t){if(xi(d))continue;const m=t[d];let c;o&&$e(o,c=At(d))?!a||!a.includes(c)?n[c]=m:(l||(l={}))[c]=m:Vs(e.emitsOptions,d)||(!(d in i)||m!==i[d])&&(i[d]=m,s=!0)}if(a){const d=be(n),m=l||Ne;for(let c=0;c<a.length;c++){const h=a[c];n[h]=Ao(o,d,h,m[h],e,!$e(m,h))}}return s}function Ao(e,t,n,i,o,a){const s=e[n];if(s!=null){const l=$e(s,"default");if(l&&i===void 0){const d=s.default;if(s.type!==Function&&!s.skipFactory&&ae(d)){const{propsDefaults:m}=o;if(n in m)i=m[n];else{const c=Xi(o);i=m[n]=d.call(null,t),c()}}else i=d;o.ce&&o.ce._setProp(n,i)}s[0]&&(a&&!l?i=!1:s[1]&&(i===""||i===ni(n))&&(i=!0))}return i}const Qu=new WeakMap;function rl(e,t,n=!1){const i=n?Qu:t.propsCache,o=i.get(e);if(o)return o;const a=e.props,s={},l=[];let d=!1;if(!ae(e)){const c=h=>{d=!0;const[C,A]=rl(h,t,!0);et(s,C),A&&l.push(...A)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!a&&!d)return Me(e)&&i.set(e,hi),hi;if(ne(a))for(let c=0;c<a.length;c++){const h=At(a[c]);Ur(h)&&(s[h]=Ne)}else if(a)for(const c in a){const h=At(c);if(Ur(h)){const C=a[c],A=s[h]=ne(C)||ae(C)?{type:C}:et({},C),H=A.type;let G=!1,_=!0;if(ne(H))for(let Z=0;Z<H.length;++Z){const ee=H[Z],Ae=ae(ee)&&ee.name;if(Ae==="Boolean"){G=!0;break}else Ae==="String"&&(_=!1)}else G=ae(H)&&H.name==="Boolean";A[0]=G,A[1]=_,(G||$e(A,"default"))&&l.push(h)}}const m=[s,l];return Me(e)&&i.set(e,m),m}function Ur(e){return e[0]!=="$"&&!xi(e)}const Xo=e=>e==="_"||e==="_ctx"||e==="$stable",Qo=e=>ne(e)?e.map(Bt):[Bt(e)],Zu=(e,t,n)=>{if(t._n)return t;const i=ws((...o)=>Qo(t(...o)),n);return i._c=!1,i},al=(e,t,n)=>{const i=e._ctx;for(const o in e){if(Xo(o))continue;const a=e[o];if(ae(a))t[o]=Zu(o,a,i);else if(a!=null){const s=Qo(a);t[o]=()=>s}}},ll=(e,t)=>{const n=Qo(t);e.slots.default=()=>n},dl=(e,t,n)=>{for(const i in t)(n||!Xo(i))&&(e[i]=t[i])},ec=(e,t,n)=>{const i=e.slots=il();if(e.vnode.shapeFlag&32){const o=t._;o?(dl(i,t,n),n&&ha(i,"_",o,!0)):al(t,i)}else t&&ll(e,t)},tc=(e,t,n)=>{const{vnode:i,slots:o}=e;let a=!0,s=Ne;if(i.shapeFlag&32){const l=t._;l?n&&l===1?a=!1:dl(o,t,n):(a=!t.$stable,al(t,o)),s=t}else t&&(ll(e,t),s={default:1});if(a)for(const l in o)!Xo(l)&&s[l]==null&&delete o[l]},it=rc;function nc(e){return ic(e)}function ic(e,t){const n=Os();n.__VUE__=!0;const{insert:i,remove:o,patchProp:a,createElement:s,createText:l,createComment:d,setText:m,setElementText:c,parentNode:h,nextSibling:C,setScopeId:A=qt,insertStaticContent:H}=e,G=(g,w,T,k=null,N=null,D=null,B=void 0,V=null,L=!!w.dynamicChildren)=>{if(g===w)return;g&&!Di(g,w)&&(k=ai(g),ft(g,N,D,!0),g=null),w.patchFlag===-2&&(L=!1,w.dynamicChildren=null);const{type:M,ref:Q,shapeFlag:W}=w;switch(M){case Bs:_(g,w,T,k);break;case yn:Z(g,w,T,k);break;case uo:g==null&&ee(w,T,k,B);break;case le:Ge(g,w,T,k,N,D,B,V,L);break;default:W&1?R(g,w,T,k,N,D,B,V,L):W&6?at(g,w,T,k,N,D,B,V,L):(W&64||W&128)&&M.process(g,w,T,k,N,D,B,V,L,Gn)}Q!=null&&N?Fi(Q,g&&g.ref,D,w||g,!w):Q==null&&g&&g.ref!=null&&Fi(g.ref,null,D,g,!0)},_=(g,w,T,k)=>{if(g==null)i(w.el=l(w.children),T,k);else{const N=w.el=g.el;w.children!==g.children&&m(N,w.children)}},Z=(g,w,T,k)=>{g==null?i(w.el=d(w.children||""),T,k):w.el=g.el},ee=(g,w,T,k)=>{[g.el,g.anchor]=H(g.children,w,T,k,g.el,g.anchor)},Ae=({el:g,anchor:w},T,k)=>{let N;for(;g&&g!==w;)N=C(g),i(g,T,k),g=N;i(w,T,k)},Y=({el:g,anchor:w})=>{let T;for(;g&&g!==w;)T=C(g),o(g),g=T;o(w)},R=(g,w,T,k,N,D,B,V,L)=>{if(w.type==="svg"?B="svg":w.type==="math"&&(B="mathml"),g==null)ie(w,T,k,N,D,B,V,L);else{const M=g.el&&g.el._isVueCE?g.el:null;try{M&&M._beginPatch(),pe(g,w,N,D,B,V,L)}finally{M&&M._endPatch()}}},ie=(g,w,T,k,N,D,B,V)=>{let L,M;const{props:Q,shapeFlag:W,transition:j,dirs:te}=g;if(L=g.el=s(g.type,D,Q&&Q.is,Q),W&8?c(L,g.children):W&16&&se(g.children,L,null,k,N,lo(g,D),B,V),te&&Wn(g,null,k,"created"),X(L,g,g.scopeId,B,k),Q){for(const Ie in Q)Ie!=="value"&&!xi(Ie)&&a(L,Ie,null,Q[Ie],D,k);"value"in Q&&a(L,"value",null,Q.value,D),(M=Q.onVnodeBeforeMount)&&Ut(M,k,g)}te&&Wn(g,null,k,"beforeMount");const ue=sc(N,j);ue&&j.beforeEnter(L),i(L,w,T),((M=Q&&Q.onVnodeMounted)||ue||te)&&it(()=>{M&&Ut(M,k,g),ue&&j.enter(L),te&&Wn(g,null,k,"mounted")},N)},X=(g,w,T,k,N)=>{if(T&&A(g,T),k)for(let D=0;D<k.length;D++)A(g,k[D]);if(N){let D=N.subTree;if(w===D||pl(D.type)&&(D.ssContent===w||D.ssFallback===w)){const B=N.vnode;X(g,B,B.scopeId,B.slotScopeIds,N.parent)}}},se=(g,w,T,k,N,D,B,V,L=0)=>{for(let M=L;M<g.length;M++){const Q=g[M]=V?An(g[M]):Bt(g[M]);G(null,Q,w,T,k,N,D,B,V)}},pe=(g,w,T,k,N,D,B)=>{const V=w.el=g.el;let{patchFlag:L,dynamicChildren:M,dirs:Q}=w;L|=g.patchFlag&16;const W=g.props||Ne,j=w.props||Ne;let te;if(T&&zn(T,!1),(te=j.onVnodeBeforeUpdate)&&Ut(te,T,w,g),Q&&Wn(w,g,T,"beforeUpdate"),T&&zn(T,!0),(W.innerHTML&&j.innerHTML==null||W.textContent&&j.textContent==null)&&c(V,""),M?ke(g.dynamicChildren,M,V,T,k,lo(w,N),D):B||Ce(g,w,V,null,T,k,lo(w,N),D,!1),L>0){if(L&16)Oe(V,W,j,T,N);else if(L&2&&W.class!==j.class&&a(V,"class",null,j.class,N),L&4&&a(V,"style",W.style,j.style,N),L&8){const ue=w.dynamicProps;for(let Ie=0;Ie<ue.length;Ie++){const he=ue[Ie],ze=W[he],_e=j[he];(_e!==ze||he==="value")&&a(V,he,ze,_e,N,T)}}L&1&&g.children!==w.children&&c(V,w.children)}else!B&&M==null&&Oe(V,W,j,T,N);((te=j.onVnodeUpdated)||Q)&&it(()=>{te&&Ut(te,T,w,g),Q&&Wn(w,g,T,"updated")},k)},ke=(g,w,T,k,N,D,B)=>{for(let V=0;V<w.length;V++){const L=g[V],M=w[V],Q=L.el&&(L.type===le||!Di(L,M)||L.shapeFlag&198)?h(L.el):T;G(L,M,Q,null,k,N,D,B,!0)}},Oe=(g,w,T,k,N)=>{if(w!==T){if(w!==Ne)for(const D in w)!xi(D)&&!(D in T)&&a(g,D,w[D],null,N,k);for(const D in T){if(xi(D))continue;const B=T[D],V=w[D];B!==V&&D!=="value"&&a(g,D,V,B,N,k)}"value"in T&&a(g,"value",w.value,T.value,N)}},Ge=(g,w,T,k,N,D,B,V,L)=>{const M=w.el=g?g.el:l(""),Q=w.anchor=g?g.anchor:l("");let{patchFlag:W,dynamicChildren:j,slotScopeIds:te}=w;te&&(V=V?V.concat(te):te),g==null?(i(M,T,k),i(Q,T,k),se(w.children||[],T,Q,N,D,B,V,L)):W>0&&W&64&&j&&g.dynamicChildren&&g.dynamicChildren.length===j.length?(ke(g.dynamicChildren,j,T,N,D,B,V),(w.key!=null||N&&w===N.subTree)&&Zo(g,w,!0)):Ce(g,w,T,Q,N,D,B,V,L)},at=(g,w,T,k,N,D,B,V,L)=>{w.slotScopeIds=V,g==null?w.shapeFlag&512?N.ctx.activate(w,T,k,B,L):Qt(w,T,k,N,D,B,L):Bn(g,w,L)},Qt=(g,w,T,k,N,D,B)=>{const V=g.component=fc(g,k,N);if(_a(g)&&(V.ctx.renderer=Gn),mc(V,!1,B),V.asyncDep){if(N&&N.registerDep(V,Ve,B),!g.el){const L=V.subTree=ve(yn);Z(null,L,w,T),g.placeholder=L.el}}else Ve(V,g,w,T,N,D,B)},Bn=(g,w,T)=>{const k=w.component=g.component;if(qu(g,w,T))if(k.asyncDep&&!k.asyncResolved){ye(k,w,T);return}else k.next=w,k.update();else w.el=g.el,k.vnode=w},Ve=(g,w,T,k,N,D,B)=>{const V=()=>{if(g.isMounted){let{next:W,bu:j,u:te,parent:ue,vnode:Ie}=g;{const mt=ul(g);if(mt){W&&(W.el=Ie.el,ye(g,W,B)),mt.asyncDep.then(()=>{g.isUnmounted||V()});return}}let he=W,ze;zn(g,!1),W?(W.el=Ie.el,ye(g,W,B)):W=Ie,j&&cs(j),(ze=W.props&&W.props.onVnodeBeforeUpdate)&&Ut(ze,ue,W,Ie),zn(g,!0);const _e=xr(g),ht=g.subTree;g.subTree=_e,G(ht,_e,h(ht.el),ai(ht),g,N,D),W.el=_e.el,he===null&&Yu(g,_e.el),te&&it(te,N),(ze=W.props&&W.props.onVnodeUpdated)&&it(()=>Ut(ze,ue,W,Ie),N)}else{let W;const{el:j,props:te}=w,{bm:ue,m:Ie,parent:he,root:ze,type:_e}=g,ht=vi(w);zn(g,!1),ue&&cs(ue),!ht&&(W=te&&te.onVnodeBeforeMount)&&Ut(W,he,w),zn(g,!0);{ze.ce&&ze.ce._def.shadowRoot!==!1&&ze.ce._injectChildStyle(_e);const mt=g.subTree=xr(g);G(null,mt,T,k,g,N,D),w.el=mt.el}if(Ie&&it(Ie,N),!ht&&(W=te&&te.onVnodeMounted)){const mt=w;it(()=>Ut(W,he,mt),N)}(w.shapeFlag&256||he&&vi(he.vnode)&&he.vnode.shapeFlag&256)&&g.a&&it(g.a,N),g.isMounted=!0,w=T=k=null}};g.scope.on();const L=g.effect=new ya(V);g.scope.off();const M=g.update=L.run.bind(L),Q=g.job=L.runIfDirty.bind(L);Q.i=g,Q.id=g.uid,L.scheduler=()=>qo(Q),zn(g,!0),M()},ye=(g,w,T)=>{w.component=g;const k=g.vnode.props;g.vnode=w,g.next=null,Xu(g,w.props,k,T),tc(g,w.children,T),mn(),Tr(g),gn()},Ce=(g,w,T,k,N,D,B,V,L=!1)=>{const M=g&&g.children,Q=g?g.shapeFlag:0,W=w.children,{patchFlag:j,shapeFlag:te}=w;if(j>0){if(j&128){ri(M,W,T,k,N,D,B,V,L);return}else if(j&256){Zt(M,W,T,k,N,D,B,V,L);return}}te&8?(Q&16&&Hn(M,N,D),W!==M&&c(T,W)):Q&16?te&16?ri(M,W,T,k,N,D,B,V,L):Hn(M,N,D,!0):(Q&8&&c(T,""),te&16&&se(W,T,k,N,D,B,V,L))},Zt=(g,w,T,k,N,D,B,V,L)=>{g=g||hi,w=w||hi;const M=g.length,Q=w.length,W=Math.min(M,Q);let j;for(j=0;j<W;j++){const te=w[j]=L?An(w[j]):Bt(w[j]);G(g[j],te,T,null,N,D,B,V,L)}M>Q?Hn(g,N,D,!0,!1,W):se(w,T,k,N,D,B,V,L,W)},ri=(g,w,T,k,N,D,B,V,L)=>{let M=0;const Q=w.length;let W=g.length-1,j=Q-1;for(;M<=W&&M<=j;){const te=g[M],ue=w[M]=L?An(w[M]):Bt(w[M]);if(Di(te,ue))G(te,ue,T,null,N,D,B,V,L);else break;M++}for(;M<=W&&M<=j;){const te=g[W],ue=w[j]=L?An(w[j]):Bt(w[j]);if(Di(te,ue))G(te,ue,T,null,N,D,B,V,L);else break;W--,j--}if(M>W){if(M<=j){const te=j+1,ue=te<Q?w[te].el:k;for(;M<=j;)G(null,w[M]=L?An(w[M]):Bt(w[M]),T,ue,N,D,B,V,L),M++}}else if(M>j)for(;M<=W;)ft(g[M],N,D,!0),M++;else{const te=M,ue=M,Ie=new Map;for(M=ue;M<=j;M++){const tt=w[M]=L?An(w[M]):Bt(w[M]);tt.key!=null&&Ie.set(tt.key,M)}let he,ze=0;const _e=j-ue+1;let ht=!1,mt=0;const $n=new Array(_e);for(M=0;M<_e;M++)$n[M]=0;for(M=te;M<=W;M++){const tt=g[M];if(ze>=_e){ft(tt,N,D,!0);continue}let yt;if(tt.key!=null)yt=Ie.get(tt.key);else for(he=ue;he<=j;he++)if($n[he-ue]===0&&Di(tt,w[he])){yt=he;break}yt===void 0?ft(tt,N,D,!0):($n[yt-ue]=M+1,yt>=mt?mt=yt:ht=!0,G(tt,w[yt],T,null,N,D,B,V,L),ze++)}const li=ht?oc($n):hi;for(he=li.length-1,M=_e-1;M>=0;M--){const tt=ue+M,yt=w[tt],di=w[tt+1],Si=tt+1<Q?di.el||cl(di):k;$n[M]===0?G(null,yt,T,Si,N,D,B,V,L):ht&&(he<0||M!==li[he]?We(yt,T,Si,2):he--)}}},We=(g,w,T,k,N=null)=>{const{el:D,type:B,transition:V,children:L,shapeFlag:M}=g;if(M&6){We(g.component.subTree,w,T,k);return}if(M&128){g.suspense.move(w,T,k);return}if(M&64){B.move(g,w,T,Gn);return}if(B===le){i(D,w,T);for(let W=0;W<L.length;W++)We(L[W],w,T,k);i(g.anchor,w,T);return}if(B===uo){Ae(g,w,T);return}if(k!==2&&M&1&&V)if(k===0)V.beforeEnter(D),i(D,w,T),it(()=>V.enter(D),N);else{const{leave:W,delayLeave:j,afterLeave:te}=V,ue=()=>{g.ctx.isUnmounted?o(D):i(D,w,T)},Ie=()=>{D._isLeaving&&D[$u](!0),W(D,()=>{ue(),te&&te()})};j?j(D,ue,Ie):Ie()}else i(D,w,T)},ft=(g,w,T,k=!1,N=!1)=>{const{type:D,props:B,ref:V,children:L,dynamicChildren:M,shapeFlag:Q,patchFlag:W,dirs:j,cacheIndex:te}=g;if(W===-2&&(N=!1),V!=null&&(mn(),Fi(V,null,T,g,!0),gn()),te!=null&&(w.renderCache[te]=void 0),Q&256){w.ctx.deactivate(g);return}const ue=Q&1&&j,Ie=!vi(g);let he;if(Ie&&(he=B&&B.onVnodeBeforeUnmount)&&Ut(he,w,g),Q&6)js(g.component,T,k);else{if(Q&128){g.suspense.unmount(T,k);return}ue&&Wn(g,null,w,"beforeUnmount"),Q&64?g.type.remove(g,w,T,Gn,k):M&&!M.hasOnce&&(D!==le||W>0&&W&64)?Hn(M,w,T,!1,!0):(D===le&&W&384||!N&&Q&16)&&Hn(L,w,T),k&&ts(g)}(Ie&&(he=B&&B.onVnodeUnmounted)||ue)&&it(()=>{he&&Ut(he,w,g),ue&&Wn(g,null,w,"unmounted")},T)},ts=g=>{const{type:w,el:T,anchor:k,transition:N}=g;if(w===le){Ys(T,k);return}if(w===uo){Y(g);return}const D=()=>{o(T),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(g.shapeFlag&1&&N&&!N.persisted){const{leave:B,delayLeave:V}=N,L=()=>B(T,D);V?V(g.el,D,L):L()}else D()},Ys=(g,w)=>{let T;for(;g!==w;)T=C(g),o(g),g=T;o(w)},js=(g,w,T)=>{const{bum:k,scope:N,job:D,subTree:B,um:V,m:L,a:M}=g;Lr(L),Lr(M),k&&cs(k),N.stop(),D&&(D.flags|=8,ft(B,g,w,T)),V&&it(V,w),it(()=>{g.isUnmounted=!0},w)},Hn=(g,w,T,k=!1,N=!1,D=0)=>{for(let B=D;B<g.length;B++)ft(g[B],w,T,k,N)},ai=g=>{if(g.shapeFlag&6)return ai(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const w=C(g.anchor||g.el),T=w&&w[Ha];return T?C(T):w};let Ei=!1;const ns=(g,w,T)=>{let k;g==null?w._vnode&&(ft(w._vnode,null,null,!0),k=w._vnode.component):G(w._vnode||null,g,w,null,null,null,T),w._vnode=g,Ei||(Ei=!0,Tr(k),Ua(),Ei=!1)},Gn={p:G,um:ft,m:We,r:ts,mt:Qt,mc:se,pc:Ce,pbc:ke,n:ai,o:e};return{render:ns,hydrate:void 0,createApp:Gu(ns)}}function lo({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function zn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function sc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Zo(e,t,n=!1){const i=e.children,o=t.children;if(ne(i)&&ne(o))for(let a=0;a<i.length;a++){const s=i[a];let l=o[a];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[a]=An(o[a]),l.el=s.el),!n&&l.patchFlag!==-2&&Zo(s,l)),l.type===Bs&&(l.patchFlag!==-1?l.el=s.el:l.__elIndex=a+(e.type===le?1:0)),l.type===yn&&!l.el&&(l.el=s.el)}}function oc(e){const t=e.slice(),n=[0];let i,o,a,s,l;const d=e.length;for(i=0;i<d;i++){const m=e[i];if(m!==0){if(o=n[n.length-1],e[o]<m){t[i]=o,n.push(i);continue}for(a=0,s=n.length-1;a<s;)l=a+s>>1,e[n[l]]<m?a=l+1:s=l;m<e[n[a]]&&(a>0&&(t[i]=n[a-1]),n[a]=i)}}for(a=n.length,s=n[a-1];a-- >0;)n[a]=s,s=t[s];return n}function ul(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ul(t)}function Lr(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function cl(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?cl(t.subTree):null}const pl=e=>e.__isSuspense;function rc(e,t){t&&t.pendingBranch?ne(e)?t.effects.push(...e):t.effects.push(e):hu(e)}const le=Symbol.for("v-fgt"),Bs=Symbol.for("v-txt"),yn=Symbol.for("v-cmt"),uo=Symbol.for("v-stc"),Bi=[];let vt=null;function I(e=!1){Bi.push(vt=e?null:[])}function ac(){Bi.pop(),vt=Bi[Bi.length-1]||null}let zi=1;function Fr(e,t=!1){zi+=e,e<0&&vt&&t&&(vt.hasOnce=!0)}function fl(e){return e.dynamicChildren=zi>0?vt||hi:null,ac(),zi>0&&vt&&vt.push(e),e}function E(e,t,n,i,o,a){return fl(r(e,t,n,i,o,a,!0))}function kt(e,t,n,i,o){return fl(ve(e,t,n,i,o,!0))}function er(e){return e?e.__v_isVNode===!0:!1}function Di(e,t){return e.type===t.type&&e.key===t.key}const hl=({key:e})=>e??null,hs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?xe(e)||je(e)||ae(e)?{i:Ke,r:e,k:t,f:!!n}:e:null);function r(e,t=null,n=null,i=0,o=null,a=e===le?0:1,s=!1,l=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&hl(t),ref:t&&hs(t),scopeId:Fa,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Ke};return l?(tr(d,n),a&128&&e.normalize(d)):n&&(d.shapeFlag|=xe(n)?8:16),zi>0&&!s&&vt&&(d.patchFlag>0||a&6)&&d.patchFlag!==32&&vt.push(d),d}const ve=lc;function lc(e,t=null,n=null,i=0,o=null,a=!1){if((!e||e===Ya)&&(e=yn),er(e)){const l=bi(e,t,!0);return n&&tr(l,n),zi>0&&!a&&vt&&(l.shapeFlag&6?vt[vt.indexOf(e)]=l:vt.push(l)),l.patchFlag=-2,l}if(bc(e)&&(e=e.__vccOpts),t){t=dc(t);let{class:l,style:d}=t;l&&!xe(l)&&(t.class=Pe(l)),Me(d)&&(Ko(d)&&!ne(d)&&(d=et({},d)),t.style=ii(d))}const s=xe(e)?1:pl(e)?128:wu(e)?64:Me(e)?4:ae(e)?2:0;return r(e,t,n,i,o,s,a,!0)}function dc(e){return e?Ko(e)||sl(e)?et({},e):e:null}function bi(e,t,n=!1,i=!1){const{props:o,ref:a,patchFlag:s,children:l,transition:d}=e,m=t?uc(o||{},t):o,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:m,key:m&&hl(m),ref:t&&t.ref?n&&a?ne(a)?a.concat(hs(t)):[a,hs(t)]:hs(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==le?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&bi(e.ssContent),ssFallback:e.ssFallback&&bi(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&i&&jo(c,d.clone(c)),c}function K(e=" ",t=0){return ve(Bs,null,e,t)}function me(e="",t=!1){return t?(I(),kt(yn,null,e)):ve(yn,null,e)}function Bt(e){return e==null||typeof e=="boolean"?ve(yn):ne(e)?ve(le,null,e.slice()):er(e)?An(e):ve(Bs,null,String(e))}function An(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:bi(e)}function tr(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(ne(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),tr(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!sl(t)?t._ctx=Ke:o===3&&Ke&&(Ke.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ae(t)?(t={default:t,_ctx:Ke},n=32):(t=String(t),i&64?(n=16,t=[K(t)]):n=8);e.children=t,e.shapeFlag|=n}function uc(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=Pe([t.class,i.class]));else if(o==="style")t.style=ii([t.style,i.style]);else if(Ms(o)){const a=t[o],s=i[o];s&&a!==s&&!(ne(a)&&a.includes(s))&&(t[o]=a?[].concat(a,s):s)}else o!==""&&(t[o]=i[o])}return t}function Ut(e,t,n,i=null){jt(e,t,7,[n,i])}const cc=el();let pc=0;function fc(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||cc,a={uid:pc++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ld(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rl(i,o),emitsOptions:tl(i,o),emit:null,emitted:null,propsDefaults:Ne,inheritAttrs:i.inheritAttrs,ctx:Ne,data:Ne,props:Ne,attrs:Ne,slots:Ne,refs:Ne,setupState:Ne,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=zu.bind(null,a),e.ce&&e.ce(a),a}let Ye=null;const hc=()=>Ye||Ke;let Cs,ko;{const e=Os(),t=(n,i)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(i),a=>{o.length>1?o.forEach(s=>s(a)):o[0](a)}};Cs=t("__VUE_INSTANCE_SETTERS__",n=>Ye=n),ko=t("__VUE_SSR_SETTERS__",n=>_i=n)}const Xi=e=>{const t=Ye;return Cs(e),e.scope.on(),()=>{e.scope.off(),Cs(t)}},Vr=()=>{Ye&&Ye.scope.off(),Cs(null)};function ml(e){return e.vnode.shapeFlag&4}let _i=!1;function mc(e,t=!1,n=!1){t&&ko(t);const{props:i,children:o}=e.vnode,a=ml(e);ju(e,i,a,t),ec(e,o,n||t);const s=a?gc(e,t):void 0;return t&&ko(!1),s}function gc(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ou);const{setup:i}=n;if(i){mn();const o=e.setupContext=i.length>1?yc(e):null,a=Xi(e),s=ji(i,e,0,[e.props,o]),l=ca(s);if(gn(),a(),(l||e.sp)&&!vi(e)&&za(e),l){if(s.then(Vr,Vr),t)return s.then(d=>{Br(e,d)}).catch(d=>{Ls(d,e,0)});e.asyncDep=s}else Br(e,s)}else gl(e)}function Br(e,t,n){ae(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Me(t)&&(e.setupState=Pa(t)),gl(e)}function gl(e,t,n){const i=e.type;e.render||(e.render=i.render||qt);{const o=Xi(e);mn();try{Uu(e)}finally{gn(),o()}}}const vc={get(e,t){return qe(e,"get",""),e[t]}};function yc(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,vc),slots:e.slots,emit:e.emit,expose:t}}function Hs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Pa(ce(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Vi)return Vi[n](e)},has(t,n){return n in t||n in Vi}})):e.proxy}function wc(e,t=!0){return ae(e)?e.displayName||e.name:e.name||t&&e.__name}function bc(e){return ae(e)&&"__vccOpts"in e}const vl=(e,t)=>du(e,t,_i),$c="3.5.26";let No;const Hr=typeof window<"u"&&window.trustedTypes;if(Hr)try{No=Hr.createPolicy("vue",{createHTML:e=>e})}catch{}const yl=No?e=>No.createHTML(e):e=>e,Cc="http://www.w3.org/2000/svg",Ic="http://www.w3.org/1998/Math/MathML",tn=typeof document<"u"?document:null,Gr=tn&&tn.createElement("template"),Tc={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t==="svg"?tn.createElementNS(Cc,e):t==="mathml"?tn.createElementNS(Ic,e):n?tn.createElement(e,{is:n}):tn.createElement(e);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>tn.createTextNode(e),createComment:e=>tn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>tn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,a){const s=n?n.previousSibling:t.lastChild;if(o&&(o===a||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===a||!(o=o.nextSibling)););else{Gr.innerHTML=yl(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const l=Gr.content;if(i==="svg"||i==="mathml"){const d=l.firstChild;for(;d.firstChild;)l.appendChild(d.firstChild);l.removeChild(d)}t.insertBefore(l,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ec=Symbol("_vtc");function Sc(e,t,n){const i=e[Ec];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Wr=Symbol("_vod"),Ac=Symbol("_vsh"),kc=Symbol(""),Nc=/(?:^|;)\s*display\s*:/;function Dc(e,t,n){const i=e.style,o=xe(n);let a=!1;if(n&&!o){if(t)if(xe(t))for(const s of t.split(";")){const l=s.slice(0,s.indexOf(":")).trim();n[l]==null&&ms(i,l,"")}else for(const s in t)n[s]==null&&ms(i,s,"");for(const s in n)s==="display"&&(a=!0),ms(i,s,n[s])}else if(o){if(t!==n){const s=i[kc];s&&(n+=";"+s),i.cssText=n,a=Nc.test(n)}}else t&&e.removeAttribute("style");Wr in e&&(e[Wr]=a?i.display:"",e[Ac]&&(i.display="none"))}const zr=/\s*!important$/;function ms(e,t,n){if(ne(n))n.forEach(i=>ms(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=Mc(e,t);zr.test(n)?e.setProperty(ni(i),n.replace(zr,""),"important"):e[i]=n}}const _r=["Webkit","Moz","ms"],co={};function Mc(e,t){const n=co[t];if(n)return n;let i=At(t);if(i!=="filter"&&i in e)return co[t]=i;i=Rs(i);for(let o=0;o<_r.length;o++){const a=_r[o]+i;if(a in e)return co[t]=a}return t}const Jr="http://www.w3.org/1999/xlink";function Kr(e,t,n,i,o,a=Od(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Jr,t.slice(6,t.length)):e.setAttributeNS(Jr,t,n):n==null||a&&!ma(n)?e.removeAttribute(t):e.setAttribute(t,a?"":Rt(n)?String(n):n)}function qr(e,t,n,i,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?yl(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const l=a==="OPTION"?e.getAttribute("value")||"":e.value,d=n==null?e.type==="checkbox"?"on":"":String(n);(l!==d||!("_value"in e))&&(e.value=d),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=ma(n):n==null&&l==="string"?(n="",s=!0):l==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(o||t)}function ln(e,t,n,i){e.addEventListener(t,n,i)}function Pc(e,t,n,i){e.removeEventListener(t,n,i)}const Yr=Symbol("_vei");function Rc(e,t,n,i,o=null){const a=e[Yr]||(e[Yr]={}),s=a[t];if(i&&s)s.value=i;else{const[l,d]=xc(t);if(i){const m=a[t]=Lc(i,o);ln(e,l,m,d)}else s&&(Pc(e,l,s,d),a[t]=void 0)}}const jr=/(?:Once|Passive|Capture)$/;function xc(e){let t;if(jr.test(e)){t={};let i;for(;i=e.match(jr);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ni(e.slice(2)),t]}let po=0;const Oc=Promise.resolve(),Uc=()=>po||(Oc.then(()=>po=0),po=Date.now());function Lc(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;jt(Fc(i,n.value),t,5,[i])};return n.value=e,n.attached=Uc(),n}function Fc(e,t){if(ne(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const Xr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Vc=(e,t,n,i,o,a)=>{const s=o==="svg";t==="class"?Sc(e,i,s):t==="style"?Dc(e,n,i):Ms(t)?Lo(t)||Rc(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Bc(e,t,i,s))?(qr(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Kr(e,t,i,s,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!xe(i))?qr(e,At(t),i,a,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Kr(e,t,i,s))};function Bc(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&Xr(t)&&ae(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Xr(t)&&xe(n)?!1:t in e}const Fn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ne(t)?n=>cs(t,n):t};function Hc(e){e.target.composing=!0}function Qr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Tt=Symbol("_assign");function Zr(e,t,n){return t&&(e=e.trim()),n&&(e=xs(e)),e}const z={created(e,{modifiers:{lazy:t,trim:n,number:i}},o){e[Tt]=Fn(o);const a=i||o.props&&o.props.type==="number";ln(e,t?"change":"input",s=>{s.target.composing||e[Tt](Zr(e.value,n,a))}),(n||a)&&ln(e,"change",()=>{e.value=Zr(e.value,n,a)}),t||(ln(e,"compositionstart",Hc),ln(e,"compositionend",Qr),ln(e,"change",Qr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:o,number:a}},s){if(e[Tt]=Fn(s),e.composing)return;const l=(a||e.type==="number")&&!/^0\d/.test(e.value)?xs(e.value):e.value,d=t??"";l!==d&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||o&&e.value.trim()===d)||(e.value=d))}},Qe={deep:!0,created(e,t,n){e[Tt]=Fn(n),ln(e,"change",()=>{const i=e._modelValue,o=$i(e),a=e.checked,s=e[Tt];if(ne(i)){const l=Bo(i,o),d=l!==-1;if(a&&!d)s(i.concat(o));else if(!a&&d){const m=[...i];m.splice(l,1),s(m)}}else if(Ii(i)){const l=new Set(i);a?l.add(o):l.delete(o),s(l)}else s(wl(e,a))})},mounted:ea,beforeUpdate(e,t,n){e[Tt]=Fn(n),ea(e,t,n)}};function ea(e,{value:t,oldValue:n},i){e._modelValue=t;let o;if(ne(t))o=Bo(t,i.props.value)>-1;else if(Ii(t))o=t.has(i.props.value);else{if(t===n)return;o=Zn(t,wl(e,!0))}e.checked!==o&&(e.checked=o)}const Gc={created(e,{value:t},n){e.checked=Zn(t,n.props.value),e[Tt]=Fn(n),ln(e,"change",()=>{e[Tt]($i(e))})},beforeUpdate(e,{value:t,oldValue:n},i){e[Tt]=Fn(i),t!==n&&(e.checked=Zn(t,i.props.value))}},si={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const o=Ii(t);ln(e,"change",()=>{const a=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?xs($i(s)):$i(s));e[Tt](e.multiple?o?new Set(a):a:a[0]),e._assigning=!0,xa(()=>{e._assigning=!1})}),e[Tt]=Fn(i)},mounted(e,{value:t}){ta(e,t)},beforeUpdate(e,t,n){e[Tt]=Fn(n)},updated(e,{value:t}){e._assigning||ta(e,t)}};function ta(e,t){const n=e.multiple,i=ne(t);if(!(n&&!i&&!Ii(t))){for(let o=0,a=e.options.length;o<a;o++){const s=e.options[o],l=$i(s);if(n)if(i){const d=typeof l;d==="string"||d==="number"?s.selected=t.some(m=>String(m)===String(l)):s.selected=Bo(t,l)>-1}else s.selected=t.has(l);else if(Zn($i(s),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function $i(e){return"_value"in e?e._value:e.value}function wl(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Wc={created(e,t,n){ls(e,t,n,null,"created")},mounted(e,t,n){ls(e,t,n,null,"mounted")},beforeUpdate(e,t,n,i){ls(e,t,n,i,"beforeUpdate")},updated(e,t,n,i){ls(e,t,n,i,"updated")}};function zc(e,t){switch(e){case"SELECT":return si;case"TEXTAREA":return z;default:switch(t){case"checkbox":return Qe;case"radio":return Gc;default:return z}}}function ls(e,t,n,i,o){const s=zc(e.tagName,n.props&&n.props.type)[o];s&&s(e,t,n,i)}const _c=["ctrl","shift","alt","meta"],Jc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>_c.some(n=>e[`${n}Key`]&&!t.includes(n))},fe=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=((o,...a)=>{for(let s=0;s<t.length;s++){const l=Jc[t[s]];if(l&&l(o,t))return}return e(o,...a)}))},Kc=et({patchProp:Vc},Tc);let na;function qc(){return na||(na=nc(Kc))}const Yc=((...e)=>{const t=qc().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=Xc(i);if(!o)return;const a=t._component;!ae(a)&&!a.render&&!a.template&&(a.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const s=n(o,!1,jc(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},t});function jc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Xc(e){return xe(e)?document.querySelector(e):e}class pt{static icon="play_circle_outline";icon=pt.icon;hideable=!1;get name(){return this.id}toJsonObj(){return{id:this.id,...this.toDataObj()}}toJson(){return JSON.stringify(this.toJsonObj())}isGroup(){return!1}duplicate(){return nr(this.toJsonObj())}delete(){}isCheck(){return!1}}class pn extends pt{constructor(t,n,i){super(),this.command=t,this.asConsole=n,this.asOperator=i}static id="Command";id=pn.id;static fromJson(t){return new pn(t.command,t.asConsole,t.asOperator)}toDataObj(){return{command:this.command,asConsole:this.asConsole,asOperator:this.asOperator}}}class fn extends pt{constructor(t,n){super(),this.actions=t,this.expanded=n}static id="List";static icon="receipt_long";id=fn.id;icon=fn.icon;static fromJson(t){return new fn(Ws(t.actions),t.expanded)}toDataObj(){return{actions:this.actions.map(t=>t.toJsonObj()),expanded:this.expanded}}getItems(){return this.actions}isGroup(){return!0}}const fo=localStorage.getItem("language"),Qc=fo==="en"||fo==="ru"?fo:"ru",Gs=Ot(Qc),Zc={en:{},ru:{"header.shortcuts":" ","header.sizeFrames":"","header.save":"","header.download":"","header.about.title":" ","header.about.body":"AdvancedGUI Community Editor        GUI  AdvancedGUI. AdvancedGUI    Minecraft.    SpigotMC.       GitHub.   : {version}.","header.shortcuts.title":" ","header.dev.title":" ","header.dev.body":"  tune    ,   , ID,   item-frame     RGBA.","header.unsaved":" !    .","header.lang":"","header.discard":"   ","header.backToProjects":" ","app.unsavedLeave":",   .  ,   ,   .","shortcuts.copy":" ","shortcuts.paste":" ","shortcuts.cut":"   ","shortcuts.delete":" ","shortcuts.undo":"","shortcuts.redo":"","shortcuts.zoom":"","shortcuts.move1":"  1 ","shortcuts.move10":"  10 ","shortcuts.download":" ","shortcuts.snap":" SHIFT  ,     X  Y","shortcuts.snapToggle":"/ ","shortcuts.duplicateDrag":"  ","dev.move":"    ","dev.id":" ID ","dev.preview":"   item-frame ","dev.rgba":" RGBA  (   )","componentTree.add":" ","textInput.bg":" ","textInput.bgActive":"  ","textInput.placeholder":"","textInput.default":"  ","textInput.maxLength":". ","textInput.textStyle":" ","textInput.placeholderColor":" ","textInput.position":"","textInput.padding":"","textInput.info":"     %advancedgui_textinput_{id}%.  PlaceholderAPI.","rect.radius":" ","rect.dimensions":"","font.size":"","font.font":"","font.upload":" ","color.default":"","color.dev":"Dev ","toolbar.zoom":"","toolbar.snapToggle":" ","text.text":"","text.colors":"        Minecraft (, aTest  ).","text.containsPlaceholder":" ","text.preview":" ","text.style":"","text.position":"","text.color":"","check.showNegative":"  ","check.type":" ","check.hint":"-   :    ,    .","listNext.viewId":"ID ","listNext.notView":"   View","listNext.goTo":" ","listNext.next":"","listNext.previous":"","listNext.pageIfPossible":",  ","listNext.checkIf":",  ","listNext.page":"","listNext.target":"","listNext.notFound":"  !","money.amount":"","money.desc":",         ( Vault)","delay.ticks":"","delay.desc":"         (1  = 50)","image.gif":"GIF","image.image":"","image.upload":"","image.dimensions":"","image.keepRatio":" ","image.fillCanvas":"  ","image.dithering":"","image.pause":"  ","image.imageName":" ","permission.permission":"","sidebar.general":" ","sidebar.name":"","sidebar.id":"ID","sidebar.visibility":"","sidebar.lock":"","sidebar.align.scope":"","sidebar.align.canvas":"","sidebar.align.parent":"","sidebar.align.horizontal":" ","sidebar.align.vertical":" ","sidebar.clickAction":"  ","sidebar.addAction":" ","sidebar.paste":"","sidebar.edit":"","sidebar.noneSelected":"  ","modal.ok":"","projectExplorer.yourProjects":" ","projectExplorer.import":" ","projectExplorer.about":" ","projectExplorer.devMode":" ","projectExplorer.create":"  ","projectExplorer.open":"","projectExplorer.download":"","projectExplorer.delete":"","projectExplorer.openToUpdate":"  ","projectExplorer.subtitle":"  GUI  Minecraft  ","projectExplorer.lead":"  :  ,   ,   .","projectExplorer.stats.projects":"","projectExplorer.stats.storage":"","projectExplorer.title":" ","projectExplorer.tips.title":"  ","projectExplorer.tips.one":"      ( ).","projectExplorer.tips.two":"        .","projectExplorer.tips.three":"        .","projectExplorer.tips.note":"           .","projectExplorer.search":" ","projectExplorer.needsUpdate":"","projectExplorer.empty.title":"  ","projectExplorer.empty.body":"      .","projectExplorer.empty.firstTitle":"  ","projectExplorer.empty.firstBody":"  ,  .","loading.errorTitle":"-   ","loading.close":"","template.addVariable":" ","template.help":" #    . ,      .      '#'    ( ).","list.addVariable":" ","list.addEntry":" ","list.entryVars":" ","list.entries":"","list.offset":" ","list.entriesPerPage":"  ","list.showPage":"  ({current}/{total})","list.help":" #     . ,     .      '#'   .","componentList.add":" ","update.migrated":"     <b>{old}</b>     <b>{new}</b>","placeholder.placeholder":"","placeholder.compType":" ","placeholder.textEq":" ","placeholder.textEqShort":" =","placeholder.value":"","placeholder.descText":',   {ph}   "{val}"',"placeholder.descNumber":": {ph} {cmp} {val}","command.command":"","command.console":"  ","message.message":"","metadata.key":" ","metadata.newValue":" ","metadata.deleteValue":" ","metadata.desc":"    %meta.{key}%.     GUI,    .","money.negativeHint":"  ,     .","money.actionResult":"   {mode} {amount}   .","money.add":"","money.remove":"","permission.add":"","permission.or":"","permission.remove":"","permission.permissionLower":"","gif.targetId":"ID GIF-","gif.target":"","gif.notFound":"  !","gif.notGif":"  GIF","gif.pause":" GIF","gif.reset":" GIF","gif.pauseDesc":"  GIF  ","gif.unpauseDesc":"  GIF","gif.resetDesc":"     ","view.viewId":"ID ","view.target":"","view.notFound":"  !","view.notView":"   View","view.targetId":" ID","view.notChild":"     view","view.desc":"    view   target  .","view.default":" ","view.showComponent":" ","view.componentDesc":"View     .    ;   view   .","visibility.componentId":"ID ","visibility.visible":"","visibility.makeVisible":"   ","visibility.makeInvisible":"   ","visibility.checkDesc":",    ","item.amount":"","item.name":" ","item.desc":",         .  F3+H       ,    .","standby.desc":"    . ,       GUI.","click.show":"   ","click.desc":" Click Animation     .   ;       .","hover.show":"   ","hover.desc":"Hover     .   ;    .","empty.none":"     ","image.previewLoading":"  ","replica.templateId":"ID ","replica.target":"","replica.notFound":"  !","replica.notTemplate":"   Template","replica.position":"","common.number":"","common.text":"","component.Rect":"","component.Text":"","component.Image":"","component.Remote Image":" ","component.GIF":"GIF","component.Group":"","component.Hover":"","component.Click Animation":" ","component.Check":"","component.Text-Input":" ","component.View":" (View)","component.Template":"","component.Replica":"","component.List":"","component.Dummy":"","action.Command":"","action.Message":"","action.Visibility":"","action.Money":"","action.Permission":"","action.GIF Control":" GIF","action.View":"  (View)","action.View Next":"  (View)","action.List next":"  (legacy)","action.Metadata":"","action.Delay":"","action.List":"","action.Check":"","action.Item Check":" ","action.Money Check":" ","action.Permission Check":" ","action.Visibility Check":" ","action.Placeholder Check":" ","action.Number Placeholder Check":"  ","action.List Next Check":"  View","action.List next Check":"  View (legacy)","action.Standby Check":" ","componentList.addChild":" ","componentList.delete":"","componentList.copy":"","componentList.duplicate":"","componentList.show":"","componentList.hide":"","project.invalid":"      AdvancedGUI.","project.defaultName":"","project.unnamed":" ","project.unnamedNumber":"{name} {num}","export.error":"  : {message}","import.singleComponent":"        Group  Template."}},bl=vl(()=>[{value:"ru",label:""},{value:"en",label:"English"}]);function $l(e){Gs.value=e,localStorage.setItem("language",e)}function q(e,t){const n=Zc[Gs.value]?.[e];return n||t}const ep=oe({data(){return{t:q}},props:{action:{type:Object,required:!0}}}),re=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},tp={class:"settings-row"},np={class:"label"},ip={class:"settings-row"},sp={class:"label"};function op(e,t,n,i,o,a){return I(),E("div",null,[r("div",tp,[r("span",np,f(e.t("command.command","Command")),1),U(r("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>e.action.command=s)},null,512),[[z,e.action.command]])]),r("div",ip,[r("span",sp,f(e.t("command.console","Run as console")),1),U(r("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=s=>e.action.asConsole=s)},null,512),[[Qe,e.action.asConsole]])])])}const rp=re(ep,[["render",op]]),ap=oe({data(){return{t:q}},props:{action:{type:Object,required:!0}}}),lp={class:"settings-row"},dp={class:"label"};function up(e,t,n,i,o,a){return I(),E("div",null,[r("div",lp,[r("span",dp,f(e.t("message.message","Message")),1),U(r("textarea",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.action.message=s)},null,512),[[z,e.action.message]])])])}const cp=re(ap,[["render",up]]);const pp=oe({data(){return{components:rt,idWatcher:Vn,t:q}},props:{action:{type:Object,required:!0}}}),fp={id:"visSettings"},hp={class:"settings-row"},mp={class:"label"},gp={class:"settings-row"},vp={class:"label"},yp={class:"label"};function wp(e,t,n,i,o,a){return I(),E("div",fp,[r("div",hp,[r("span",mp,f(e.t("visibility.componentId","Component ID")),1),U(r("input",{type:"text",class:"componentIdInput",onFocus:t[0]||(t[0]=s=>e.idWatcher=l=>e.action.targetId=l),"onUpdate:modelValue":t[1]||(t[1]=s=>e.action.targetId=s)},null,544),[[z,e.action.targetId]])]),r("p",{class:Pe(["label",e.components[e.action.targetId]?"":"red-text"])},f(e.t("view.target","TARGET"))+f(e.components[e.action.targetId]?": "+e.components[e.action.targetId].name:e.t("view.notFound"," NOT FOUND!")),3),r("div",gp,[r("span",vp,f(e.t("visibility.visible","Visible")),1),U(r("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=s=>e.action.visibility=s)},null,512),[[Qe,e.action.visibility]])]),r("p",yp,f(e.t(e.action.visibility?"visibility.makeVisible":"visibility.makeInvisible",e.action.visibility?"Action will make component visible":"Action will make component invisible")),1)])}const bp=re(pp,[["render",wp],["__scopeId","data-v-19d70e46"]]),$p=oe({data(){return{t:q}},props:{action:{type:Object,required:!0}}}),Cp={class:"settings-row"},Ip={class:"label"},Tp={class:"settings-row switch-row"};function Ep(e,t,n,i,o,a){return I(),E("div",null,[r("div",Cp,[r("span",Ip,f(e.t("permission.permission","Permission")),1),U(r("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>e.action.permission=s)},null,512),[[z,e.action.permission]])]),r("div",Tp,[r("span",{class:Pe(["label",e.action.add?"active":""]),onClick:t[1]||(t[1]=s=>e.action.add=!0)},f(e.t("permission.add","ADD")),3),K(""+f(e.t("permission.or","or"))+" ",1),r("span",{class:Pe(["label",e.action.add?"":"active"]),onClick:t[2]||(t[2]=s=>e.action.add=!1)},f(e.t("permission.remove","REMOVE")),3),K(""+f(e.t("permission.permissionLower","permission")),1)])])}const Sp=re($p,[["render",Ep],["__scopeId","data-v-4f413b47"]]),Ap=oe({data(){return{t:q}},props:{component:{type:Object,required:!0}}}),kp={id:"templateSettings"},Np=["value","onChange"],Dp={value:!0},Mp={value:!1},Pp=["onUpdate:modelValue"],Rp=["onUpdate:modelValue"],xp=["onUpdate:modelValue"],Op=["onClick"],Up={class:"text"};function Lp(e,t,n,i,o,a){return I(),E("div",kp,[(I(!0),E(le,null,Xe(e.component.defaultData,(s,l)=>(I(),E("div",{key:l,class:"settings-row"},[r("select",{value:typeof s.value=="number",onChange:d=>d.target.value=="true"?s.value=123:s.value="value"},[r("option",Dp,f(e.t("common.number","Number")),1),r("option",Mp,f(e.t("common.text","Text")),1)],40,Np),t[1]||(t[1]=r("span",{class:"label"},"#",-1)),U(r("input",{type:"text","onUpdate:modelValue":d=>s.name=d},null,8,Pp),[[z,s.name]]),t[2]||(t[2]=r("span",{class:"label"},"=",-1)),typeof s.value=="number"?U((I(),E("input",{key:0,type:"number","onUpdate:modelValue":d=>s.value=d},null,8,Rp)),[[z,s.value,void 0,{number:!0}]]):U((I(),E("input",{key:1,type:"text","onUpdate:modelValue":d=>s.value=d},null,8,xp)),[[z,s.value]]),r("span",{class:"material-icons closeIcon",onClick:d=>e.component.defaultData.splice(l,1)},"close",8,Op)]))),128)),r("div",{class:"btn",onClick:t[0]||(t[0]=s=>e.component.defaultData.push({name:"varName",value:"value"}))},[t[3]||(t[3]=r("span",{class:"material-icons"},"add",-1)),r("span",Up,f(e.t("template.addVariable","Add variable")),1)]),r("p",null,f(e.t("template.help","Use #variableName in text fields or actions. Ensure every variable has a value. In number inputs you can press '#' to switch to text input (for supported fields).")),1)])}const Fp=re(Ap,[["render",Lp]]);class ge{constructor(t,n,i,o){this.x=t,this.y=n,this.width=i,this.height=o}static EMPTY=new ge(0,0,0,0);isInside(t){return t.x>=this.x&&t.x<this.x+this.width&&t.y>=this.y&&t.y<this.y+this.height}ensureBounds(t,n){Ti.value||(this.x==null&&(this.x=0),this.y==null&&(this.y=0),this.width==null&&(this.width=0),this.height==null&&(this.height=0),this.x<0&&(this.x=0),this.y<0&&(this.y=0),this.width<=0&&(this.width=1),this.height<=0&&(this.height=1),this.width>t&&(this.width=t),this.height>n&&(this.height=n),this.x+this.width>t&&(this.x=t-this.width),this.y+this.height>n&&(this.y=n-this.height))}}const Vp=oe({data(){return{t:q}}}),Bp={class:"settings-row"},Hp={class:"label"};function Gp(e,t,n,i,o,a){return I(),E("div",Bp,[r("span",Hp,f(e.t("empty.none","This component has no specific settings")),1)])}const Cl=re(Vp,[["render",Gp]]);class Qi{constructor(t,n,i){this.id=t,this.name=n,this.clickAction=i}hideable=!0;resizeable=!1;actionable=!0;locked=!1;resizeStartBounds;setId(t){this.id=t}startResize(t){this.resizeStartBounds=t}endResize(){this.resizeStartBounds=void 0}toJson(t){const n={id:this.id,name:this.name,action:this.clickAction.map(i=>i.toJsonObj()),...this.toDataObj(t||!1)};return t||(n.locked=this.locked),JSON.stringify(n)}refineSelection(t){return this}isGroup(){return!1}contains(t){return this.id==t?!0:this.isGroup()?this.getItems().some(n=>n.contains(t)):!1}duplicate(){const t=es(JSON.parse(this.toJson()),!0);return t||null}delete(){pr(this)}}class Se extends Qi{constructor(t,n,i,o,a){super(t,n,i),this.id=t,this.name=n,this.clickAction=i,this.components=o,this.expanded=a}static displayName="Group";static icon="folder";static childComponentProps=["components"];displayName=Se.displayName;icon=Se.icon;vueComponent=ce(Cl);draw(t){for(let n=this.components.length-1;n>=0;n--){const i=this.components[n];Yt(i.id)||i.draw(t)}}getBoundingBox(){let t=-1,n=-1,i=0,o=0;return this.components.forEach(a=>{const s=a.getBoundingBox();s!=ge.EMPTY&&((s.x<t||t==-1)&&(t=s.x),(s.y<n||n==-1)&&(n=s.y),s.x+s.width>i&&(i=s.x+s.width),s.y+s.height>o&&(o=s.y+s.height))}),t===-1||n===-1?ge.EMPTY:new ge(t,n,i-t,o-n)}modify(t){const n=this.getBoundingBox(),i=t.x-n.x,o=t.y-n.y;this.components.forEach(a=>{const s=a.getBoundingBox();a.modify(new ge(s.x+i,s.y+o,s.width,s.height))})}refineSelection(t){return this.components.find(n=>n.getBoundingBox().isInside(t)&&!Yt(n.id))||this}isGroup(){return!0}getItems(){return this.components}toDataObj(t){return{type:this.displayName,components:this.components.map(n=>JSON.parse(n.toJson(t))),expanded:this.expanded}}static componentsFromJson(t){const n=[];return t.forEach(i=>{const o=es(i);o?n.push(o):console.error("Invalid component: ",i)}),n}static fromJson(t,n){const i=Se.componentsFromJson(t.components);return new Se(t.id,t.name,n,i,t.expanded)}static generator(){return new Se("-",Se.displayName,[],[],!0)}delete(){super.delete(),this.components.forEach(t=>t.delete())}}function Jt(e,t){return e=e.toUpperCase(),"rgba("+parseInt(e.slice(-6,-4),16)+","+parseInt(e.slice(-4,-2),16)+","+parseInt(e.slice(-2),16)+","+t+")"}function Wp(e){const t=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);return t?{hex:"#"+(Number.parseInt(t[1])|256).toString(16).slice(1)+(Number.parseInt(t[2])|256).toString(16).slice(1)+(Number.parseInt(t[3])|256).toString(16).slice(1),alpha:Number.parseFloat(t[4])}:{hex:"#FFFFFF",alpha:1}}function Pi(){const e="0123456789ABCDEF";let t="#";for(let n=0;n<6;n++)t+=e[Math.floor(Math.random()*16)];return t}function Il(){return Jt(Pi(),1)}function Tl(e,t=null,n,i){const o=l=>`${l}#${n}`,a=i.map(l=>{let d=l.toJson(!0);for(const m of e){let c=m.value;typeof c=="number"?(d=d.replace(new RegExp(`"#${m.name}"`,"g"),c.toString()),d=d.replace(new RegExp(`#${m.name}`,"g"),c.toString())):(/#[0-9A-F]{6},((1(\.0)?)|0\.[0-9]+|0)/g.test(c.toUpperCase())&&(c=Jt(c.split(",")[0],Number.parseFloat(c.split(",")[1]))),/#[0-9A-F]{6}/.test(c.toUpperCase())&&(c=Jt(c,1)),d=d.replace(new RegExp(`#${m.name}`,"g"),c))}return d}).map(l=>es(Fl(JSON.parse(l),o))),s=new Se(n,"-",[],a,!0);if(t){const l=s.getBoundingBox();l.x=t.x,l.y=t.y,s.modify(l)}return s}class Je extends Se{constructor(t,n,i,o,a,s){super(t,n,i,o,a),this.id=t,this.name=n,this.clickAction=i,this.components=o,this.expanded=a,this.defaultData=s}static inputTransformer=(t,n)=>{if(t.key=="#"){const i=t.target;i.type!="text"&&(i.type="text",i.value=n.toString(),t.preventDefault())}};static displayName="Template";static icon="book";displayName=Je.displayName;icon=Je.icon;vueComponent=ce(Fp);actionable=!1;transpileToGroup(t=this.defaultData,n=null,i=this.id){return Tl(t,n,i,this.components)}draw(t){this.transpileToGroup().draw(t)}toDataObj(t){return t?this.transpileToGroup().toDataObj(t):{defaultData:this.defaultData,...super.toDataObj()}}static fromJson(t,n){const i=Se.componentsFromJson(t.components);return new Je(t.id,t.name,n,i,t.expanded,t.defaultData)}static generator(){return new Je("-",Je.displayName,[],[],!0,[{name:"mainColor",value:"#26e686"},{name:"price",value:12}])}}const zp=oe({data(){return{inputTransformer:Je.inputTransformer,t:q}},props:{action:{type:Object,required:!0}}}),_p={class:"settings-row"},Jp={class:"label"};function Kp(e,t,n,i,o,a){return I(),E("div",null,[r("div",_p,[r("span",Jp,f(e.t("money.amount","Amount")),1),U(r("input",{type:"number",onKeypress:t[0]||(t[0]=s=>e.inputTransformer(s,e.action.amount)),"onUpdate:modelValue":t[1]||(t[1]=s=>e.action.amount=s)},null,544),[[z,e.action.amount,void 0,{number:!0}]])]),r("p",null,[t[2]||(t[2]=r("br",null,null,-1)),K(" "+f(e.t("money.negativeHint","Use negative amounts to remove money from a player."))+" ",1),t[3]||(t[3]=r("br",null,null,-1)),t[4]||(t[4]=r("br",null,null,-1)),K(" "+f(e.t("money.actionResult","This action will {mode} {amount} money for the player.").replace("{mode}",e.action.amount>=0?e.t("money.add","add"):e.t("money.remove","remove")).replace("{amount}",Math.abs(e.action.amount).toString())),1)])])}const qp=re(zp,[["render",Kp]]),Yp=oe({data(){return{components:rt,idWatcher:Vn,t:q}},props:{action:{type:Object,required:!0}},methods:{isChild(){const e=this.components[this.action.targetId];return e&&e.components&&e.components.find(t=>t.id==this.action.activate)}}}),jp={id:"viewSettings"},Xp={class:"settings-row"},Qp={class:"label"},Zp={class:"settings-row"},ef={class:"label"};function tf(e,t,n,i,o,a){return I(),E("div",jp,[r("div",Xp,[r("span",Qp,f(e.t("view.viewId","View ID")),1),U(r("input",{type:"text",class:"componentIdInput",onFocus:t[0]||(t[0]=s=>e.idWatcher=l=>e.action.targetId=l),"onUpdate:modelValue":t[1]||(t[1]=s=>e.action.targetId=s)},null,544),[[z,e.action.targetId]])]),r("p",{class:Pe(["label",e.components[e.action.targetId]&&e.components[e.action.targetId].displayName=="View"?"":"red-text"])},f(e.t("view.target","TARGET"))+f(e.components[e.action.targetId]?e.components[e.action.targetId].displayName!="View"?e.t("view.notView"," is not a View"):": "+e.components[e.action.targetId].name:e.t("view.notFound"," NOT FOUND!")),3),r("div",Zp,[r("span",ef,f(e.t("view.targetId","Target ID")),1),U(r("input",{type:"text",class:"componentIdInput",onFocus:t[2]||(t[2]=s=>e.idWatcher=l=>e.action.activate=l),"onUpdate:modelValue":t[3]||(t[3]=s=>e.action.activate=s)},null,544),[[z,e.action.activate]])]),r("p",{class:Pe(["label",e.components[e.action.activate]&&e.isChild()?"":"red-text"])},f(e.t("view.target","TARGET"))+f(e.components[e.action.activate]?e.isChild()?": "+e.components[e.action.activate].name:e.t("view.notChild","is not a direct child of view"):e.t("view.notFound"," NOT FOUND!")),3),r("p",null,f(e.t("view.desc","This action will make the specified view display the specified target for this player.")),1)])}const nf=re(Yp,[["render",tf],["__scopeId","data-v-84fa50df"]]),sf=oe({data(){return{t:q}},props:{action:{type:Object,required:!0}}}),of={class:"settings-row"},rf={class:"label"},af={key:0,class:"settings-row"},lf={class:"label"},df={class:"settings-row"},uf={class:"label"},cf=["checked"];function pf(e,t,n,i,o,a){return I(),E("div",null,[r("div",of,[r("span",rf,f(e.t("metadata.key","Metadata key")),1),U(r("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>e.action.key=s)},null,512),[[z,e.action.key]])]),e.action.value!==void 0?(I(),E("div",af,[r("span",lf,f(e.t("metadata.newValue","New value")),1),U(r("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=s=>e.action.value=s)},null,512),[[z,e.action.value]])])):me("",!0),r("div",df,[r("span",uf,f(e.t("metadata.deleteValue","Delete value")),1),r("input",{type:"checkbox",checked:e.action.value===void 0,onChange:t[2]||(t[2]=s=>e.action.value=e.action.value===void 0?"":void 0)},null,40,cf)]),t[3]||(t[3]=r("br",null,null,-1)),r("p",null,f(e.t("metadata.desc","This action changes the value of %meta.{key}%. You can use metadata anywhere in the GUI, e.g. in placeholder checks.").replace("{key}",e.action.key)),1)])}const ff=re(sf,[["render",pf]]),hf=oe({data(){return{inputTransformer:Je.inputTransformer,t:q}},props:{action:{type:Object,required:!0}}}),mf={class:"settings-row"},gf={class:"input-box"};function vf(e,t,n,i,o,a){return I(),E("div",null,[r("div",mf,[r("div",gf,[U(r("input",{type:"number",onKeypress:t[0]||(t[0]=s=>e.inputTransformer(s,e.action.ticks)),"onUpdate:modelValue":t[1]||(t[1]=s=>e.action.ticks=s)},null,544),[[z,e.action.ticks,void 0,{number:!0}]]),r("span",null,f(e.t("delay.ticks","ticks")),1)])]),r("p",null,f(e.t("delay.desc","This action will delay its child actions by the given amount of ticks (1 tick = 50ms)")),1)])}const yf=re(hf,[["render",vf]]),wf=oe({data(){return{components:rt,idWatcher:Vn,t:q}},props:{action:{type:Object,required:!0}}}),bf={id:"gifContrSettings"},$f={class:"settings-row"},Cf={class:"label"},If={class:"settings-row"},Tf={class:"label"},Ef={class:"settings-row"},Sf={class:"label"},Af={class:"label"},kf={key:0};function Nf(e,t,n,i,o,a){return I(),E("div",bf,[r("div",$f,[r("span",Cf,f(e.t("gif.targetId","GIF Component ID")),1),U(r("input",{type:"text",class:"componentIdInput",onFocus:t[0]||(t[0]=s=>e.idWatcher=l=>e.action.targetId=l),"onUpdate:modelValue":t[1]||(t[1]=s=>e.action.targetId=s)},null,544),[[z,e.action.targetId]])]),r("p",{class:Pe(["label",e.components[e.action.targetId]&&e.components[e.action.targetId].displayName=="GIF"?"":"red-text"])},f(e.t("gif.target","TARGET"))+f(e.components[e.action.targetId]?e.components[e.action.targetId].displayName!="GIF"?e.t("gif.notGif"," is not a GIF"):": "+e.components[e.action.targetId].name:e.t("gif.notFound"," NOT FOUND!")),3),r("div",If,[r("span",Tf,f(e.t("gif.pause","Pause GIF")),1),U(r("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=s=>e.action.pause=s)},null,512),[[Qe,e.action.pause]])]),r("div",Ef,[r("span",Sf,f(e.t("gif.reset","Reset GIF")),1),U(r("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=s=>e.action.reset=s)},null,512),[[Qe,e.action.reset]])]),r("p",Af,[K(f(e.t(e.action.pause?"gif.pauseDesc":"gif.unpauseDesc",e.action.pause?"Action will pause the GIF":"Action will unpause the GIF"))+" ",1),e.action.reset?(I(),E("span",kf,f(e.t("gif.resetDesc","and reset it to its first frame")),1)):me("",!0)])])}const Df=re(wf,[["render",Nf],["__scopeId","data-v-8c802bf3"]]),Mf=oe({data(){return{components:rt,idWatcher:Vn,t:q}},props:{action:{type:Object,required:!0}}}),Pf={id:"visCheckSettings"},Rf={class:"settings-row"},xf={class:"label"},Of={class:"settings-row"},Uf={class:"label"},Lf={value:!0},Ff={value:!1},Vf={class:"label"};function Bf(e,t,n,i,o,a){return I(),E("div",Pf,[r("div",Rf,[r("span",xf,f(e.t("listNext.viewId","View ID")),1),U(r("input",{type:"text",ref:"test",class:"componentIdInput",onFocus:t[0]||(t[0]=s=>e.idWatcher=l=>e.action.targetId=l),"onUpdate:modelValue":t[1]||(t[1]=s=>e.action.targetId=s)},null,544),[[z,e.action.targetId]])]),r("p",{class:Pe(["label",e.components[e.action.targetId]&&e.components[e.action.targetId].displayName=="View"?"":"red-text"])},f(e.t("listNext.target","TARGET"))+f(e.components[e.action.targetId]?e.components[e.action.targetId].displayName!="View"?e.t("listNext.notView"," is not a view"):": "+e.components[e.action.targetId].name:e.t("listNext.notFound"," NOT FOUND!")),3),r("div",Of,[r("span",Uf,f(e.t("listNext.goTo","Go to")),1),U(r("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>e.action.forward=s),style:{"margin-right":"8px"}},[r("option",Lf,f(e.t("listNext.next","next")),1),r("option",Ff,f(e.t("listNext.previous","previous")),1)],512),[[si,e.action.forward]]),r("span",Vf,f(e.t("listNext.pageIfPossible","page, if possible")),1)])])}const ia=re(Mf,[["render",Bf],["__scopeId","data-v-5ac7a43f"]]);class kn extends pt{constructor(t){super(),this.message=t}static id="Message";id=kn.id;static fromJson(t){return new kn(t.message)}toDataObj(){return{message:this.message}}}class Nn extends pt{constructor(t,n){super(),this.targetId=t,this.visibility=n}static id="Visibility";id=Nn.id;static fromJson(t){return new Nn(t.targetId,t.visibility)}toDataObj(){return{targetId:this.targetId,visibility:this.visibility}}}class Dn extends pt{constructor(t,n){super(),this.targetId=t,this.activate=n}static id="View";id=Dn.id;static fromJson(t){return new Dn(t.targetId,t.activate)}toDataObj(){return{targetId:this.targetId,activate:this.activate}}}const Hf=oe({data(){return{inputTransformer:Je.inputTransformer,t:q}},watch:{action:{deep:!0,handler(e){e.amount===""&&(this.action.amount=0)}}},props:{action:{type:Object,required:!0}}}),Gf={class:"settings-row"},Wf={class:"input-box"},zf={class:"label"},_f={class:"settings-row"},Jf={class:"label"};function Kf(e,t,n,i,o,a){return I(),E("div",null,[r("div",Gf,[r("div",Wf,[U(r("input",{type:"number",onKeypress:t[0]||(t[0]=s=>e.inputTransformer(s,e.action.amount)),"onUpdate:modelValue":t[1]||(t[1]=s=>e.action.amount=s)},null,544),[[z,e.action.amount,void 0,{number:!0}]]),r("span",zf,f(e.t("item.amount","Amount")),1)])]),r("div",_f,[r("span",Jf,f(e.t("item.name","Item name")),1),U(r("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=s=>e.action.itemName=s)},null,512),[[z,e.action.itemName]])]),r("p",null,f(e.t("item.desc","Checks whether the player has at least the specified amount of the given item. Press F3+H in-game and hover an item to see its name.")),1)])}const qf=re(Hf,[["render",Kf]]);class Yn{constructor(t,n){this.amount=t,this.itemName=n}static id="Item Check";static component=ce(qf);name=Yn.id;static fromJson(t){return new Yn(t.amount,t.itemName)}toCheckDataObj(){return{amount:this.amount,itemName:this.itemName}}static generator(){return new Yn(3,"gold_ingot")}}const Yf=oe({data(){return{inputTransformer:Je.inputTransformer,t:q}},watch:{"action.amount":{handler(e){e===""&&(this.action.amount=0)}}},props:{action:{type:Object,required:!0}}}),jf={class:"settings-row"},Xf={class:"input-box"},Qf={class:"label"};function Zf(e,t,n,i,o,a){return I(),E("div",null,[r("div",jf,[r("div",Xf,[U(r("input",{type:"number",onKeypress:t[0]||(t[0]=s=>e.inputTransformer(s,e.action.amount)),"onUpdate:modelValue":t[1]||(t[1]=s=>e.action.amount=s)},null,544),[[z,e.action.amount,void 0,{number:!0}]]),r("span",Qf,f(e.t("money.amount","Amount")),1)])]),r("p",null,f(e.t("money.desc","Used to check whether the player has at least the specified amount of money (through Vault)")),1)])}const eh=re(Yf,[["render",Zf]]);class jn{constructor(t){this.amount=t}static id="Money Check";static component=ce(eh);name=jn.id;static fromJson(t){return new jn(t.amount)}toCheckDataObj(){return{amount:this.amount}}static generator(){return new jn(30)}}const th=oe({data(){return{t:q}},props:{action:{type:Object,required:!0}}}),nh={class:"settings-row"},ih={class:"label"};function sh(e,t,n,i,o,a){return I(),E("div",null,[r("div",nh,[r("span",ih,f(e.t("permission.permission","Permission")),1),U(r("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>e.action.permission=s)},null,512),[[z,e.action.permission]])])])}const oh=re(th,[["render",sh]]);class Un{constructor(t){this.permission=t}static id="Permission Check";static component=ce(oh);name=Un.id;static fromJson(t){return new Un(t.permission)}toCheckDataObj(){return{permission:this.permission}}static generator(){return new Un("ag.group.premium")}}const rh=oe({data(){return{components:rt,idWatcher:Vn,t:q}},props:{action:{type:Object,required:!0}}}),ah={id:"visCheckSettings"},lh={class:"settings-row"},dh={class:"label"};function uh(e,t,n,i,o,a){return I(),E("div",ah,[r("div",lh,[r("span",dh,f(e.t("visibility.componentId","Component ID")),1),U(r("input",{type:"text",ref:"test",class:"componentIdInput",onFocus:t[0]||(t[0]=s=>e.idWatcher=l=>e.action.targetId=l),"onUpdate:modelValue":t[1]||(t[1]=s=>e.action.targetId=s)},null,544),[[z,e.action.targetId]])]),r("p",{class:Pe(["label",e.components[e.action.targetId]?"":"red-text"])},f(e.t("view.target","TARGET"))+f(e.components[e.action.targetId]?": "+e.components[e.action.targetId].name:e.t("view.notFound"," NOT FOUND!")),3),r("p",null,f(e.t("visibility.checkDesc","Used to check whether the component is currently visible for the player")),1)])}const ch=re(rh,[["render",uh]]);class Xn{constructor(t){this.targetId=t}static id="Visibility Check";static component=ce(ch);name=Xn.id;static fromJson(t){return new Xn(t.targetId)}toCheckDataObj(){return{targetId:this.targetId}}static generator(){return new Xn("")}}const ph=oe({data(){return{t:q}},props:{action:{type:Object,required:!0}},computed:{compText(){switch(this.action.compType){case-1:return q("placeholder.textEqShort","text eq");case 0:return"<";case 1:return"<=";case 2:return"=";case 3:return">=";case 4:return">";default:return this.action.compType.toString()}}}}),fh={class:"settings-row"},hh={class:"label"},mh={class:"settings-row"},gh={class:"label"},vh={value:-1},yh={class:"settings-row"},wh={class:"label"},bh=["type"],$h={key:0},Ch={key:1};function Ih(e,t,n,i,o,a){return I(),E("div",null,[r("div",fh,[r("span",hh,f(e.t("placeholder.placeholder","Placeholder")),1),U(r("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>e.action.placeholder=s)},null,512),[[z,e.action.placeholder]])]),r("div",mh,[r("span",gh,f(e.t("placeholder.compType","Comparison Type")),1),U(r("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>e.action.compType=s)},[r("option",vh,f(e.t("placeholder.textEq","Text equals")),1),t[3]||(t[3]=r("option",{value:0},"<",-1)),t[4]||(t[4]=r("option",{value:1},"<=",-1)),t[5]||(t[5]=r("option",{value:2},"=",-1)),t[6]||(t[6]=r("option",{value:3},">=",-1)),t[7]||(t[7]=r("option",{value:4},">",-1))],512),[[si,e.action.compType,void 0,{number:!0}]])]),r("div",yh,[r("span",wh,f(e.t("placeholder.value","Value")),1),U(r("input",{type:e.action.compType==-1?"text":"number","onUpdate:modelValue":t[2]||(t[2]=s=>e.action.value=s)},null,8,bh),[[Wc,e.action.value]])]),e.action.compType==-1?(I(),E("p",$h,f(e.t("placeholder.descText",'Checks whether the placeholder {ph} has the value "{val}"').replace("{ph}",e.action.placeholder).replace("{val}",String(e.action.value))),1)):(I(),E("p",Ch,f(e.t("placeholder.descNumber","Checks whether: {ph} {cmp} {val}").replace("{ph}",e.action.placeholder).replace("{cmp}",e.compText).replace("{val}",String(e.action.value))),1))])}const Th=re(ph,[["render",Ih]]);var Ri=(e=>(e[e.STRING=-1]="STRING",e[e.LESS=0]="LESS",e[e.LESS_EQ=1]="LESS_EQ",e[e.EQUAL=2]="EQUAL",e[e.GREATER_EQ=3]="GREATER_EQ",e[e.GREATER=4]="GREATER",e))(Ri||{});class Le{constructor(t,n,i){this.placeholder=t,this.compType=n,this.value=i}static id="Placeholder Check";static numberId="Number Placeholder Check";static component=ce(Th);get name(){return this.compType===-1?Le.id:Le.numberId}static fromJson(t){return new Le(t.placeholder,t.comparisonType??t.compType??-1,t.value)}toCheckDataObj(){if(this.compType!==-1){const t=typeof this.value=="number"?this.value:Number.parseFloat(this.value);return{placeholder:this.placeholder,comparisonType:this.compType,value:Number.isFinite(t)?t:0}}return{placeholder:this.placeholder,value:this.value}}static generator(){return new Le("%armor_has_chestplate%",-1,"true")}static numberGenerator(){return new Le("%player_health%",2,"20")}}const Eh=oe({data(){return{t:q}},props:{action:{type:Object,required:!0}}});function Sh(e,t,n,i,o,a){return I(),E("div",null,[r("p",null,f(e.t("standby.desc","This check has no options. It checks whether the player is outside of the GUI interaction radius.")),1)])}const Ah=re(Eh,[["render",Sh]]);class Qn{static id="Standby Check";static component=ce(Ah);name=Qn.id;static fromJson(){return new Qn}toCheckDataObj(){return{}}static generator(){return new Qn}}const kh=oe({data(){return{components:rt,idWatcher:Vn,t:q}},props:{action:{type:Object,required:!0}}}),Nh={id:"visCheckSettings"},Dh={class:"settings-row"},Mh={class:"label"},Ph={class:"settings-row"},Rh={class:"label"},xh={value:!0},Oh={value:!1},Uh={class:"label"};function Lh(e,t,n,i,o,a){return I(),E("div",Nh,[r("div",Dh,[r("span",Mh,f(e.t("listNext.viewId","View ID")),1),U(r("input",{type:"text",ref:"test",class:"componentIdInput",onFocus:t[0]||(t[0]=s=>e.idWatcher=l=>e.action.targetId=l),"onUpdate:modelValue":t[1]||(t[1]=s=>e.action.targetId=s)},null,544),[[z,e.action.targetId]])]),r("p",{class:Pe(["label",e.components[e.action.targetId]&&e.components[e.action.targetId].displayName=="View"?"":"red-text"])},f(e.t("listNext.target","TARGET"))+f(e.components[e.action.targetId]?e.components[e.action.targetId].displayName!="View"?e.t("listNext.notView"," is not a view"):": "+e.components[e.action.targetId].name:e.t("listNext.notFound"," NOT FOUND!")),3),r("div",Ph,[r("span",Rh,f(e.t("listNext.checkIf","Check if there is a")),1),U(r("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>e.action.forward=s),style:{"margin-right":"8px"}},[r("option",xh,f(e.t("listNext.next","next")),1),r("option",Oh,f(e.t("listNext.previous","previous")),1)],512),[[si,e.action.forward]]),r("span",Uh,f(e.t("listNext.page","page")),1)])])}const Fh=re(kh,[["render",Lh]]);class Mt{constructor(t,n){this.targetId=t,this.forward=n}static id="View Next Check";static legacyId="List next Check";static component=ce(Fh);name=Mt.id;static fromJson(t){return new Mt(t.targetId,t.forward)}toCheckDataObj(){return{targetId:this.targetId,forward:this.forward}}static generator(){return new Mt("",!0)}}const Is=[Yn.id,jn.id,Un.id,Xn.id,Le.id,Le.numberId,Mt.id,Qn.id],Jn={[Yn.id]:Yn,[jn.id]:jn,[Un.id]:Un,[Xn.id]:Xn,[Le.id]:Le,[Mt.legacyId]:Mt,[Le.numberId]:{id:Le.numberId,component:Le.component,generator:Le.numberGenerator,fromJson:Le.fromJson},[Mt.id]:Mt,[Qn.id]:Qn};function El(e,t){return Jn[t].fromJson(e)}class nn extends pt{constructor(t,n,i){super(),this.check=t,this.actions=n,this.expanded=i}itemLimit=2;static icon="fact_check";icon=nn.icon;itemClasses=["posAction","negAction"];get id(){return this.check.name}toDataObj(){return{actions:this.actions.map(t=>t.toJsonObj()),expanded:this.expanded,check:{type:this.check.name,...this.check.toCheckDataObj()}}}getItems(){return this.actions}isGroup(){return!0}static fromJson(t){return new nn(El(t.check,t.check.type),Ws(t.actions),t.expanded)}isCheck(){return!0}}class hn extends pt{constructor(t,n,i){super(),this.ticks=t,this.children=n,this.expanded=i}static id="Delay";id=hn.id;static icon="timer";icon=hn.icon;toDataObj(){return{ticks:this.ticks,children:this.children.map(t=>t.toJsonObj()),expanded:this.expanded}}getItems(){return this.children}isGroup(){return!0}static fromJson(t){return new hn(t.ticks,Ws(t.children),t.expanded)}}class Mn extends pt{constructor(t,n,i){super(),this.targetId=t,this.pause=n,this.reset=i}static id="GIF Control";id=Mn.id;static fromJson(t){return new Mn(t.targetId,t.pause,t.reset)}toDataObj(){return{targetId:this.targetId,pause:this.pause,reset:this.reset}}}class $t extends pt{constructor(t,n){super(),this.targetId=t,this.forward=n}static id="View Next";static legacyId="List next";id=$t.id;static fromJson(t){return new $t(t.targetId,t.forward)}toDataObj(){return{targetId:this.targetId,forward:this.forward}}}class Pn extends pt{constructor(t,n){super(),this.key=t,this.value=n}static id="Metadata";id=Pn.id;static fromJson(t){return new Pn(t.key,t.value)}toDataObj(){return{key:this.key,value:this.value}}}class Rn extends pt{constructor(t){super(),this.amount=t}static id="Money";id=Rn.id;static fromJson(t){return new Rn(t.amount)}toDataObj(){return{amount:this.amount}}}class xn extends pt{constructor(t,n){super(),this.permission=t,this.add=n}static id="Permission";id=xn.id;static fromJson(t){return new xn(t.permission,t.add)}toDataObj(){return{permission:this.permission,add:this.add}}}const Vh=[pn.id,kn.id,Nn.id,Rn.id,xn.id,Mn.id,Dn.id,$t.id,Pn.id,hn.id,fn.id,...Is],Do={[pn.id]:{generator:()=>new pn("heal %player%",!0,!1),fromJson:pn.fromJson,icon:pn.icon,component:ce(rp)},[kn.id]:{generator:()=>new kn("&a&lHey there!"),fromJson:kn.fromJson,icon:kn.icon,component:ce(cp)},[Nn.id]:{generator:e=>new Nn(e.id,!0),fromJson:Nn.fromJson,icon:Nn.icon,component:ce(bp)},[Rn.id]:{generator:()=>new Rn(12),fromJson:Rn.fromJson,icon:Rn.icon,component:ce(qp)},[xn.id]:{generator:()=>new xn("essentials.fly",!0),fromJson:xn.fromJson,icon:xn.icon,component:ce(Sp)},[Mn.id]:{generator:()=>new Mn("",!0,!1),fromJson:Mn.fromJson,icon:Mn.icon,component:ce(Df)},[Dn.id]:{generator:()=>new Dn("",""),fromJson:Dn.fromJson,icon:Dn.icon,component:ce(nf)},[Pn.id]:{generator:()=>new Pn("my-variable-name","new value :)"),fromJson:Pn.fromJson,icon:Pn.icon,component:ce(ff)},[hn.id]:{generator:()=>new hn(20,[],!0),fromJson:hn.fromJson,icon:hn.icon,component:ce(yf)},[fn.id]:{generator:()=>new fn([],!0),fromJson:fn.fromJson,icon:fn.icon},[$t.id]:{generator:()=>new $t("",!0),fromJson:$t.fromJson,icon:$t.icon,component:ce(ia)},[$t.legacyId]:{generator:()=>new $t("",!0),fromJson:$t.fromJson,icon:$t.icon,component:ce(ia)},...Object.fromEntries(Is.map(e=>[e,{generator:()=>new nn(Jn[e].generator(),[],!0),fromJson:nn.fromJson,icon:nn.icon,component:ce(Jn[e].component)}])),...Object.fromEntries(Object.keys(Jn).filter(e=>!Is.includes(e)).map(e=>[e,{generator:()=>new nn(Jn[e].generator(),[],!0),fromJson:nn.fromJson,icon:nn.icon,component:ce(Jn[e].component)}]))};function nr(e){return Do[e.id].fromJson(e)}function Ws(e){return e.map(t=>nr(t))}const Bh=oe({data(){return{devMode:Ti,colorHex:"#FFFFFF",alpha:1,t:q}},props:{color:{type:String,required:!0},label:{type:String,default:""}},emits:["update:color"],watch:{color:{immediate:!0,handler(e){const t=Wp(e);this.colorHex=t.hex,this.alpha=t.alpha}}},methods:{updateColor(){this.$emit("update:color",Jt(this.colorHex,this.alpha))}}}),Hh={class:"settings-row"},Gh={class:"label"},Wh=["value"],zh={key:0,class:"settings-row"},_h={class:"label"},Jh=["value"];function Kh(e,t,n,i,o,a){return I(),E(le,null,[r("div",Hh,[r("span",Gh,f(e.label||e.t("color.default","Color")),1),U(r("input",{type:"color","onUpdate:modelValue":t[0]||(t[0]=s=>e.colorHex=s),onInput:t[1]||(t[1]=(...s)=>e.updateColor&&e.updateColor(...s))},null,544),[[z,e.colorHex]]),U(r("input",{type:"text",style:{"max-width":"60px"},"onUpdate:modelValue":t[2]||(t[2]=s=>e.colorHex=s),onInput:t[3]||(t[3]=(...s)=>e.updateColor&&e.updateColor(...s))},null,544),[[z,e.colorHex]]),r("input",{type:"number",style:{"max-width":"40px","text-align":"right"},value:e.alpha*100,onInput:t[4]||(t[4]=s=>{e.alpha=Math.max(Math.min(Math.round(s.target.value)/100,1),0),s.target.value=e.alpha*100,e.updateColor()})},null,40,Wh),t[6]||(t[6]=r("i",{style:{opacity:"0.5"}},"%",-1))]),e.devMode?(I(),E("div",zh,[r("span",_h,f(e.t("color.dev","Dev Color")),1),r("input",{type:"text",style:{"max-width":"157px"},value:e.color,onInput:t[5]||(t[5]=s=>e.$emit("update:color",s.target.value))},null,40,Jh)])):me("",!0)],64)}const ir=re(Bh,[["render",Kh]]),qh=oe({components:{ColorInput:ir},data(){return{inputTransformer:Je.inputTransformer,t:q}},props:{component:{type:Object,required:!0},maxHeight:{type:Number,required:!0},maxWidth:{type:Number,required:!0}},watch:{component:{deep:!0,handler(){this.ensureBounds()}}},methods:{ensureBounds(){const e=this.component.getBoundingBox();e.ensureBounds(this.maxWidth,this.maxHeight),this.component.modify(e);const t=Math.min(this.component.height,this.component.width);this.component.radius>t/2&&(this.component.radius=Math.floor(t/2))}}}),Yh={id:"rectEditor"},jh={class:"settings-row"},Xh={class:"label"},Qh={class:"label"},Zh={class:"settings-row"},em={class:"input-box"},tm={class:"input-box"},nm={class:"settings-row"},im={class:"input-box"},sm={class:"input-box"};function om(e,t,n,i,o,a){const s=He("color-input");return I(),E("div",Yh,[ve(s,{color:e.component.color,"onUpdate:color":t[0]||(t[0]=l=>e.component.color=l)},null,8,["color"]),r("div",jh,[r("span",Xh,f(e.t("rect.radius","Border-radius")),1),U(r("input",{type:"number",onkeypress:"return event.charCode >= 48 && event.charCode <= 57;",style:{width:"48px"},"onUpdate:modelValue":t[1]||(t[1]=l=>e.component.radius=l)},null,512),[[z,e.component.radius,void 0,{number:!0}]])]),t[14]||(t[14]=r("br",null,null,-1)),r("span",Qh,f(e.t("rect.dimensions","Dimensions")),1),r("div",Zh,[r("div",em,[U(r("input",{type:"number",onKeypress:t[2]||(t[2]=l=>e.inputTransformer(l,e.component.x)),"onUpdate:modelValue":t[3]||(t[3]=l=>e.component.x=l)},null,544),[[z,e.component.x,void 0,{number:!0}]]),t[10]||(t[10]=r("span",null,"X",-1))]),r("div",tm,[U(r("input",{type:"number",onKeypress:t[4]||(t[4]=l=>e.inputTransformer(l,e.component.width)),"onUpdate:modelValue":t[5]||(t[5]=l=>e.component.width=l)},null,544),[[z,e.component.width,void 0,{number:!0}]]),t[11]||(t[11]=r("span",null,"W",-1))])]),r("div",nm,[r("div",im,[U(r("input",{type:"number",onKeypress:t[6]||(t[6]=l=>e.inputTransformer(l,e.component.y)),"onUpdate:modelValue":t[7]||(t[7]=l=>e.component.y=l)},null,544),[[z,e.component.y,void 0,{number:!0}]]),t[12]||(t[12]=r("span",null,"Y",-1))]),r("div",sm,[U(r("input",{type:"number",onKeypress:t[8]||(t[8]=l=>e.inputTransformer(l,e.component.height)),"onUpdate:modelValue":t[9]||(t[9]=l=>e.component.height=l)},null,544),[[z,e.component.height,void 0,{number:!0}]]),t[13]||(t[13]=r("span",null,"H",-1))])])])}const rm=re(qh,[["render",om],["__scopeId","data-v-743e1d21"]]);class sr extends Qi{constructor(t,n,i,o,a,s,l){super(t,n,i),this.id=t,this.name=n,this.clickAction=i,this.x=o,this.y=a,this.width=s,this.height=l}getBoundingBox(){return new ge(this.x,this.y,this.width,this.height)}}class gt extends sr{constructor(t,n,i,o,a,s,l,d,m){super(t,n,i,o,a,s,l),this.id=t,this.name=n,this.clickAction=i,this.x=o,this.y=a,this.width=s,this.height=l,this.color=d,this.radius=m}static displayName="Rect";static icon="crop_free";displayName=gt.displayName;icon=gt.icon;vueComponent=ce(rm);resizeable=!0;draw(t){t.fillStyle=this.color,t.beginPath(),t.moveTo(this.x+this.radius,this.y),t.lineTo(this.x+this.width-this.radius,this.y),t.quadraticCurveTo(this.x+this.width,this.y,this.x+this.width,this.y+this.radius),t.lineTo(this.x+this.width,this.y+this.height-this.radius),t.quadraticCurveTo(this.x+this.width,this.y+this.height,this.x+this.width-this.radius,this.y+this.height),t.lineTo(this.x+this.radius,this.y+this.height),t.quadraticCurveTo(this.x,this.y+this.height,this.x,this.y+this.height-this.radius),t.lineTo(this.x,this.y+this.radius),t.quadraticCurveTo(this.x,this.y,this.x+this.radius,this.y),t.closePath(),t.fill()}modify(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}toDataObj(){return{type:gt.displayName,x:this.x,y:this.y,width:this.width,height:this.height,color:this.color,radius:this.radius}}static fromJson(t,n){return new gt(t.id,t.name,n,t.x,t.y,t.width,t.height,t.color,t.radius)}static generator(){return new gt("-",gt.displayName,[],10,10,80,40,Il(),0)}}function Sl(e){const t=new FileReader;return t.readAsDataURL(e),new Promise(n=>{t.onload=function(){n(t.result)}})}const Ts=["Anton","Bitter","IndieFlower","Oswald","PermanentMarker","PressStart2P","Roboto","VT323","Yoster"],or={},Ci=wn([]),am="/AdvancedGUI-CE/";async function Al(e){delete or[e],Ci.splice(Ci.indexOf(e),1)}async function kl(e,t){Ci.indexOf(t)!==-1&&Al(t);const n=new FontFace(t,await(await fetch(e)).arrayBuffer());await n.load(),document.fonts.add(n),or[t]={name:t,data:e},Ci.push(t)}async function Nl(e,t){const n=await Sl(e);await kl(n,t)}function lm(){for(const e of Ts)fetch(`${am}fonts/${e}.ttf`).then(t=>t.blob()).then(t=>Nl(t,e))}class Vt{constructor(t,n){this.x=t,this.y=n}}const bt=2,Dl=[{handle:e=>new Vt(e.x+e.width/2,e.y-bt),icon:"n-resize",singleAxisAction:!0,modifier:(e,t)=>new ge(t.x,t.y+e.y,t.width,t.height-e.y)},{handle:e=>new Vt(e.x+e.width+bt,e.y+e.height/2),icon:"e-resize",singleAxisAction:!0,modifier:(e,t)=>new ge(t.x,t.y,t.width+e.x,t.height)},{handle:e=>new Vt(e.x+e.width/2,e.y+e.height+bt),icon:"n-resize",singleAxisAction:!0,modifier:(e,t)=>new ge(t.x,t.y,t.width,t.height+e.y)},{handle:e=>new Vt(e.x-bt,e.y+e.height/2),icon:"e-resize",singleAxisAction:!0,modifier:(e,t)=>new ge(t.x+e.x,t.y,t.width-e.x,t.height)},{handle:e=>new Vt(e.x-bt,e.y-bt),icon:"nw-resize",singleAxisAction:!1,modifier:(e,t)=>new ge(t.x+e.x,t.y+e.y,t.width-e.x,t.height-e.y)},{handle:e=>new Vt(e.x+e.width+bt,e.y-bt),icon:"ne-resize",singleAxisAction:!1,modifier:(e,t)=>new ge(t.x,t.y+e.y,t.width+e.x,t.height-e.y)},{handle:e=>new Vt(e.x+e.width+bt,e.y+e.height+bt),icon:"nw-resize",singleAxisAction:!1,modifier:(e,t)=>new ge(t.x,t.y,t.width+e.x,t.height+e.y)},{handle:e=>new Vt(e.x-bt,e.y+e.height+bt),icon:"ne-resize",singleAxisAction:!1,modifier:(e,t)=>new ge(t.x+e.x,t.y,t.width-e.x,t.height+e.y)}];let rr=!1;document.addEventListener("keydown",e=>{rr=e.shiftKey});document.addEventListener("keyup",e=>{rr=e.shiftKey});const dm=(e,t)=>(rr&&(Math.abs(e.x)<Math.abs(e.y)?e.x=0:e.y=0),new ge(t.x+e.x,t.y+e.y,t.width,t.height)),In=4;function um(e,t){const n=t.getBoundingBox();e.strokeStyle="rgba(125, 125, 125, 0.6)",e.fillStyle="rgb(98, 96, 105)",e.lineWidth=1,e.setLineDash([4,6]),e.strokeRect(n.x-1.5,n.y-1.5,n.width+3,n.height+3),Dl.forEach(i=>{if(t.resizeable&&!Kt(t)){const o=i.handle(n);i.lastPosition=new ge(o.x-In/2,o.y-In/2,In,In),e.fillRect(o.x-In/2,o.y-In/2,In,In)}else i.lastPosition=void 0})}function sa(e){return Dl.find(t=>t.lastPosition!=null&&t.lastPosition.isInside(e))}const Re=wn({width:3,height:2,zoom:2,snapEnabled:!0,projectName:"Starter"}),cm=oe({data(){return{images:st,regImages:ei,unregisterImage:Ks,inputTransformer:Je.inputTransformer,t:q}},props:{component:{type:Object,required:!0},maxHeight:{type:Number,required:!0},maxWidth:{type:Number,required:!0}},watch:{component:{deep:!0,handler(){this.ensureBounds()}}},computed:{gifMode(){return this.component.displayName=="GIF"}},methods:{ensureBounds(){const e=this.component.getBoundingBox();e.ensureBounds(this.maxWidth,this.maxHeight),this.component.modify(e)},triggerFileSelector(){this.$refs.fileDownload.click()},checkForUpload(){const e=this.$refs.fileDownload;if(e.files?.length)for(const t of e.files)Ll(t,t.name.substr(0,t.name.length-4),this.gifMode)},fillCanvas(){this.component.keepImageRatio=!1,this.component.x=0,this.component.y=0,this.component.width=this.maxWidth,this.component.height=this.maxHeight}}}),pm={id:"imageEditor"},fm={class:"label heading"},hm=["value"],mm={class:"settings-row imageList"},gm=["onClick"],vm=["onClick"],ym={class:"imageName"},wm=["accept"],bm={class:"label"},$m={class:"settings-row"},Cm={class:"input-box"},Im={class:"input-box"},Tm={class:"settings-row"},Em={class:"input-box"},Sm={class:"input-box"},Am={class:"settings-row"},km={class:"settings-row"},Nm={class:"label"},Dm={class:"settings-row"},Mm={class:"label"},Pm={key:0,class:"settings-row"},Rm={class:"label"};function xm(e,t,n,i,o,a){return I(),E("div",pm,[r("div",fm,[K(f(e.gifMode?e.t("image.gif","GIF"):e.t("image.image","Image"))+" ",1),r("input",{type:"text",class:"imageNameInput",onInput:t[0]||(t[0]=s=>e.component.setImage(s.target.value)),value:e.component.image},null,40,hm)]),r("div",mm,[(I(!0),E(le,null,Xe(e.regImages.map(s=>e.images[s]).filter(s=>s.isGif==e.gifMode),s=>(I(),E("div",{class:Pe(["imageBox",e.component.image==s.name?"active":""]),key:s.name,style:ii({backgroundImage:`url(${s.data.src})`}),onClick:l=>e.component.setImage(s.name)},[r("div",{class:"delImage",onClick:fe(l=>e.unregisterImage(s.name),["stop"])},[...t[15]||(t[15]=[r("span",{class:"material-icons"},"close",-1)])],8,vm),r("div",ym,f(s.name),1)],14,gm))),128))]),r("div",{class:"btn",onClick:t[2]||(t[2]=s=>e.triggerFileSelector())},[t[16]||(t[16]=r("span",{class:"material-icons"},"add",-1)),K(" "+f(e.t("image.upload","Upload"))+" "+f(e.gifMode?e.t("image.gif","GIF"):e.t("image.image","image"))+" ",1),r("input",{type:"file",ref:"fileDownload",accept:e.gifMode?".gif":".png,.jpg",style:{display:"none"},multiple:"",onChange:t[1]||(t[1]=s=>e.checkForUpload())},null,40,wm)]),t[22]||(t[22]=r("br",null,null,-1)),r("span",bm,f(e.t("image.dimensions","Dimensions")),1),r("div",$m,[r("div",Cm,[U(r("input",{type:"number",onKeypress:t[3]||(t[3]=s=>e.inputTransformer(s,e.component.x)),"onUpdate:modelValue":t[4]||(t[4]=s=>e.component.x=s)},null,544),[[z,e.component.x,void 0,{number:!0}]]),t[17]||(t[17]=r("span",null,"X",-1))]),r("div",Im,[U(r("input",{type:"number",onKeypress:t[5]||(t[5]=s=>e.inputTransformer(s,e.component.width)),"onUpdate:modelValue":t[6]||(t[6]=s=>e.component.width=s)},null,544),[[z,e.component.width,void 0,{number:!0}]]),t[18]||(t[18]=r("span",null,"W",-1))])]),r("div",Tm,[r("div",Em,[U(r("input",{type:"number",onKeypress:t[7]||(t[7]=s=>e.inputTransformer(s,e.component.y)),"onUpdate:modelValue":t[8]||(t[8]=s=>e.component.y=s)},null,544),[[z,e.component.y,void 0,{number:!0}]]),t[19]||(t[19]=r("span",null,"Y",-1))]),r("div",Sm,[U(r("input",{type:"number",onKeypress:t[9]||(t[9]=s=>e.inputTransformer(s,e.component.height)),"onUpdate:modelValue":t[10]||(t[10]=s=>e.component.height=s)},null,544),[[z,e.component.height,void 0,{number:!0}]]),t[20]||(t[20]=r("span",null,"H",-1))])]),r("div",Am,[r("div",{class:"btn fillCanvas",onClick:t[11]||(t[11]=(...s)=>e.fillCanvas&&e.fillCanvas(...s))},[t[21]||(t[21]=r("span",{class:"material-icons"},"wallpaper",-1)),K(" "+f(e.t("image.fillCanvas","Fill canvas")),1)])]),r("div",km,[r("span",Nm,f(e.t("image.keepRatio","Keep ratio")),1),U(r("input",{type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=s=>e.component.keepImageRatio=s)},null,512),[[Qe,e.component.keepImageRatio]])]),r("div",Dm,[r("span",Mm,f(e.t("image.dithering","Dithering")),1),U(r("input",{type:"checkbox","onUpdate:modelValue":t[13]||(t[13]=s=>e.component.dithering=s)},null,512),[[Qe,e.component.dithering]])]),e.gifMode?(I(),E("div",Pm,[r("span",Rm,f(e.t("image.pause","Pause by default")),1),U(r("input",{type:"checkbox","onUpdate:modelValue":t[14]||(t[14]=s=>e.component.pausedByDefault=s)},null,512),[[Qe,e.component.pausedByDefault]])])):me("",!0)])}const Om=re(cm,[["render",xm],["__scopeId","data-v-7b1a8d9f"]]);class Ct extends sr{constructor(t,n,i,o,a,s,l,d,m,c){super(t,n,i,o,a,s,l),this.id=t,this.name=n,this.clickAction=i,this.x=o,this.y=a,this.width=s,this.height=l,this.image=d,this.keepImageRatio=m,this.dithering=c,this.lastResizeWidth=s,this.lastResizeHeight=l}static displayName="Image";static icon="image";displayName=Ct.displayName;icon=Ct.icon;vueComponent=ce(Om);resizeable=!0;lastResizeWidth;lastResizeHeight;draw(t){st[this.image]?t.drawImage(st[this.image].data,this.x,this.y,this.width,this.height):t.drawImage(document.getElementById("broken_TAKEN_ID"),Math.max(this.x,this.x+(this.width-20)/2),Math.max(this.y,this.y+(this.height-20)/2),Math.min(this.width,20),Math.min(this.height,20))}modify(t){this.x=t.x,this.y=t.y;const n=st[this.image]?.ratio??0;if(this.keepImageRatio&&Number.isFinite(n)&&n>0){const o=this.resizeStartBounds?.width??this.lastResizeWidth??this.width,a=this.resizeStartBounds?.height??this.lastResizeHeight??this.height,s=Math.abs(t.width-o),l=Math.abs(t.height-a);if(s>=l?(this.width=t.width,this.height=this.width/n):(this.height=t.height,this.width=this.height*n),!Ti.value){const m=Re.width*128,c=Re.height*128,h=Math.min(1,m/this.width,c/this.height);h<1&&(this.width*=h,this.height*=h);const C=new ge(this.x,this.y,this.width,this.height);C.ensureBounds(m,c),this.x=C.x,this.y=C.y,this.width=C.width,this.height=C.height}}else this.width=t.width,this.height=t.height;this.lastResizeWidth=this.width,this.lastResizeHeight=this.height}setImage(t){if(this.keepImageRatio&&st[this.image]&&st[t]){const n=st[this.image].ratio,i=st[t].ratio;n>i?this.width=this.height*i:this.height=this.width/i}this.image=t,this.lastResizeWidth=this.width,this.lastResizeHeight=this.height}toDataObj(){return{type:this.displayName,x:this.x,y:this.y,width:this.width,height:this.height,image:this.image,keepImageRatio:this.keepImageRatio,dithering:this.dithering}}static fromJson(t,n){return new Ct(t.id,t.name,n,t.x,t.y,t.width,t.height,t.image,t.keepImageRatio,t.dithering)}static generator(){return new Ct("-",Ct.displayName,[],10,10,50,50,"Play",!0,!1)}}const Um=oe({data(){return{regFonts:Ci,t:q}},props:{font:String,size:Number},methods:{triggerFileSelector(){this.$refs.fileDownload.click()},checkForUpload(){const e=this.$refs.fileDownload;if(e.files?.length){const t=e.files[0];Nl(t,t.name.substr(0,t.name.length-4))}}}}),Lm={class:"settings-row"},Fm={class:"input-box"},Vm=["value"],Bm={class:"settings-row"},Hm={class:"input-box"},Gm=["value"],Wm=["value"],zm={class:"settings-row"};function _m(e,t,n,i,o,a){return I(),E(le,null,[r("div",Lm,[r("div",Fm,[r("input",{type:"number",value:e.size,onInput:t[0]||(t[0]=s=>e.$emit("update:size",Number(s.target.value)))},null,40,Vm),r("span",null,f(e.t("font.size","Size")),1)])]),r("div",Bm,[r("div",Hm,[r("select",{value:e.font,onInput:t[1]||(t[1]=s=>e.$emit("update:font",s.target.value))},[(I(!0),E(le,null,Xe(e.regFonts,s=>(I(),E("option",{style:ii({fontFamily:s}),key:s,value:s},f(s),13,Wm))),128))],40,Gm),r("span",null,f(e.t("font.font","Font")),1)])]),r("div",zm,[r("a",{onClick:t[2]||(t[2]=s=>e.triggerFileSelector())},f(e.t("font.upload","Upload custom font")),1),r("input",{type:"file",ref:"fileDownload",accept:".ttf",style:{display:"none"},onChange:t[3]||(t[3]=s=>e.checkForUpload())},null,544)])],64)}const Ml=re(Um,[["render",_m],["__scopeId","data-v-fa235f0c"]]),Jm=oe({data(){return{t:q}},components:{FontEditor:Ml,ColorInput:ir},props:{component:{type:Object,required:!0}},watch:{component:{deep:!0,handler(){this.ensureValues()}}},methods:{ensureValues(){this.component.x==null&&(this.component.x=0),this.component.y==null&&(this.component.y=0),this.component.size==null&&(this.component.size=0)}}}),Km={id:"textEditor"},qm={class:"settings-row"},Ym={class:"label"},jm={style:{"font-size":"10pt"}},Xm={class:"settings-row"},Qm={class:"label"},Zm={key:0,class:"settings-row"},eg={class:"label"},tg={class:"label"},ng={class:"settings-row"},ig={class:"alignOptions"},sg={class:"label heading"},og={class:"settings-row"},rg={class:"input-box"},ag={class:"input-box"};function lg(e,t,n,i,o,a){const s=He("color-input"),l=He("font-editor");return I(),E("div",Km,[ve(s,{color:e.component.color,"onUpdate:color":t[0]||(t[0]=d=>e.component.color=d),label:e.t("text.color","Color")},null,8,["color","label"]),r("div",qm,[r("span",Ym,f(e.t("text.text","Text")),1),U(r("textarea",{rows:5,"onUpdate:modelValue":t[1]||(t[1]=d=>e.component.text=d)},null,512),[[z,e.component.text]])]),r("p",jm,f(e.t("text.colors","You can change the color of words by using minecraft color codes (e.g. aTest for green).")),1),r("div",Xm,[r("span",Qm,f(e.t("text.containsPlaceholder","Contains placeholders")),1),U(r("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=d=>e.component.placeholder=d)},null,512),[[Qe,e.component.placeholder]])]),e.component.placeholder?(I(),E("div",Zm,[r("span",eg,f(e.t("text.preview","Preview Text")),1),U(r("textarea",{"onUpdate:modelValue":t[3]||(t[3]=d=>e.component.previewText=d)},null,512),[[z,e.component.previewText]])])):me("",!0),t[15]||(t[15]=r("br",null,null,-1)),r("span",tg,f(e.t("text.style","Style")),1),r("div",ng,[r("div",ig,[r("i",{class:Pe(["material-icons",e.component.alignment==0?"active":""]),onClick:t[4]||(t[4]=d=>e.component.alignment=0)}," format_align_left ",2),r("i",{class:Pe(["material-icons",e.component.alignment==1?"active":""]),onClick:t[5]||(t[5]=d=>e.component.alignment=1)}," format_align_center ",2),r("i",{class:Pe(["material-icons",e.component.alignment==2?"active":""]),onClick:t[6]||(t[6]=d=>e.component.alignment=2)}," format_align_right ",2)])]),ve(l,{font:e.component.font,"onUpdate:font":t[7]||(t[7]=d=>e.component.font=d),size:e.component.size,"onUpdate:size":t[8]||(t[8]=d=>e.component.size=d)},null,8,["font","size"]),r("div",sg,f(e.t("text.position","Position")),1),r("div",og,[r("div",rg,[U(r("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=d=>e.component.x=d)},null,512),[[z,e.component.x,void 0,{number:!0}]]),t[11]||(t[11]=K()),t[12]||(t[12]=r("span",null,"X",-1))]),r("div",ag,[U(r("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=d=>e.component.y=d)},null,512),[[z,e.component.y,void 0,{number:!0}]]),t[13]||(t[13]=K()),t[14]||(t[14]=r("span",null,"Y",-1))])])])}const dg=re(Jm,[["render",lg],["__scopeId","data-v-d5be38fd"]]),oa="";class ug{constructor(t,n,i,o){this.rawText=t,this.defaultColor=n,this.state=i;const a=t.split(`
`),s=[];let l=n;for(let d=0;d<a.length;d++){let m=a[d].trim();const c=[];let h=m.indexOf(oa);for(;h!==-1&&h!==m.length-1;){const C=m.substring(0,h);c.push({text:C,color:l,width:o.measureText(C).width});const A=m.substring(h+1,h+2);m=m.substring(h+2),l=this.getColor(A)||n,h=m.indexOf(oa)}c.push({text:m,color:l,width:o.measureText(m).width}),s[d]=c}this.fragments=s,this.width=Math.max(...this.fragments.map(d=>d.reduce((m,c)=>m+c.width,0)))}fragments=[];width=0;getLineCount(){return this.fragments.length}getLine(t){return this.fragments[t]}getColor(t){switch(t.toLowerCase()){case"a":return"rgb(85, 255, 85)";case"b":return"rgb(85, 255, 255)";case"c":return"rgb(255, 85, 85)";case"d":return"rgb(255, 85, 255)";case"e":return"rgb(255, 255, 85)";case"f":return"rgb(255, 255, 255)";case"0":return"rgb(0, 0, 0)";case"1":return"rgb(0, 0, 170)";case"2":return"rgb(0, 170, 0)";case"3":return"rgb(0, 170, 170)";case"4":return"rgb(170, 0, 0)";case"5":return"rgb(170, 0, 170)";case"6":return"rgb(255, 170, 0)";case"7":return"rgb(170, 170, 170)";case"8":return"rgb(85, 85, 85)";case"9":return"rgb(85, 85, 255)";default:return null}}}class dt extends Qi{constructor(t,n,i,o,a,s,l,d,m,c,h,C){super(t,n,i),this.id=t,this.name=n,this.clickAction=i,this.x=o,this.y=a,this.text=s,this.font=l,this.size=d,this.color=m,this.alignment=c,this.placeholder=h,this.previewText=C}static displayName="Text";static icon="text_fields";displayName=dt.displayName;icon=dt.icon;vueComponent=ce(dg);parsedText=null;draw(t){const n=this.placeholder?this.previewText:this.text;t.font=`${this.size}px ${this.font}`,(this.parsedText?.rawText!==n||this.parsedText.defaultColor!==this.color||this.parsedText.state!==t.font)&&(this.parsedText=new ug(n,this.color,t.font,t));const i=this.parsedText.getLineCount();for(let o=0;o<i;o++){const a=this.parsedText.getLine(o);let s=0;const l=a.reduce((d,m)=>d+m.width,0);for(const d of a)t.fillStyle=d.color,t.fillText(d.text,this.x-this.alignment/2*l+s,this.y-(i-1-o)*this.size),s+=d.width}}modify(t){this.x=t.x+this.alignment/2*(this.parsedText?.width||0),this.y=t.y+this.size*(this.parsedText?.getLineCount()||0)}getBoundingBox(){const t=this.parsedText?.getLineCount()||0;return new ge(this.x-this.alignment/2*(this.parsedText?.width||0),this.y-this.size*t,this.parsedText?.width||0,this.size*t)}toDataObj(){return{type:dt.displayName,x:this.x,y:this.y,text:this.text,font:this.font,size:this.size,color:this.color,alignment:this.alignment,placeholder:this.placeholder,previewText:this.previewText}}static fromJson(t,n){return new dt(t.id,t.name,n,t.x,t.y,t.text,t.font,t.size,t.color,t.alignment,t.placeholder,t.previewText)}static generator(){return new dt("-",dt.displayName,[],10,10,"Text","VT323",20,Il(),0,!1,"123")}}const cg=oe({data(){return{t:q}},props:{component:{type:Object,required:!0}}}),pg={id:"hoverSettings"},fg={class:"settings-row"},hg={class:"label"},mg={class:"settings-row"};function gg(e,t,n,i,o,a){return I(),E("div",pg,[r("div",fg,[U(r("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=s=>e.component.drawHovered=s)},null,512),[[Qe,e.component.drawHovered]]),r("span",hg,f(e.t("hover.show","Show hovered component")),1)]),r("div",mg,[r("p",null,f(e.t("hover.desc","The Hover component is a group with two components. The first is normal; the second shows when hovered.")),1)])])}const vg=re(cg,[["render",gg],["__scopeId","data-v-a61e56b5"]]);class zt extends Se{constructor(t,n,i,o,a,s){super(t,n,i,o,a),this.id=t,this.name=n,this.clickAction=i,this.components=o,this.expanded=a,this.drawHovered=s}static displayName="Hover";static icon="layers";displayName=zt.displayName;icon=zt.icon;vueComponent=ce(vg);itemLimit=2;itemClasses=["not-hovered","hovered"];getCurrentComponent(){return this.drawHovered?this.components[1]:this.components[0]}draw(t){const n=this.getCurrentComponent();n&&!Yt(n.id)&&n.draw(t)}refineSelection(t){const n=this.getCurrentComponent();return n?.getBoundingBox().isInside(t)?n:this}static fromJson(t,n){const i=Se.componentsFromJson(t.components);return new zt(t.id,t.name,n,i,t.expanded,t.drawHovered)}toDataObj(t){return{drawHovered:this.drawHovered,...super.toDataObj(t)}}static generator(){return new zt("-",zt.displayName,[],[],!0,!1)}}const yg=oe({data(){return{t:q}},props:{component:{type:Object,required:!0}}}),wg={id:"viewSettings"},bg={class:"settings-row"},$g={class:"input-box"},Cg=["value"],Ig={class:"settings-row"};function Tg(e,t,n,i,o,a){return I(),E("div",wg,[r("div",bg,[r("div",$g,[U(r("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.component.drawIndex=s)},[(I(!0),E(le,null,Xe(e.component.components,(s,l)=>(I(),E("option",{key:l,value:l},f(l==0?`${e.t("view.default","Default")} (${s.name})`:s.name),9,Cg))),128))],512),[[si,e.component.drawIndex]]),r("span",null,f(e.t("view.showComponent","Show component")),1)])]),r("div",Ig,[r("p",null,f(e.t("view.componentDesc","The View component is a group that can contain multiple components. The first is shown by default; with the view-change action you can show the others.")),1)])])}const Eg=re(yg,[["render",Tg],["__scopeId","data-v-f1a671d0"]]);class Nt extends Se{constructor(t,n,i,o,a,s){super(t,n,i,o,a),this.id=t,this.name=n,this.clickAction=i,this.components=o,this.expanded=a,this.drawIndex=s}static displayName="View";static icon="view_carousel";displayName=Nt.displayName;icon=Nt.icon;vueComponent=ce(Eg);itemClasses=["primary"];getCurrentComponent(){return this.components[this.drawIndex]||null}draw(t){const n=this.getCurrentComponent();n&&!Yt(n.id)&&n.draw(t)}refineSelection(t){const n=this.getCurrentComponent();return n?.getBoundingBox().isInside(t)?n:this}static fromJson(t,n){const i=Se.componentsFromJson(t.components);return new Nt(t.id,t.name,n,i,t.expanded,t.drawIndex)}toDataObj(t){return{drawIndex:this.drawIndex,...super.toDataObj(t)}}static generator(){return new Nt("-",Nt.displayName,[],[],!0,0)}}class _t extends Ct{constructor(t,n,i,o,a,s,l,d,m,c,h){super(t,n,i,o,a,s,l,d,m,c),this.id=t,this.name=n,this.clickAction=i,this.x=o,this.y=a,this.width=s,this.height=l,this.image=d,this.keepImageRatio=m,this.dithering=c,this.pausedByDefault=h}static displayName="GIF";static icon="slideshow";displayName=_t.displayName;icon=_t.icon;resizeable=!0;toDataObj(){return{pausedByDefault:this.pausedByDefault,...super.toDataObj()}}static fromJson(t,n){return new _t(t.id,t.name,n,t.x,t.y,t.width,t.height,t.image,t.keepImageRatio,t.dithering,t.pausedByDefault)}static generator(){return new _t("-",_t.displayName,[],10,10,50,50,"",!0,!1,!1)}}const Sg=oe({data(){return{checks:Jn,checkIDs:Is,error:fr,t:q}},props:{component:{type:Object,required:!0}}}),Ag={id:"checkCompSettings"},kg={class:"settings-row"},Ng={class:"label"},Dg={class:"settings-row"},Mg={class:"input-box"},Pg=["value"],Rg=["value"],xg={class:"settings-row"},Og={class:"settings-row"};function Ug(e,t,n,i,o,a){return I(),E("div",Ag,[r("div",kg,[U(r("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=s=>e.component.drawNegative=s)},null,512),[[Qe,e.component.drawNegative]]),r("span",Ng,f(e.t("check.showNegative","Show negative component")),1)]),r("div",Dg,[r("div",Mg,[r("select",{value:e.component.check.name,onChange:t[1]||(t[1]=s=>e.component.check=e.checks[s.target.value].generator())},[(I(!0),E(le,null,Xe(e.checkIDs,s=>(I(),E("option",{key:s,value:s},f(e.t(`action.${s}`,s)),9,Rg))),128))],40,Pg),r("span",null,f(e.t("check.type","Check-Type")),1)])]),r("div",xg,[(I(),kt(Io(e.checks[e.component.check.name].component),{action:e.component.check},null,8,["action"]))]),r("div",Og,[r("p",null,f(e.t("check.hint","The Check-Component is a Group-Component that can contain two components. The first one will be visible if the check passes and the second one when not.")),1)])])}const Lg=re(Sg,[["render",Ug],["__scopeId","data-v-a500cb1b"]]);class Dt extends Se{constructor(t,n,i,o,a,s,l){super(t,n,i,o,a),this.id=t,this.name=n,this.clickAction=i,this.components=o,this.expanded=a,this.drawNegative=s,this.check=l}static displayName="Check";static icon="fact_check";displayName=Dt.displayName;icon=Dt.icon;vueComponent=ce(Lg);itemLimit=2;itemClasses=["posAction","negAction"];getCurrentComponent(){return this.drawNegative?this.components[1]:this.components[0]}draw(t){const n=this.getCurrentComponent();n&&!Yt(n.id)&&n.draw(t)}refineSelection(t){const n=this.getCurrentComponent();return n?.getBoundingBox().isInside(t)?n:this}toDataObj(t){return{check:{type:this.check.name,...this.check.toCheckDataObj()},drawNegative:this.drawNegative,...super.toDataObj(t)}}static fromJson(t,n){const i=Se.componentsFromJson(t.components);return new Dt(t.id,t.name,n,i,t.expanded,t.drawNegative,El(t.check,t.check.type))}static generator(){return new Dt("-",Dt.displayName,[],[],!0,!1,Un.generator())}}const Et="1.0.9";function Lt(e,t){t(e),e.components&&e.components.forEach(n=>Lt(n,t))}function fi(e,t){t(e),e.actions&&e.actions.forEach(n=>fi(n,t))}function Fg(e,t){Object.keys(e).forEach(n=>delete e[n]),Object.assign(e,t)}function Pl(e){let t=e.version||"1.0.0";e.version=Et;const n=o=>{if(o&&(o.type===Mt.legacyId&&(o.type=Mt.id),o.type===Le.id||o.type===Le.numberId)){const a=o.comparisonType!==void 0?o.comparisonType:o.compType,s=a==null?NaN:Number.parseInt(a,10),l=Number.isFinite(s)?s:Ri.STRING;o.compType=l,l===Ri.STRING?(o.type=Le.id,delete o.comparisonType):(o.type=Le.numberId,o.comparisonType=l)}},i=o=>{if(!o)return;o.id==="List next"&&(o.id="View Next"),o.check&&n(o.check)};if(t=="1.0.0"&&(Lt(e.componentTree,o=>{o.action.forEach(a=>{fi(a,s=>{s.check&&Fg(s,{id:s.id,actions:s.actions,expanded:s.expanded===void 0?!0:s.expanded,check:{type:s.id,...s}})})})}),t="1.0.1"),t=="1.0.1"&&(Lt(e.componentTree,o=>{o.type==dt.displayName&&(o.previewText="123")}),t="1.0.2"),t=="1.0.2"&&(Lt(e.componentTree,o=>{o.type==zt.displayName&&(o.drawHovered=!1),o.type==Nt.displayName&&(o.drawIndex=0)}),t="1.0.3"),t=="1.0.3"&&(e.gifs=[],Lt(e.componentTree,o=>{o.action.forEach(a=>{fi(a,s=>{s.id==pn.id&&(s.asOperator=!1)})})}),t="1.0.4"),t=="1.0.4"&&(Lt(e.componentTree,o=>{(o.type==Ct.displayName||o.type==_t.displayName)&&(o.dithering=!1),o.type==Dt.displayName&&(o.drawNegative=!1)}),t="1.0.5"),t=="1.0.5"&&(Lt(e.componentTree,o=>{o.type==dt.displayName&&(o.alignment=0)}),t="1.0.6"),t=="1.0.6"){Lt(e.componentTree,a=>{a.type==gt.displayName&&(a.radius=0),a.type==Dt.displayName&&a.check?.type==Le.id&&(a.check.compType=Ri.STRING),a.action.forEach(s=>{fi(s,l=>{l.check?.type==Le.id&&(l.check.compType=Ri.STRING)})})});let o=JSON.stringify(e);o.match(/#[0-9A-Fa-f]{6}/g)?.forEach(a=>o=o.replace(a,Jt(a,1))),o=o.replaceAll("transparent","rgba(0,0,0,0)"),e=JSON.parse(o),t="1.0.7"}return t=="1.0.7"&&(Lt(e.componentTree,o=>{o.check&&n(o.check),o.action.forEach(a=>{fi(a,i)})}),t="1.0.8"),t=="1.0.8"&&(Lt(e.componentTree,o=>{o.check&&n(o.check),o.action.forEach(a=>{fi(a,i)})}),t="1.0.9"),e}function Zi(e,t="Unnamed"){const n=e.replace(/\s+/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,"");return n.length>0?n:t.replace(/\s+/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,"")||"Unnamed"}function ar(e,t){let n=e,i=2;for(;t.includes(n);)n=`${e}_${i}`,i+=1;return n}function Rl(e){if(!e)return null;const t={...e};t.type==="List next Check"&&(t.type="View Next Check");const n=t.comparisonType??t.compType,i=Number.parseInt(String(n),10),a=!Number.isFinite(i)||i===-1;if(t.type==="Placeholder Check"||t.type==="Number Placeholder Check")if(a)t.type="Placeholder Check",delete t.comparisonType;else{t.type="Number Placeholder Check",t.comparisonType=i;const s=typeof t.value=="number"?t.value:Number.parseFloat(String(t.value));t.value=Number.isFinite(s)?s:0}return delete t.compType,delete t.name,t}function Tn(e){if(!e)return null;if(Array.isArray(e))return e.length===0?null:e.length===1?Tn(e[0]):{id:"List",actions:e.map(Tn)};const t={...e},n=t.id;if(delete t.expanded,delete t.name,t.check&&(!t.check.type&&n&&(t.check.type=n),t.check=Rl(t.check)),t.check&&t.actions!==void 0){t.id="Check";const i=t.actions;t.positiveAction=i.length>0?Tn(i[0]):null,t.negativeAction=i.length>1?Tn(i[1]):null,delete t.actions}else t.id==="List"&&Array.isArray(t.actions)?t.actions=t.actions.map(Tn):t.id==="Delay"&&t.children?t.children=t.children.map(Tn):t.id==="List next"&&(t.id="View Next");return Array.isArray(t.actions)&&t.id!=="Check"&&t.id!=="List"&&(t.actions=t.actions.map(Tn)),t}function xl(e){const t={...e};if(t.action!==void 0?(t.clickAction=Tn(t.action),delete t.action):t.clickAction=null,t.hidden===void 0&&(t.hidden=!1),delete t.name,delete t.expanded,t.components&&Array.isArray(t.components)&&(t.components=t.components.map(i=>xl(i))),t.type==="View"){if(t.components){t.views=t.components,delete t.components;const i=t.drawIndex||0;t.views.length>0?t.defaultComponent=JSON.parse(JSON.stringify(t.views[i])):t.defaultComponent={type:"Dummy",id:t.id+"_dummy_default",clickAction:null,hidden:!1}}else t.views=[],t.defaultComponent={type:"Dummy",id:t.id+"_dummy_default",clickAction:null,hidden:!1};delete t.drawIndex}else if(t.type==="Group")t.components||(t.components=[]);else if(t.type==="Click Animation")t.components&&t.components.length>0?t.normal=t.components[0]:t.normal={type:"Dummy",id:t.id+"_dummy_normal",clickAction:null,hidden:!1},t.components&&t.components.length>1?t.clicked=t.components[1]:t.clicked=JSON.parse(JSON.stringify(t.normal)),delete t.components,delete t.drawClicked;else if(t.type==="Hover")t.components&&t.components.length>0?t.normal=t.components[0]:t.normal={type:"Dummy",id:t.id+"_dummy_normal",clickAction:null,hidden:!1},t.components&&t.components.length>1?t.hovered=t.components[1]:t.hovered={type:"Dummy",id:t.id+"_dummy_hovered",clickAction:null,hidden:!1},delete t.components,delete t.drawHovered;else if(t.type==="Remote Image")t.components&&t.components.length>0&&(t.loading=t.components[0]),t.imageUrl||(t.imageUrl=""),delete t.components,delete t.drawLoading,delete t.ratio,delete t.keepImageRatio;else if(t.type==="GIF")t.gifFrames={name:t.image,width:t.width,height:t.height,dithering:t.dithering},delete t.image,delete t.width,delete t.height,delete t.dithering;else if(t.type==="Image"){const i=t.image;t.image={name:i,width:t.width,height:t.height,dithering:t.dithering},delete t.width,delete t.height,delete t.dithering,delete t.keepImageRatio}else t.type==="Text"||t.type==="PlaceholderText"?((t.type==="PlaceholderText"||t.placeholder)&&(t.type="PlaceholderText"),delete t.placeholder,delete t.previewText,typeof t.font=="string"&&typeof t.size=="number"&&(t.font={name:t.font,size:t.size},delete t.size)):t.type==="Check"?(t.components&&Array.isArray(t.components)&&(t.components.length>0&&(t.positive=t.components[0]),t.components.length>1&&(t.negative=t.components[1])),t.check&&(t.check=Rl(t.check)),t.positive||(t.positive={type:"Dummy",id:t.id+"_dummy_pos",clickAction:null,hidden:!1}),t.negative||(t.negative={type:"Dummy",id:t.id+"_dummy_neg",clickAction:null,hidden:!1}),delete t.components,delete t.drawNegative):t.type==="Text-Input"&&(t.maxLength!==void 0&&(t.inputHandler=t.maxLength),delete t.maxLength,typeof t.font=="string"&&typeof t.size=="number"&&(t.font={name:t.font,size:t.size},delete t.size),(t.defaultInput===null||t.defaultInput===void 0)&&(t.defaultInput=""));return["drawClicked","drawHovered","drawLoading","drawNegative","drawIndex","ratio","keepImageRatio","maxLength","placeholder","previewText"].forEach(i=>delete t[i]),t}let ho=localStorage.getItem("bk");ho||(ho=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),localStorage.setItem("bk",ho));function Vg(){return new Se("component_tree","-",[],ct.value,!0)}function lr(e={}){const t=e.includeResources!==!1,n=e.includeExportedTree!==!1,i=Vg(),o=JSON.parse(i.toJson()),a=n?JSON.parse(i.toJson(!0)):{type:Se.displayName,components:[],expanded:!0},s={name:Zi(Re.projectName,q("project.unnamed","Unnamed")),version:Et,invisible:[...St.value],width:Re.width,height:Re.height,componentTree:o,exportedTree:{draft:a}};if(t){const l=[];ct.value.forEach(d=>Ns(d,m=>{m.displayName==Ct.displayName&&l.push(m.image)})),s.fonts=Object.values(or).filter(d=>!Ts.includes(d.name)),s.images=Object.values(st).filter(d=>!d.isGif).filter(d=>!Po.includes(d.name)||l.includes(d.name)).map(d=>({name:d.name,data:d.data.src})),s.gifs=Object.values(st).filter(d=>d.isGif).map(d=>({name:d.name,data:d.data.src}))}return s}async function Ol(e){function t(n){const i="data:text/json;charset=utf-8,"+encodeURIComponent(n),o=document.getElementById("downloadAnchor");o.setAttribute("href",i),o.setAttribute("download",e.name.replaceAll(" ","_")+".json"),o.click()}Xt(!0);try{const n=xl(e.exportedTree.draft);t(JSON.stringify({...e,invisible:e.invisible,exportedTree:{draft:e.exportedTree.draft,finalized:n}})),Xt(!1)}catch(n){const i=q("export.error","Error during export: {message}").replace("{message}",`${n?.message||n}`);fr(i)}}function Bg(e){if(e.version!=Et){const t=e.version,n=Pl(e);return qs(q("update.migrated",`Your savepoint was still on format-version <b>${t}</b> and got migrated to the new format-version <b>${Et}</b>`).replace("{old}",t).replace("{new}",Et),!0),[n,!0]}return[e,!1]}async function zs(e,t=!1){let n;if([e,n]=Bg(JSON.parse(JSON.stringify(e))),Oo.value=!0,n&&(oi.value=!0),t||(ei.filter(i=>!Po.includes(i)).forEach(Ks),Ci.filter(i=>!Ts.includes(i)).forEach(Al)),Be.value=null,ct.value.forEach(i=>pr(i)),ct.value=[],Re.projectName=e.name||q("project.defaultName","Starter"),Re.width=e.width,Re.height=e.height,St.value=e.invisible,Wy(e.componentTree.components,!1),!t)try{await Promise.all([...e.fonts.map(i=>{Ts.includes(i.name)||kl(i.data,i.name)}),...e.images.map(i=>{Po.includes(i.name)||Ro(i.data,i.name,!1)}),...e.gifs.map(i=>Ro(i.data,i.name,!0))])}catch(i){console.error(i)}Oo.value=!1}const Ee=wn({stack:[],snapshots:[],historyIndex:0,pauseHistoryTracking:!1}),oi=Ot(!1),Hg=50;async function Es(){if(Ee.historyIndex==0)return;Ee.historyIndex--;const e=Ee.stack[Ee.historyIndex];Xt(!0),Ee.pauseHistoryTracking=!0;try{await zs(e,!0)}finally{Ee.pauseHistoryTracking=!1,Xt(!1)}}async function dr(){if(Ee.stack.length<=Ee.historyIndex+1)return;Ee.historyIndex++;const e=Ee.stack[Ee.historyIndex];Xt(!0),Ee.pauseHistoryTracking=!0;try{await zs(e,!0)}finally{Ee.pauseHistoryTracking=!1,Xt(!1)}}function ur(){if(Ee.pauseHistoryTracking)return;const e=lr({includeResources:!1,includeExportedTree:!1}),t=JSON.stringify(e);Ee.stack.length&&Ee.snapshots[Ee.historyIndex]===t||(Ee.stack.length&&(oi.value=!0),Ee.stack.splice(0,0,e),Ee.snapshots.splice(0,0,t),Ee.historyIndex=0,Ee.stack.length>=Hg&&(Ee.stack.pop(),Ee.snapshots.pop()))}function Gg(){Ee.historyIndex=0,Ee.stack=[],Ee.snapshots=[]}var ds=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function us(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mo={exports:{}};var ra;function zg(){return ra||(ra=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(i,o,a){function s(m,c){if(!o[m]){if(!i[m]){var h=typeof us=="function"&&us;if(!c&&h)return h(m,!0);if(l)return l(m,!0);var C=new Error("Cannot find module '"+m+"'");throw C.code="MODULE_NOT_FOUND",C}var A=o[m]={exports:{}};i[m][0].call(A.exports,function(H){var G=i[m][1][H];return s(G||H)},A,A.exports,n,i,o,a)}return o[m].exports}for(var l=typeof us=="function"&&us,d=0;d<a.length;d++)s(a[d]);return s})({1:[function(n,i,o){(function(a){var s=a.MutationObserver||a.WebKitMutationObserver,l;if(s){var d=0,m=new s(H),c=a.document.createTextNode("");m.observe(c,{characterData:!0}),l=function(){c.data=d=++d%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var h=new a.MessageChannel;h.port1.onmessage=H,l=function(){h.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?l=function(){var _=a.document.createElement("script");_.onreadystatechange=function(){H(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},a.document.documentElement.appendChild(_)}:l=function(){setTimeout(H,0)};var C,A=[];function H(){C=!0;for(var _,Z,ee=A.length;ee;){for(Z=A,A=[],_=-1;++_<ee;)Z[_]();ee=A.length}C=!1}i.exports=G;function G(_){A.push(_)===1&&!C&&l()}}).call(this,typeof ds<"u"?ds:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,i,o){var a=n(1);function s(){}var l={},d=["REJECTED"],m=["FULFILLED"],c=["PENDING"];i.exports=h;function h(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,R!==s&&G(this,R)}h.prototype.catch=function(R){return this.then(null,R)},h.prototype.then=function(R,ie){if(typeof R!="function"&&this.state===m||typeof ie!="function"&&this.state===d)return this;var X=new this.constructor(s);if(this.state!==c){var se=this.state===m?R:ie;A(X,se,this.outcome)}else this.queue.push(new C(X,R,ie));return X};function C(R,ie,X){this.promise=R,typeof ie=="function"&&(this.onFulfilled=ie,this.callFulfilled=this.otherCallFulfilled),typeof X=="function"&&(this.onRejected=X,this.callRejected=this.otherCallRejected)}C.prototype.callFulfilled=function(R){l.resolve(this.promise,R)},C.prototype.otherCallFulfilled=function(R){A(this.promise,this.onFulfilled,R)},C.prototype.callRejected=function(R){l.reject(this.promise,R)},C.prototype.otherCallRejected=function(R){A(this.promise,this.onRejected,R)};function A(R,ie,X){a(function(){var se;try{se=ie(X)}catch(pe){return l.reject(R,pe)}se===R?l.reject(R,new TypeError("Cannot resolve promise with itself")):l.resolve(R,se)})}l.resolve=function(R,ie){var X=_(H,ie);if(X.status==="error")return l.reject(R,X.value);var se=X.value;if(se)G(R,se);else{R.state=m,R.outcome=ie;for(var pe=-1,ke=R.queue.length;++pe<ke;)R.queue[pe].callFulfilled(ie)}return R},l.reject=function(R,ie){R.state=d,R.outcome=ie;for(var X=-1,se=R.queue.length;++X<se;)R.queue[X].callRejected(ie);return R};function H(R){var ie=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof ie=="function")return function(){ie.apply(R,arguments)}}function G(R,ie){var X=!1;function se(Ge){X||(X=!0,l.reject(R,Ge))}function pe(Ge){X||(X=!0,l.resolve(R,Ge))}function ke(){ie(pe,se)}var Oe=_(ke);Oe.status==="error"&&se(Oe.value)}function _(R,ie){var X={};try{X.value=R(ie),X.status="success"}catch(se){X.status="error",X.value=se}return X}h.resolve=Z;function Z(R){return R instanceof this?R:l.resolve(new this(s),R)}h.reject=ee;function ee(R){var ie=new this(s);return l.reject(ie,R)}h.all=Ae;function Ae(R){var ie=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var X=R.length,se=!1;if(!X)return this.resolve([]);for(var pe=new Array(X),ke=0,Oe=-1,Ge=new this(s);++Oe<X;)at(R[Oe],Oe);return Ge;function at(Qt,Bn){ie.resolve(Qt).then(Ve,function(ye){se||(se=!0,l.reject(Ge,ye))});function Ve(ye){pe[Bn]=ye,++ke===X&&!se&&(se=!0,l.resolve(Ge,pe))}}}h.race=Y;function Y(R){var ie=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var X=R.length,se=!1;if(!X)return this.resolve([]);for(var pe=-1,ke=new this(s);++pe<X;)Oe(R[pe]);return ke;function Oe(Ge){ie.resolve(Ge).then(function(at){se||(se=!0,l.resolve(ke,at))},function(at){se||(se=!0,l.reject(ke,at))})}}},{1:1}],3:[function(n,i,o){(function(a){typeof a.Promise!="function"&&(a.Promise=n(2))}).call(this,typeof ds<"u"?ds:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,i,o){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};function s(u,v){if(!(u instanceof v))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=l();function m(){try{if(!d||!d.open)return!1;var u=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),v=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!u||v)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(u,v){u=u||[],v=v||{};try{return new Blob(u,v)}catch(y){if(y.name!=="TypeError")throw y;for(var p=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,b=new p,$=0;$<u.length;$+=1)b.append(u[$]);return b.getBlob(v.type)}}typeof Promise>"u"&&n(3);var h=Promise;function C(u,v){v&&u.then(function(p){v(null,p)},function(p){v(p)})}function A(u,v,p){typeof v=="function"&&u.then(v),typeof p=="function"&&u.catch(p)}function H(u){return typeof u!="string"&&(console.warn(u+" used as a key, but it is not a string."),u=String(u)),u}function G(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var _="local-forage-detect-blob-support",Z=void 0,ee={},Ae=Object.prototype.toString,Y="readonly",R="readwrite";function ie(u){for(var v=u.length,p=new ArrayBuffer(v),b=new Uint8Array(p),$=0;$<v;$++)b[$]=u.charCodeAt($);return p}function X(u){return new h(function(v){var p=u.transaction(_,R),b=c([""]);p.objectStore(_).put(b,"key"),p.onabort=function($){$.preventDefault(),$.stopPropagation(),v(!1)},p.oncomplete=function(){var $=navigator.userAgent.match(/Chrome\/(\d+)/),y=navigator.userAgent.match(/Edge\//);v(y||!$||parseInt($[1],10)>=43)}}).catch(function(){return!1})}function se(u){return typeof Z=="boolean"?h.resolve(Z):X(u).then(function(v){return Z=v,Z})}function pe(u){var v=ee[u.name],p={};p.promise=new h(function(b,$){p.resolve=b,p.reject=$}),v.deferredOperations.push(p),v.dbReady?v.dbReady=v.dbReady.then(function(){return p.promise}):v.dbReady=p.promise}function ke(u){var v=ee[u.name],p=v.deferredOperations.pop();if(p)return p.resolve(),p.promise}function Oe(u,v){var p=ee[u.name],b=p.deferredOperations.pop();if(b)return b.reject(v),b.promise}function Ge(u,v){return new h(function(p,b){if(ee[u.name]=ee[u.name]||ft(),u.db)if(v)pe(u),u.db.close();else return p(u.db);var $=[u.name];v&&$.push(u.version);var y=d.open.apply(d,$);v&&(y.onupgradeneeded=function(S){var P=y.result;try{P.createObjectStore(u.storeName),S.oldVersion<=1&&P.createObjectStore(_)}catch(x){if(x.name==="ConstraintError")console.warn('The database "'+u.name+'" has been upgraded from version '+S.oldVersion+" to version "+S.newVersion+', but the storage "'+u.storeName+'" already exists.');else throw x}}),y.onerror=function(S){S.preventDefault(),b(y.error)},y.onsuccess=function(){var S=y.result;S.onversionchange=function(P){P.target.close()},p(S),ke(u)}})}function at(u){return Ge(u,!1)}function Qt(u){return Ge(u,!0)}function Bn(u,v){if(!u.db)return!0;var p=!u.db.objectStoreNames.contains(u.storeName),b=u.version<u.db.version,$=u.version>u.db.version;if(b&&(u.version!==v&&console.warn('The database "'+u.name+`" can't be downgraded from version `+u.db.version+" to version "+u.version+"."),u.version=u.db.version),$||p){if(p){var y=u.db.version+1;y>u.version&&(u.version=y)}return!0}return!1}function Ve(u){return new h(function(v,p){var b=new FileReader;b.onerror=p,b.onloadend=function($){var y=btoa($.target.result||"");v({__local_forage_encoded_blob:!0,data:y,type:u.type})},b.readAsBinaryString(u)})}function ye(u){var v=ie(atob(u.data));return c([v],{type:u.type})}function Ce(u){return u&&u.__local_forage_encoded_blob}function Zt(u){var v=this,p=v._initReady().then(function(){var b=ee[v._dbInfo.name];if(b&&b.dbReady)return b.dbReady});return A(p,u,u),p}function ri(u){pe(u);for(var v=ee[u.name],p=v.forages,b=0;b<p.length;b++){var $=p[b];$._dbInfo.db&&($._dbInfo.db.close(),$._dbInfo.db=null)}return u.db=null,at(u).then(function(y){return u.db=y,Bn(u)?Qt(u):y}).then(function(y){u.db=v.db=y;for(var S=0;S<p.length;S++)p[S]._dbInfo.db=y}).catch(function(y){throw Oe(u,y),y})}function We(u,v,p,b){b===void 0&&(b=1);try{var $=u.db.transaction(u.storeName,v);p(null,$)}catch(y){if(b>0&&(!u.db||y.name==="InvalidStateError"||y.name==="NotFoundError"))return h.resolve().then(function(){if(!u.db||y.name==="NotFoundError"&&!u.db.objectStoreNames.contains(u.storeName)&&u.version<=u.db.version)return u.db&&(u.version=u.db.version+1),Qt(u)}).then(function(){return ri(u).then(function(){We(u,v,p,b-1)})}).catch(p);p(y)}}function ft(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ts(u){var v=this,p={db:null};if(u)for(var b in u)p[b]=u[b];var $=ee[p.name];$||($=ft(),ee[p.name]=$),$.forages.push(v),v._initReady||(v._initReady=v.ready,v.ready=Zt);var y=[];function S(){return h.resolve()}for(var P=0;P<$.forages.length;P++){var x=$.forages[P];x!==v&&y.push(x._initReady().catch(S))}var O=$.forages.slice(0);return h.all(y).then(function(){return p.db=$.db,at(p)}).then(function(F){return p.db=F,Bn(p,v._defaultConfig.version)?Qt(p):F}).then(function(F){p.db=$.db=F,v._dbInfo=p;for(var J=0;J<O.length;J++){var de=O[J];de!==v&&(de._dbInfo.db=p.db,de._dbInfo.version=p.version)}})}function Ys(u,v){var p=this;u=H(u);var b=new h(function($,y){p.ready().then(function(){We(p._dbInfo,Y,function(S,P){if(S)return y(S);try{var x=P.objectStore(p._dbInfo.storeName),O=x.get(u);O.onsuccess=function(){var F=O.result;F===void 0&&(F=null),Ce(F)&&(F=ye(F)),$(F)},O.onerror=function(){y(O.error)}}catch(F){y(F)}})}).catch(y)});return C(b,v),b}function js(u,v){var p=this,b=new h(function($,y){p.ready().then(function(){We(p._dbInfo,Y,function(S,P){if(S)return y(S);try{var x=P.objectStore(p._dbInfo.storeName),O=x.openCursor(),F=1;O.onsuccess=function(){var J=O.result;if(J){var de=J.value;Ce(de)&&(de=ye(de));var we=u(de,J.key,F++);we!==void 0?$(we):J.continue()}else $()},O.onerror=function(){y(O.error)}}catch(J){y(J)}})}).catch(y)});return C(b,v),b}function Hn(u,v,p){var b=this;u=H(u);var $=new h(function(y,S){var P;b.ready().then(function(){return P=b._dbInfo,Ae.call(v)==="[object Blob]"?se(P.db).then(function(x){return x?v:Ve(v)}):v}).then(function(x){We(b._dbInfo,R,function(O,F){if(O)return S(O);try{var J=F.objectStore(b._dbInfo.storeName);x===null&&(x=void 0);var de=J.put(x,u);F.oncomplete=function(){x===void 0&&(x=null),y(x)},F.onabort=F.onerror=function(){var we=de.error?de.error:de.transaction.error;S(we)}}catch(we){S(we)}})}).catch(S)});return C($,p),$}function ai(u,v){var p=this;u=H(u);var b=new h(function($,y){p.ready().then(function(){We(p._dbInfo,R,function(S,P){if(S)return y(S);try{var x=P.objectStore(p._dbInfo.storeName),O=x.delete(u);P.oncomplete=function(){$()},P.onerror=function(){y(O.error)},P.onabort=function(){var F=O.error?O.error:O.transaction.error;y(F)}}catch(F){y(F)}})}).catch(y)});return C(b,v),b}function Ei(u){var v=this,p=new h(function(b,$){v.ready().then(function(){We(v._dbInfo,R,function(y,S){if(y)return $(y);try{var P=S.objectStore(v._dbInfo.storeName),x=P.clear();S.oncomplete=function(){b()},S.onabort=S.onerror=function(){var O=x.error?x.error:x.transaction.error;$(O)}}catch(O){$(O)}})}).catch($)});return C(p,u),p}function ns(u){var v=this,p=new h(function(b,$){v.ready().then(function(){We(v._dbInfo,Y,function(y,S){if(y)return $(y);try{var P=S.objectStore(v._dbInfo.storeName),x=P.count();x.onsuccess=function(){b(x.result)},x.onerror=function(){$(x.error)}}catch(O){$(O)}})}).catch($)});return C(p,u),p}function Gn(u,v){var p=this,b=new h(function($,y){if(u<0){$(null);return}p.ready().then(function(){We(p._dbInfo,Y,function(S,P){if(S)return y(S);try{var x=P.objectStore(p._dbInfo.storeName),O=!1,F=x.openKeyCursor();F.onsuccess=function(){var J=F.result;if(!J){$(null);return}u===0||O?$(J.key):(O=!0,J.advance(u))},F.onerror=function(){y(F.error)}}catch(J){y(J)}})}).catch(y)});return C(b,v),b}function hr(u){var v=this,p=new h(function(b,$){v.ready().then(function(){We(v._dbInfo,Y,function(y,S){if(y)return $(y);try{var P=S.objectStore(v._dbInfo.storeName),x=P.openKeyCursor(),O=[];x.onsuccess=function(){var F=x.result;if(!F){b(O);return}O.push(F.key),F.continue()},x.onerror=function(){$(x.error)}}catch(F){$(F)}})}).catch($)});return C(p,u),p}function g(u,v){v=G.apply(this,arguments);var p=this.config();u=typeof u!="function"&&u||{},u.name||(u.name=u.name||p.name,u.storeName=u.storeName||p.storeName);var b=this,$;if(!u.name)$=h.reject("Invalid arguments");else{var y=u.name===p.name&&b._dbInfo.db,S=y?h.resolve(b._dbInfo.db):at(u).then(function(P){var x=ee[u.name],O=x.forages;x.db=P;for(var F=0;F<O.length;F++)O[F]._dbInfo.db=P;return P});u.storeName?$=S.then(function(P){if(P.objectStoreNames.contains(u.storeName)){var x=P.version+1;pe(u);var O=ee[u.name],F=O.forages;P.close();for(var J=0;J<F.length;J++){var de=F[J];de._dbInfo.db=null,de._dbInfo.version=x}var we=new h(function(Te,Fe){var Ue=d.open(u.name,x);Ue.onerror=function(wt){var ki=Ue.result;ki.close(),Fe(wt)},Ue.onupgradeneeded=function(){var wt=Ue.result;wt.deleteObjectStore(u.storeName)},Ue.onsuccess=function(){var wt=Ue.result;wt.close(),Te(wt)}});return we.then(function(Te){O.db=Te;for(var Fe=0;Fe<F.length;Fe++){var Ue=F[Fe];Ue._dbInfo.db=Te,ke(Ue._dbInfo)}}).catch(function(Te){throw(Oe(u,Te)||h.resolve()).catch(function(){}),Te})}}):$=S.then(function(P){pe(u);var x=ee[u.name],O=x.forages;P.close();for(var F=0;F<O.length;F++){var J=O[F];J._dbInfo.db=null}var de=new h(function(we,Te){var Fe=d.deleteDatabase(u.name);Fe.onerror=function(){var Ue=Fe.result;Ue&&Ue.close(),Te(Fe.error)},Fe.onblocked=function(){console.warn('dropInstance blocked for database "'+u.name+'" until all open connections are closed')},Fe.onsuccess=function(){var Ue=Fe.result;Ue&&Ue.close(),we(Ue)}});return de.then(function(we){x.db=we;for(var Te=0;Te<O.length;Te++){var Fe=O[Te];ke(Fe._dbInfo)}}).catch(function(we){throw(Oe(u,we)||h.resolve()).catch(function(){}),we})})}return C($,v),$}var w={_driver:"asyncStorage",_initStorage:ts,_support:m(),iterate:js,getItem:Ys,setItem:Hn,removeItem:ai,clear:Ei,length:ns,key:Gn,keys:hr,dropInstance:g};function T(){return typeof openDatabase=="function"}var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N="~~local_forage_type~",D=/^~~local_forage_type~([^~]+)~/,B="__lfsc__:",V=B.length,L="arbf",M="blob",Q="si08",W="ui08",j="uic8",te="si16",ue="si32",Ie="ur16",he="ui32",ze="fl32",_e="fl64",ht=V+L.length,mt=Object.prototype.toString;function $n(u){var v=u.length*.75,p=u.length,b,$=0,y,S,P,x;u[u.length-1]==="="&&(v--,u[u.length-2]==="="&&v--);var O=new ArrayBuffer(v),F=new Uint8Array(O);for(b=0;b<p;b+=4)y=k.indexOf(u[b]),S=k.indexOf(u[b+1]),P=k.indexOf(u[b+2]),x=k.indexOf(u[b+3]),F[$++]=y<<2|S>>4,F[$++]=(S&15)<<4|P>>2,F[$++]=(P&3)<<6|x&63;return O}function li(u){var v=new Uint8Array(u),p="",b;for(b=0;b<v.length;b+=3)p+=k[v[b]>>2],p+=k[(v[b]&3)<<4|v[b+1]>>4],p+=k[(v[b+1]&15)<<2|v[b+2]>>6],p+=k[v[b+2]&63];return v.length%3===2?p=p.substring(0,p.length-1)+"=":v.length%3===1&&(p=p.substring(0,p.length-2)+"=="),p}function tt(u,v){var p="";if(u&&(p=mt.call(u)),u&&(p==="[object ArrayBuffer]"||u.buffer&&mt.call(u.buffer)==="[object ArrayBuffer]")){var b,$=B;u instanceof ArrayBuffer?(b=u,$+=L):(b=u.buffer,p==="[object Int8Array]"?$+=Q:p==="[object Uint8Array]"?$+=W:p==="[object Uint8ClampedArray]"?$+=j:p==="[object Int16Array]"?$+=te:p==="[object Uint16Array]"?$+=Ie:p==="[object Int32Array]"?$+=ue:p==="[object Uint32Array]"?$+=he:p==="[object Float32Array]"?$+=ze:p==="[object Float64Array]"?$+=_e:v(new Error("Failed to get type for BinaryArray"))),v($+li(b))}else if(p==="[object Blob]"){var y=new FileReader;y.onload=function(){var S=N+u.type+"~"+li(this.result);v(B+M+S)},y.readAsArrayBuffer(u)}else try{v(JSON.stringify(u))}catch(S){console.error("Couldn't convert value into a JSON string: ",u),v(null,S)}}function yt(u){if(u.substring(0,V)!==B)return JSON.parse(u);var v=u.substring(ht),p=u.substring(V,ht),b;if(p===M&&D.test(v)){var $=v.match(D);b=$[1],v=v.substring($[0].length)}var y=$n(v);switch(p){case L:return y;case M:return c([y],{type:b});case Q:return new Int8Array(y);case W:return new Uint8Array(y);case j:return new Uint8ClampedArray(y);case te:return new Int16Array(y);case Ie:return new Uint16Array(y);case ue:return new Int32Array(y);case he:return new Uint32Array(y);case ze:return new Float32Array(y);case _e:return new Float64Array(y);default:throw new Error("Unkown type: "+p)}}var di={serialize:tt,deserialize:yt,stringToBuffer:$n,bufferToString:li};function Si(u,v,p,b){u.executeSql("CREATE TABLE IF NOT EXISTS "+v.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],p,b)}function zl(u){var v=this,p={db:null};if(u)for(var b in u)p[b]=typeof u[b]!="string"?u[b].toString():u[b];var $=new h(function(y,S){try{p.db=openDatabase(p.name,String(p.version),p.description,p.size)}catch(P){return S(P)}p.db.transaction(function(P){Si(P,p,function(){v._dbInfo=p,y()},function(x,O){S(O)})},S)});return p.serializer=di,$}function Cn(u,v,p,b,$,y){u.executeSql(p,b,$,function(S,P){P.code===P.SYNTAX_ERR?S.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[v.storeName],function(x,O){O.rows.length?y(x,P):Si(x,v,function(){x.executeSql(p,b,$,y)},y)},y):y(S,P)},y)}function _l(u,v){var p=this;u=H(u);var b=new h(function($,y){p.ready().then(function(){var S=p._dbInfo;S.db.transaction(function(P){Cn(P,S,"SELECT * FROM "+S.storeName+" WHERE key = ? LIMIT 1",[u],function(x,O){var F=O.rows.length?O.rows.item(0).value:null;F&&(F=S.serializer.deserialize(F)),$(F)},function(x,O){y(O)})})}).catch(y)});return C(b,v),b}function Jl(u,v){var p=this,b=new h(function($,y){p.ready().then(function(){var S=p._dbInfo;S.db.transaction(function(P){Cn(P,S,"SELECT * FROM "+S.storeName,[],function(x,O){for(var F=O.rows,J=F.length,de=0;de<J;de++){var we=F.item(de),Te=we.value;if(Te&&(Te=S.serializer.deserialize(Te)),Te=u(Te,we.key,de+1),Te!==void 0){$(Te);return}}$()},function(x,O){y(O)})})}).catch(y)});return C(b,v),b}function mr(u,v,p,b){var $=this;u=H(u);var y=new h(function(S,P){$.ready().then(function(){v===void 0&&(v=null);var x=v,O=$._dbInfo;O.serializer.serialize(v,function(F,J){J?P(J):O.db.transaction(function(de){Cn(de,O,"INSERT OR REPLACE INTO "+O.storeName+" (key, value) VALUES (?, ?)",[u,F],function(){S(x)},function(we,Te){P(Te)})},function(de){if(de.code===de.QUOTA_ERR){if(b>0){S(mr.apply($,[u,x,p,b-1]));return}P(de)}})})}).catch(P)});return C(y,p),y}function Kl(u,v,p){return mr.apply(this,[u,v,p,1])}function ql(u,v){var p=this;u=H(u);var b=new h(function($,y){p.ready().then(function(){var S=p._dbInfo;S.db.transaction(function(P){Cn(P,S,"DELETE FROM "+S.storeName+" WHERE key = ?",[u],function(){$()},function(x,O){y(O)})})}).catch(y)});return C(b,v),b}function Yl(u){var v=this,p=new h(function(b,$){v.ready().then(function(){var y=v._dbInfo;y.db.transaction(function(S){Cn(S,y,"DELETE FROM "+y.storeName,[],function(){b()},function(P,x){$(x)})})}).catch($)});return C(p,u),p}function jl(u){var v=this,p=new h(function(b,$){v.ready().then(function(){var y=v._dbInfo;y.db.transaction(function(S){Cn(S,y,"SELECT COUNT(key) as c FROM "+y.storeName,[],function(P,x){var O=x.rows.item(0).c;b(O)},function(P,x){$(x)})})}).catch($)});return C(p,u),p}function Xl(u,v){var p=this,b=new h(function($,y){p.ready().then(function(){var S=p._dbInfo;S.db.transaction(function(P){Cn(P,S,"SELECT key FROM "+S.storeName+" WHERE id = ? LIMIT 1",[u+1],function(x,O){var F=O.rows.length?O.rows.item(0).key:null;$(F)},function(x,O){y(O)})})}).catch(y)});return C(b,v),b}function Ql(u){var v=this,p=new h(function(b,$){v.ready().then(function(){var y=v._dbInfo;y.db.transaction(function(S){Cn(S,y,"SELECT key FROM "+y.storeName,[],function(P,x){for(var O=[],F=0;F<x.rows.length;F++)O.push(x.rows.item(F).key);b(O)},function(P,x){$(x)})})}).catch($)});return C(p,u),p}function Zl(u){return new h(function(v,p){u.transaction(function(b){b.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function($,y){for(var S=[],P=0;P<y.rows.length;P++)S.push(y.rows.item(P).name);v({db:u,storeNames:S})},function($,y){p(y)})},function(b){p(b)})})}function ed(u,v){v=G.apply(this,arguments);var p=this.config();u=typeof u!="function"&&u||{},u.name||(u.name=u.name||p.name,u.storeName=u.storeName||p.storeName);var b=this,$;return u.name?$=new h(function(y){var S;u.name===p.name?S=b._dbInfo.db:S=openDatabase(u.name,"","",0),u.storeName?y({db:S,storeNames:[u.storeName]}):y(Zl(S))}).then(function(y){return new h(function(S,P){y.db.transaction(function(x){function O(we){return new h(function(Te,Fe){x.executeSql("DROP TABLE IF EXISTS "+we,[],function(){Te()},function(Ue,wt){Fe(wt)})})}for(var F=[],J=0,de=y.storeNames.length;J<de;J++)F.push(O(y.storeNames[J]));h.all(F).then(function(){S()}).catch(function(we){P(we)})},function(x){P(x)})})}):$=h.reject("Invalid arguments"),C($,v),$}var td={_driver:"webSQLStorage",_initStorage:zl,_support:T(),iterate:Jl,getItem:_l,setItem:Kl,removeItem:ql,clear:Yl,length:jl,key:Xl,keys:Ql,dropInstance:ed};function nd(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function gr(u,v){var p=u.name+"/";return u.storeName!==v.storeName&&(p+=u.storeName+"/"),p}function id(){var u="_localforage_support_test";try{return localStorage.setItem(u,!0),localStorage.removeItem(u),!1}catch{return!0}}function sd(){return!id()||localStorage.length>0}function od(u){var v=this,p={};if(u)for(var b in u)p[b]=u[b];return p.keyPrefix=gr(u,v._defaultConfig),sd()?(v._dbInfo=p,p.serializer=di,h.resolve()):h.reject()}function rd(u){var v=this,p=v.ready().then(function(){for(var b=v._dbInfo.keyPrefix,$=localStorage.length-1;$>=0;$--){var y=localStorage.key($);y.indexOf(b)===0&&localStorage.removeItem(y)}});return C(p,u),p}function ad(u,v){var p=this;u=H(u);var b=p.ready().then(function(){var $=p._dbInfo,y=localStorage.getItem($.keyPrefix+u);return y&&(y=$.serializer.deserialize(y)),y});return C(b,v),b}function ld(u,v){var p=this,b=p.ready().then(function(){for(var $=p._dbInfo,y=$.keyPrefix,S=y.length,P=localStorage.length,x=1,O=0;O<P;O++){var F=localStorage.key(O);if(F.indexOf(y)===0){var J=localStorage.getItem(F);if(J&&(J=$.serializer.deserialize(J)),J=u(J,F.substring(S),x++),J!==void 0)return J}}});return C(b,v),b}function dd(u,v){var p=this,b=p.ready().then(function(){var $=p._dbInfo,y;try{y=localStorage.key(u)}catch{y=null}return y&&(y=y.substring($.keyPrefix.length)),y});return C(b,v),b}function ud(u){var v=this,p=v.ready().then(function(){for(var b=v._dbInfo,$=localStorage.length,y=[],S=0;S<$;S++){var P=localStorage.key(S);P.indexOf(b.keyPrefix)===0&&y.push(P.substring(b.keyPrefix.length))}return y});return C(p,u),p}function cd(u){var v=this,p=v.keys().then(function(b){return b.length});return C(p,u),p}function pd(u,v){var p=this;u=H(u);var b=p.ready().then(function(){var $=p._dbInfo;localStorage.removeItem($.keyPrefix+u)});return C(b,v),b}function fd(u,v,p){var b=this;u=H(u);var $=b.ready().then(function(){v===void 0&&(v=null);var y=v;return new h(function(S,P){var x=b._dbInfo;x.serializer.serialize(v,function(O,F){if(F)P(F);else try{localStorage.setItem(x.keyPrefix+u,O),S(y)}catch(J){(J.name==="QuotaExceededError"||J.name==="NS_ERROR_DOM_QUOTA_REACHED")&&P(J),P(J)}})})});return C($,p),$}function hd(u,v){if(v=G.apply(this,arguments),u=typeof u!="function"&&u||{},!u.name){var p=this.config();u.name=u.name||p.name,u.storeName=u.storeName||p.storeName}var b=this,$;return u.name?$=new h(function(y){u.storeName?y(gr(u,b._defaultConfig)):y(u.name+"/")}).then(function(y){for(var S=localStorage.length-1;S>=0;S--){var P=localStorage.key(S);P.indexOf(y)===0&&localStorage.removeItem(P)}}):$=h.reject("Invalid arguments"),C($,v),$}var md={_driver:"localStorageWrapper",_initStorage:od,_support:nd(),iterate:ld,getItem:ad,setItem:fd,removeItem:pd,clear:rd,length:cd,key:dd,keys:ud,dropInstance:hd},gd=function(v,p){return v===p||typeof v=="number"&&typeof p=="number"&&isNaN(v)&&isNaN(p)},vd=function(v,p){for(var b=v.length,$=0;$<b;){if(gd(v[$],p))return!0;$++}return!1},vr=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"},Ai={},yr={},ui={INDEXEDDB:w,WEBSQL:td,LOCALSTORAGE:md},yd=[ui.INDEXEDDB._driver,ui.WEBSQL._driver,ui.LOCALSTORAGE._driver],is=["dropInstance"],Xs=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(is),wd={description:"",driver:yd.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function bd(u,v){u[v]=function(){var p=arguments;return u.ready().then(function(){return u[v].apply(u,p)})}}function Qs(){for(var u=1;u<arguments.length;u++){var v=arguments[u];if(v)for(var p in v)v.hasOwnProperty(p)&&(vr(v[p])?arguments[0][p]=v[p].slice():arguments[0][p]=v[p])}return arguments[0]}var $d=(function(){function u(v){s(this,u);for(var p in ui)if(ui.hasOwnProperty(p)){var b=ui[p],$=b._driver;this[p]=$,Ai[$]||this.defineDriver(b)}this._defaultConfig=Qs({},wd),this._config=Qs({},this._defaultConfig,v),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return u.prototype.config=function(p){if((typeof p>"u"?"undefined":a(p))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var b in p){if(b==="storeName"&&(p[b]=p[b].replace(/\W/g,"_")),b==="version"&&typeof p[b]!="number")return new Error("Database version must be a number.");this._config[b]=p[b]}return"driver"in p&&p.driver?this.setDriver(this._config.driver):!0}else return typeof p=="string"?this._config[p]:this._config},u.prototype.defineDriver=function(p,b,$){var y=new h(function(S,P){try{var x=p._driver,O=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!p._driver){P(O);return}for(var F=Xs.concat("_initStorage"),J=0,de=F.length;J<de;J++){var we=F[J],Te=!vd(is,we);if((Te||p[we])&&typeof p[we]!="function"){P(O);return}}var Fe=function(){for(var ki=function(Td){return function(){var Ed=new Error("Method "+Td+" is not implemented by the current driver"),wr=h.reject(Ed);return C(wr,arguments[arguments.length-1]),wr}},Zs=0,Id=is.length;Zs<Id;Zs++){var eo=is[Zs];p[eo]||(p[eo]=ki(eo))}};Fe();var Ue=function(ki){Ai[x]&&console.info("Redefining LocalForage driver: "+x),Ai[x]=p,yr[x]=ki,S()};"_support"in p?p._support&&typeof p._support=="function"?p._support().then(Ue,P):Ue(!!p._support):Ue(!0)}catch(wt){P(wt)}});return A(y,b,$),y},u.prototype.driver=function(){return this._driver||null},u.prototype.getDriver=function(p,b,$){var y=Ai[p]?h.resolve(Ai[p]):h.reject(new Error("Driver not found."));return A(y,b,$),y},u.prototype.getSerializer=function(p){var b=h.resolve(di);return A(b,p),b},u.prototype.ready=function(p){var b=this,$=b._driverSet.then(function(){return b._ready===null&&(b._ready=b._initDriver()),b._ready});return A($,p,p),$},u.prototype.setDriver=function(p,b,$){var y=this;vr(p)||(p=[p]);var S=this._getSupportedDrivers(p);function P(){y._config.driver=y.driver()}function x(J){return y._extend(J),P(),y._ready=y._initStorage(y._config),y._ready}function O(J){return function(){var de=0;function we(){for(;de<J.length;){var Te=J[de];return de++,y._dbInfo=null,y._ready=null,y.getDriver(Te).then(x).catch(we)}P();var Fe=new Error("No available storage method found.");return y._driverSet=h.reject(Fe),y._driverSet}return we()}}var F=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=F.then(function(){var J=S[0];return y._dbInfo=null,y._ready=null,y.getDriver(J).then(function(de){y._driver=de._driver,P(),y._wrapLibraryMethodsWithReady(),y._initDriver=O(S)})}).catch(function(){P();var J=new Error("No available storage method found.");return y._driverSet=h.reject(J),y._driverSet}),A(this._driverSet,b,$),this._driverSet},u.prototype.supports=function(p){return!!yr[p]},u.prototype._extend=function(p){Qs(this,p)},u.prototype._getSupportedDrivers=function(p){for(var b=[],$=0,y=p.length;$<y;$++){var S=p[$];this.supports(S)&&b.push(S)}return b},u.prototype._wrapLibraryMethodsWithReady=function(){for(var p=0,b=Xs.length;p<b;p++)bd(this,Xs[p])},u.prototype.createInstance=function(p){return new u(p)},u})(),Cd=new $d;i.exports=Cd},{3:3}]},{},[4])(4)})})(mo)),mo.exports}var _g=zg();const ut=Wg(_g),Ji=Ot(!0),Ze=Ot([]);let sn="";async function _s(){await ut.setItem("projectNames",JSON.stringify(Ze.value.map(e=>e.name)))}async function Jg(){Ze.value=[];const e=JSON.parse(await ut.getItem("projectNames")||"[]");for(const t of e)Ze.value.push(JSON.parse(await ut.getItem(`project/${t}`)))}function Kg(e){Ol(Ze.value.find(t=>t.name==e))}function qg(){const e=lr();Ol(e)}async function Js(){const e=lr();e.name=Zi(e.name,q("project.unnamed","Unnamed"));const t=Ze.value.findIndex(i=>i.name==sn),n=e.name!=sn;n&&(e.name=ar(e.name,Ze.value.map(i=>i.name)),await ut.setItem(`thumbnail/${e.name}`,await ut.getItem(`thumbnail/${sn}`)),await ut.removeItem(`project/${sn}`),await ut.removeItem(`thumbnail/${sn}`),Re.projectName=e.name,sn=e.name),Ze.value.splice(t,1,e),await ut.setItem(`project/${e.name}`,JSON.stringify(e)),n&&await _s(),oi.value=!1}async function Yg(e){e.version&&e.name?(e.name=Zi(e.name,q("project.unnamed","Unnamed")),e.name=ar(e.name,Ze.value.map(t=>t.name)),sn=e.name,zs(e,!1),Ze.value.splice(0,0,e),await ut.setItem(`project/${e.name}`,JSON.stringify(e)),await _s(),await Js()):fr(q("project.invalid","This does not look like an AdvancedGUI project file."))}async function jg(e){Ze.value.splice(Ze.value.findIndex(t=>t.name==e),1),await ut.removeItem(`project/${e}`),await ut.removeItem(`thumbnail/${e}`),await _s()}function Xg(e){if(e.version==Et)return e;const t=e.version;Pl(e),qs(q("update.migrated",`Your savepoint was still on format-version <b>${t}</b> and got migrated to the new format-version <b>${Et}</b>`).replace("{old}",`${t}`).replace("{new}",Et),!0);const n=Ze.value.findIndex(i=>i.name==e.name);return n!==-1&&Ze.value.splice(n,1,e),ut.setItem(`project/${e.name}`,JSON.stringify(e)),e}function Mo(e){sn=e.name,e=Xg(e),Gg(),oi.value=!1,zs(e,!1),Ji.value=!1}async function Qg(){const e=Zi(q("project.unnamed","Unnamed"),"Unnamed"),t=ar(e,Ze.value.map(o=>o.name)),n=new Se("component_tree","-",[],[],!0),i={name:t,height:2,width:3,version:Et,invisible:[],fonts:[],gifs:[],images:[],componentTree:n,exportedTree:{draft:JSON.parse(n.toJson(!0))}};Mo(i),Ze.value.splice(0,0,i),await Js(),await _s()}async function Zg(e){await ut.setItem(`thumbnail/${sn}`,e)}async function ev(e){return await ut.getItem(`thumbnail/${e}`)}let Ss=null;function aa(){Ss&&Ss()}const tv=oe({data(){return{mouseDownTime:Date.now(),modifying:null,invisibleIDs:St,selection:Be,unsavedChange:oi,settings:Re,componentTree:ct,registeredComponents:rt,images:st,regImages:ei,pauseRendering:Oo,devMode:Ti,lastMove:Date.now(),lastSnap:Date.now()-1e3*12,snapGuides:{x:[],y:[]},spacingGuides:[]}},mounted(){this.adjustHeight(),Ss=this.redraw;const e=this.$refs.canvas.getContext("2d");e.imageSmoothingEnabled=!1,this.redraw()},unmounted(){Ss=null},computed:{height(){return this.settings.height*128},width(){return this.settings.width*128}},watch:{unsavedChange(){this.lastSnap=0,this.redraw()},selection:{deep:!0,handler(){this.redraw()}},componentTree:{deep:!0,handler(){this.redraw()}},regImages:{deep:!0,handler(){this.redraw()}},"settings.zoom"(){this.adjustHeight()},"settings.height"(){this.adjustHeight(),setTimeout(this.redraw,10)},"settings.width"(){setTimeout(this.redraw,10)},"settings.snapEnabled"(){this.settings.snapEnabled||(this.snapGuides.x=[],this.snapGuides.y=[])},registeredComponents(){this.selection?.component&&!this.registeredComponents[this.selection?.component.id]&&on({value:null}),this.redraw()},invisibleIDs:{deep:!0,handler(){this.redraw()}},pauseRendering(){this.redraw()},devMode:{handler(){this.redraw()}}},methods:{adjustHeight(){this.$refs.canvas.style.height=`${this.height*this.settings.zoom}px`},redraw(){if(this.pauseRendering)return;const e=this.$refs.canvas.getContext("2d",{alpha:!1});e.clearRect(0,0,this.width,this.height);for(let t=this.componentTree.length-1;t>=0;t--){const n=this.componentTree[t];Yt(n.id)||n.draw(e)}if(Date.now()-this.lastSnap>1e3*15){try{Zg(this.$refs.canvas.toDataURL())}catch{}this.lastSnap=Date.now()}if(this.selection?.component&&this.registeredComponents[this.selection?.component.id]&&um(e,this.selection?.component),(this.snapGuides.x.length||this.snapGuides.y.length)&&(e.save(),e.strokeStyle="rgba(76, 195, 255, 0.7)",e.lineWidth=1,e.setLineDash([4,6]),this.snapGuides.x.forEach(t=>{const n=Math.round(t)+.5;e.beginPath(),e.moveTo(n,0),e.lineTo(n,this.height),e.stroke()}),this.snapGuides.y.forEach(t=>{const n=Math.round(t)+.5;e.beginPath(),e.moveTo(0,n),e.lineTo(this.width,n),e.stroke()}),e.restore()),this.spacingGuides.length){e.save(),e.strokeStyle="rgba(255, 192, 92, 0.85)",e.fillStyle="rgba(255, 192, 92, 0.95)",e.lineWidth=1,e.setLineDash([2,4]),e.font="12px VT323, monospace",e.textAlign="center",e.textBaseline="middle";const t=4;this.spacingGuides.forEach(n=>{e.beginPath(),e.moveTo(n.x1,n.y1),e.lineTo(n.x2,n.y2),e.stroke(),n.axis==="x"?(e.beginPath(),e.moveTo(n.x1,n.y1-t),e.lineTo(n.x1,n.y1+t),e.moveTo(n.x2,n.y2-t),e.lineTo(n.x2,n.y2+t),e.stroke()):(e.beginPath(),e.moveTo(n.x1-t,n.y1),e.lineTo(n.x1+t,n.y1),e.moveTo(n.x2-t,n.y2),e.lineTo(n.x2+t,n.y2),e.stroke());const i=(n.x1+n.x2)/2,o=(n.y1+n.y2)/2,a=`${n.label}px`,s=e.measureText(a).width,l=4,d=14;e.fillStyle="rgba(20, 26, 35, 0.85)",e.fillRect(i-s/2-l,o-d/2,s+l*2,d),e.fillStyle="rgba(255, 192, 92, 0.95)",e.fillText(a,i,o)}),e.restore()}if(this.devMode){e.strokeStyle="rgba(255,255,255,0.3)",e.setLineDash([]),e.lineWidth=1,e.beginPath();for(let t=128;t<this.width;t+=128)e.moveTo(t-.5,0),e.lineTo(t-.5,this.height);for(let t=128;t<this.height;t+=128)e.moveTo(0,t-.5),e.lineTo(this.width,t-.5);e.stroke()}},getLowestCommonParents(e,t,n){if(e.isGroup())return e.getItems().some(i=>i.id==t)?e:e.getItems().filter(i=>i.getBoundingBox().isInside(n)).map(i=>this.getLowestCommonParents(i,t,n)).find(i=>!!i)},getParentList(e){return ct.value.some(t=>t.id==e.id)?ct.value:ti(e)?.getItems()},duplicateComponentForMove(e){const t=this.getParentList(e);if(!t)return null;const n=t.findIndex(o=>o.id==e.id),i=e.duplicate();return i?(t.splice(n===-1?0:n,0,i),on({value:i}),i):null},onClickDown(e){this.clearGuides();const t=this.getCursorPosition(e),n=sa(t);let i=this.getElementAt(t);if(!n){if(this.selection?.component&&this.selection?.component.getBoundingBox().isInside(t)&&(this.mouseDownTime=Date.now()),i&&(!this.selection?.component||!this.selection?.component.getBoundingBox().isInside(t))){if(this.selection?.component){const a=this.getLowestCommonParents(i,this.selection?.component.id,t),s=a?.getItems()?.find(l=>l.getBoundingBox().isInside(t));s?i=s:a&&(i=a)}on({value:i})}i||on({value:null})}const o=this.selection?.component;if(o){if(Kt(o)){this.redraw();return}let a,s="move",l=!1;n?(a=n.modifier,s=n.icon,l=n.singleAxisAction):o.getBoundingBox().isInside(t)&&(this.setCursor("move"),a=dm),a&&s!==void 0&&(this.modifying={startPosition:t,icon:s,elementStartPosition:o.getBoundingBox(),modifier:a,singleAxis:l,component:o,duplicateOnMove:e.altKey,duplicated:!1},s!=="move"&&this.modifying.component.startResize(this.modifying.elementStartPosition))}this.redraw()},onClickUp(e){this.clearGuides();const t=this.getCursorPosition(e),n=this.getElementAt(t);Date.now()-this.mouseDownTime<200&&this.selection?.component&&(n&&this.containsComponentAtPoint(n,this.selection?.component,t)?on({value:this.selection?.component.refineSelection(t)}):on({value:n})),this.redraw(),ur(),this.modifying&&this.modifying.component.endResize(),this.modifying=null},getElementAt(e){return this.componentTree.find(t=>t.getBoundingBox().isInside(e))},containsComponentAtPoint(e,t,n){let i=e;do{if(i==t)return!0;e=i,i=e.refineSelection(n)}while(i!=e);return i==t},setCursor(e){this.$refs.canvas.style.cursor=e},onMove(e){if(this.modifying&&Date.now()<=this.lastMove+20)return;this.lastMove=Date.now();const t=this.getCursorPosition(e),n=this.getElementAt(t);if(this.modifying){if(Kt(this.modifying.component)){this.setCursor("default");return}this.setCursor(this.modifying.icon);const i=t.x-this.modifying.startPosition.x,o=t.y-this.modifying.startPosition.y;let a=this.modifying.modifier(new Vt(i,o),this.modifying.elementStartPosition);if(this.modifying.icon==="move"){if(this.modifying.duplicateOnMove&&!this.modifying.duplicated&&e.altKey){const s=this.duplicateComponentForMove(this.modifying.component);s&&(this.modifying.component=s,this.modifying.elementStartPosition=s.getBoundingBox(),this.modifying.duplicated=!0)}a=this.applySnapping(a,this.modifying.component),a.ensureBounds(this.width,this.height),this.updateSpacingGuides(a,this.modifying.component)}else this.clearGuides(),a.ensureBounds(this.width,this.height);this.modifying.component.modify(a,this.modifying.singleAxis)}else{this.clearGuides();const i=sa(t);i&&this.selection?.component&&!Kt(this.selection.component)?this.setCursor(i.icon):n?n==this.selection?.component||this.selection?.component?.getBoundingBox().isInside(t)?this.setCursor(this.selection?.component&&Kt(this.selection.component)?"default":"move"):this.setCursor("pointer"):this.setCursor("default")}},clearGuides(){(this.snapGuides.x.length||this.snapGuides.y.length)&&(this.snapGuides.x=[],this.snapGuides.y=[]),this.spacingGuides.length&&(this.spacingGuides=[])},collectSnapTargets(e){const t=new Set,n=new Set,i=128;t.add(0),t.add(this.width/2),t.add(this.width),n.add(0),n.add(this.height/2),n.add(this.height);for(let o=0;o<=this.width;o+=i)t.add(o);for(let o=0;o<=this.height;o+=i)n.add(o);return this.componentTree.forEach(o=>Ns(o,a=>{if(e.contains(a.id)||Yt(a.id))return;const s=a.getBoundingBox();s!==ge.EMPTY&&(s.width<=0||s.height<=0||(t.add(s.x),t.add(s.x+s.width/2),t.add(s.x+s.width),n.add(s.y),n.add(s.y+s.height/2),n.add(s.y+s.height)))})),{x:Array.from(t),y:Array.from(n)}},collectSpacingTargets(e){const t=[];return this.componentTree.forEach(n=>Ns(n,i=>{if(e.contains(i.id)||Yt(i.id))return;const o=i.getBoundingBox();o!==ge.EMPTY&&(o.width<=0||o.height<=0||t.push(o))})),t},applySnapping(e,t){if(!this.settings.snapEnabled)return(this.snapGuides.x.length||this.snapGuides.y.length)&&(this.snapGuides.x=[],this.snapGuides.y=[]),e;const n=6,{x:i,y:o}=this.collectSnapTargets(t);let a=null,s=null;const l=[e.x,e.x+e.width/2,e.x+e.width],d=[e.y,e.y+e.height/2,e.y+e.height];for(const m of i)for(const c of l){const h=m-c,C=Math.abs(h);C<=n&&(!a||C<Math.abs(a.diff))&&(a={diff:h,line:m})}for(const m of o)for(const c of d){const h=m-c,C=Math.abs(h);C<=n&&(!s||C<Math.abs(s.diff))&&(s={diff:h,line:m})}return a?(e.x+=a.diff,this.snapGuides.x=[a.line]):this.snapGuides.x=[],s?(e.y+=s.diff,this.snapGuides.y=[s.line]):this.snapGuides.y=[],e},updateSpacingGuides(e,t){const n=this.collectSpacingTargets(t),i=[],o=(c,h)=>Math.min(c.y+c.height,h.y+h.height)-Math.max(c.y,h.y),a=(c,h)=>Math.min(c.x+c.width,h.x+h.width)-Math.max(c.x,h.x);let s=null,l=null,d=null,m=null;for(const c of n){if(o(e,c)>0){const A=Math.max(e.y,c.y),H=Math.min(e.y+e.height,c.y+c.height),G=(A+H)/2;if(c.x+c.width<=e.x){const _=e.x-(c.x+c.width);(!s||_<s.dist)&&(s={dist:_,lineY:G,edgeX:c.x+c.width})}if(c.x>=e.x+e.width){const _=c.x-(e.x+e.width);(!l||_<l.dist)&&(l={dist:_,lineY:G,edgeX:c.x})}}if(a(e,c)>0){const A=Math.max(e.x,c.x),H=Math.min(e.x+e.width,c.x+c.width),G=(A+H)/2;if(c.y+c.height<=e.y){const _=e.y-(c.y+c.height);(!d||_<d.dist)&&(d={dist:_,lineX:G,edgeY:c.y+c.height})}if(c.y>=e.y+e.height){const _=c.y-(e.y+e.height);(!m||_<m.dist)&&(m={dist:_,lineX:G,edgeY:c.y})}}}s&&s.dist>0&&i.push({x1:s.edgeX,y1:s.lineY,x2:e.x,y2:s.lineY,label:Math.round(s.dist).toString(),axis:"x"}),l&&l.dist>0&&i.push({x1:e.x+e.width,y1:l.lineY,x2:l.edgeX,y2:l.lineY,label:Math.round(l.dist).toString(),axis:"x"}),d&&d.dist>0&&i.push({x1:d.lineX,y1:d.edgeY,x2:d.lineX,y2:e.y,label:Math.round(d.dist).toString(),axis:"y"}),m&&m.dist>0&&i.push({x1:m.lineX,y1:e.y+e.height,x2:m.lineX,y2:m.edgeY,label:Math.round(m.dist).toString(),axis:"y"}),this.spacingGuides=i},getCursorPosition(e){const t=this.$refs.canvas.getBoundingClientRect(),n=Math.round((e.clientX-t.left)*(this.width/t.width)),i=Math.round((e.clientY-t.top)*(this.height/t.height));return new Vt(n,i)}}}),nv=["width","height"];function iv(e,t,n,i,o,a){return I(),E("div",{id:"canvasPadding",onMousedown:t[0]||(t[0]=fe((...s)=>e.onClickDown&&e.onClickDown(...s),["prevent"])),onMouseup:t[1]||(t[1]=(...s)=>e.onClickUp&&e.onClickUp(...s)),onMousemove:t[2]||(t[2]=(...s)=>e.onMove&&e.onMove(...s)),onMouseleave:t[3]||(t[3]=(...s)=>e.onClickUp&&e.onClickUp(...s))},[r("canvas",{ref:"canvas",id:"canvas",width:e.width,height:e.height},null,8,nv)],32)}const sv=re(tv,[["render",iv]]),Ul=["Down.png","Down_H.png","Down_C.png","Up.png","Up_H.png","Up_C.png","Left.png","Left_H.png","Left_C.png","Right.png","Right_H.png","Right_C.png","Play.png","Play_H.png","Play_C.png","PlayRed.png","PlayRed_H.png","PlayRed_C.png","List1.png","List2.png","List3.png"],Po=Ul.map(e=>e.substr(0,e.length-4)),ei=wn([]),st={};let Ki;const ov="/AdvancedGUI-CE/";async function Ks(e){const t=st[e].data;delete st[e],ei.splice(ei.indexOf(e),1),t.remove()}async function Ro(e,t,n){ei.indexOf(t)!==-1&&Ks(t);const i=document.createElement("img");i.crossOrigin="anonymous",i.onload=()=>{const o={name:t,data:i,ratio:i.naturalWidth/i.naturalHeight,isGif:n};st[t]=o,ei.push(t)},i.src=e,Ki.appendChild(i)}function go(e,t,n){e=e.replace(/%UUID_U%/g,"00000000000000000000000000000000").replace(/%UUID%/g,"00000000-0000-0000-0000-000000000000").replace(/%NAME%/g,"Player");let i=Ki.querySelector(`[id="${t}"]`);i||(i=document.createElement("img"),i.id=t,Ki.appendChild(i)),i.dataset.lastUrl!==e&&(delete i.dataset.noCors,i.dataset.lastUrl=e),i.dataset.noCors?i.removeAttribute("crossorigin"):i.crossOrigin="anonymous",i.onload=()=>{aa(),n.ratio=i.naturalWidth/i.naturalHeight},i.onerror=()=>{aa(),i.dataset.noCors||(i.dataset.noCors="1",i.removeAttribute("crossorigin"),i.src="",i.src=e)},i.src!=e&&(i.src=e)}function rv(e){return Ki.querySelector(`[id="${e}"]`)}async function Ll(e,t,n){const i=await Sl(e);await Ro(i,t,n)}function av(e){Ki=e;for(const t of Ul)fetch(`${ov}images/${t}`).then(n=>n.blob()).then(n=>Ll(n,t.substr(0,t.length-4),!1))}const lv=oe({data(){return{images:st,unregisterImage:Ks,inputTransformer:Je.inputTransformer,t:q}},props:{component:{type:Object,required:!0},maxHeight:{type:Number,required:!0},maxWidth:{type:Number,required:!0}},watch:{component:{deep:!0,handler(){this.ensureBounds()}}},computed:{gifMode(){return this.component.displayName=="GIF"}},methods:{ensureBounds(){const e=this.component.getBoundingBox();e.ensureBounds(this.maxWidth,this.maxHeight),this.component.modify(e)},fillCanvas(){this.component.keepImageRatio=!1,this.component.x=0,this.component.y=0,this.component.width=this.maxWidth,this.component.height=this.maxHeight}}}),dv={id:"imageEditor"},uv={class:"label heading"},cv=["value"],pv={class:"label"},fv={class:"settings-row"},hv={class:"input-box"},mv={class:"input-box"},gv={class:"settings-row"},vv={class:"input-box"},yv={class:"input-box"},wv={class:"settings-row"},bv={class:"settings-row"},$v={class:"label"},Cv={class:"settings-row"},Iv={class:"label"},Tv={class:"settings-row"},Ev={class:"label"};function Sv(e,t,n,i,o,a){return I(),E("div",dv,[r("div",uv,[K(f(e.gifMode?e.t("image.gif","GIF"):e.t("image.image","Image"))+" ",1),r("input",{type:"text",class:"imageNameInput",onInput:t[0]||(t[0]=s=>e.component.setImageUrl(s.target.value)),value:e.component.imageUrl},null,40,cv)]),t[18]||(t[18]=r("br",null,null,-1)),r("span",pv,f(e.t("image.dimensions","Dimensions")),1),r("div",fv,[r("div",hv,[U(r("input",{type:"number",onKeypress:t[1]||(t[1]=s=>e.inputTransformer(s,e.component.x)),"onUpdate:modelValue":t[2]||(t[2]=s=>e.component.x=s)},null,544),[[z,e.component.x,void 0,{number:!0}]]),t[13]||(t[13]=r("span",null,"X",-1))]),r("div",mv,[U(r("input",{type:"number",onKeypress:t[3]||(t[3]=s=>e.inputTransformer(s,e.component.width)),"onUpdate:modelValue":t[4]||(t[4]=s=>e.component.width=s)},null,544),[[z,e.component.width,void 0,{number:!0}]]),t[14]||(t[14]=r("span",null,"W",-1))])]),r("div",gv,[r("div",vv,[U(r("input",{type:"number",onKeypress:t[5]||(t[5]=s=>e.inputTransformer(s,e.component.y)),"onUpdate:modelValue":t[6]||(t[6]=s=>e.component.y=s)},null,544),[[z,e.component.y,void 0,{number:!0}]]),t[15]||(t[15]=r("span",null,"Y",-1))]),r("div",yv,[U(r("input",{type:"number",onKeypress:t[7]||(t[7]=s=>e.inputTransformer(s,e.component.height)),"onUpdate:modelValue":t[8]||(t[8]=s=>e.component.height=s)},null,544),[[z,e.component.height,void 0,{number:!0}]]),t[16]||(t[16]=r("span",null,"H",-1))])]),r("div",wv,[r("div",{class:"btn fillCanvas",onClick:t[9]||(t[9]=(...s)=>e.fillCanvas&&e.fillCanvas(...s))},[t[17]||(t[17]=r("span",{class:"material-icons"},"wallpaper",-1)),K(" "+f(e.t("image.fillCanvas","Fill canvas")),1)])]),r("div",bv,[r("span",$v,f(e.t("image.keepRatio","Keep ratio")),1),U(r("input",{type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=s=>e.component.keepImageRatio=s)},null,512),[[Qe,e.component.keepImageRatio]])]),r("div",Cv,[r("span",Iv,f(e.t("image.dithering","Dithering")),1),U(r("input",{type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=s=>e.component.dithering=s)},null,512),[[Qe,e.component.dithering]])]),r("div",Tv,[r("span",Ev,f(e.t("image.previewLoading","Preview loading component")),1),U(r("input",{type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=s=>e.component.drawLoading=s)},null,512),[[Qe,e.component.drawLoading]])])])}const Av=re(lv,[["render",Sv],["__scopeId","data-v-522e10f1"]]);class dn extends Se{constructor(t,n,i,o,a,s,l,d,m,c,h,C,A,H){super(t,n,i,o,a),this.id=t,this.name=n,this.clickAction=i,this.components=o,this.expanded=a,this.drawLoading=s,this.x=l,this.y=d,this.width=m,this.height=c,this.imageUrl=h,this.keepImageRatio=C,this.dithering=A,this.ratio=H,this.lastResizeWidth=m,this.lastResizeHeight=c,t!="-"&&go(h,t,this)}static displayName="Remote Image";static icon="satellite";displayName=dn.displayName;icon=dn.icon;vueComponent=ce(Av);resizeable=!0;lastResizeWidth;lastResizeHeight;itemLimit=1;itemClasses=["negAction"];setId(t){super.setId(t),go(this.imageUrl,t,this)}draw(t){if(this.drawLoading)this.components[0]&&!Yt(this.components[0].id)&&this.components[0].draw(t);else{const n=rv(this.id);if(n&&n.complete)try{if(n.naturalWidth>0&&n.naturalHeight>0)t.drawImage(n,this.x,this.y,this.width,this.height);else throw new Error("Remote image failed to load")}catch{t.drawImage(document.getElementById("broken_TAKEN_ID"),Math.max(this.x,this.x+(this.width-20)/2),Math.max(this.y,this.y+(this.height-20)/2),Math.min(this.width,20),Math.min(this.height,20))}}}getBoundingBox(){if(this.drawLoading&&this.components[0]){const t=this.components[0].getBoundingBox(),n=Math.min(this.x,t.x),i=Math.min(this.y,t.y);return new ge(n,i,Math.max(this.width+this.x,t.width+t.x)-n,Math.max(this.height+this.y,t.height+t.y)-i)}else return new ge(this.x,this.y,this.width,this.height)}modify(t){this.x=t.x,this.y=t.y;const n=this.ratio??0;if(this.keepImageRatio&&Number.isFinite(n)&&n>0){const o=this.resizeStartBounds?.width??this.lastResizeWidth??this.width,a=this.resizeStartBounds?.height??this.lastResizeHeight??this.height,s=Math.abs(t.width-o),l=Math.abs(t.height-a);if(s>=l?(this.width=t.width,this.height=this.width/n):(this.height=t.height,this.width=this.height*n),!Ti.value){const m=Re.width*128,c=Re.height*128,h=Math.min(1,m/this.width,c/this.height);h<1&&(this.width*=h,this.height*=h);const C=new ge(this.x,this.y,this.width,this.height);C.ensureBounds(m,c),this.x=C.x,this.y=C.y,this.width=C.width,this.height=C.height}}else this.width=t.width,this.height=t.height;this.lastResizeWidth=this.width,this.lastResizeHeight=this.height}refineSelection(){return this.drawLoading&&this.components[0]?this.components[0]:this}static fromJson(t,n){const i=Se.componentsFromJson(t.components);return new dn(t.id,t.name,n,i,t.expanded,t.drawLoading,t.x,t.y,t.width,t.height,t.imageUrl,t.keepImageRatio,t.dithering,t.ratio)}setImageUrl(t){this.imageUrl=t,go(t,this.id,this)}toDataObj(t){return{drawLoading:this.drawLoading,x:this.x,y:this.y,width:this.width,height:this.height,imageUrl:this.imageUrl,keepImageRatio:this.keepImageRatio,dithering:this.dithering,ratio:this.ratio,...super.toDataObj(t)}}static generator(){return new dn("-",dn.displayName,[],[],!0,!1,20,20,50,50,"https://visage.surgeplay.com/head/%UUID_U%",!0,!1,1)}}const kv=oe({data(){return{t:q}},props:{component:{type:Object,required:!0}}}),Nv={id:"hoverSettings"},Dv={class:"settings-row"},Mv={class:"label"},Pv={class:"settings-row"};function Rv(e,t,n,i,o,a){return I(),E("div",Nv,[r("div",Dv,[U(r("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=s=>e.component.drawClicked=s)},null,512),[[Qe,e.component.drawClicked]]),r("span",Mv,f(e.t("click.show","Show clicked component")),1)]),r("div",Pv,[r("p",null,f(e.t("click.desc","The Click Animation component is a group that holds two components. The first is shown normally; the second flashes briefly when the default component is clicked.")),1)])])}const xv=re(kv,[["render",Rv],["__scopeId","data-v-072eb3fb"]]);class un extends Se{constructor(t,n,i,o,a,s){super(t,n,i,o,a),this.id=t,this.name=n,this.clickAction=i,this.components=o,this.expanded=a,this.drawClicked=s}static displayName="Click Animation";static icon="mouse";displayName=un.displayName;icon=un.icon;vueComponent=ce(xv);itemLimit=2;itemClasses=["not-hovered","hovered"];getCurrentComponent(){return this.drawClicked?this.components[1]:this.components[0]}draw(t){const n=this.getCurrentComponent();n&&!Yt(n.id)&&n.draw(t)}refineSelection(t){const n=this.getCurrentComponent();return n?.getBoundingBox().isInside(t)?n:this}static fromJson(t,n){const i=Se.componentsFromJson(t.components);return new un(t.id,t.name,n,i,t.expanded,t.drawClicked)}toDataObj(t){return{drawClicked:this.drawClicked,...super.toDataObj(t)}}static generator(){return new un("-",un.displayName,[],[],!0,!1)}}const Ov=oe({data(){return{t:q}},components:{FontEditor:Ml,ColorInput:ir},props:{component:{type:Object,required:!0},maxHeight:{type:Number,required:!0},maxWidth:{type:Number,required:!0}},watch:{component:{deep:!0,handler(){this.ensureValues()}}},methods:{ensureValues(){this.component.x==null&&(this.component.x=0),this.component.y==null&&(this.component.y=0),this.component.size==null&&(this.component.size=0);const e=this.component.getBoundingBox();e.ensureBounds(this.maxWidth,this.maxHeight),this.component.modify(e)}}}),Uv={id:"textInputEditor"},Lv={class:"settings-row"},Fv={class:"label"},Vv={class:"settings-row"},Bv={class:"label"},Hv={class:"settings-row"},Gv={class:"label"},Wv={class:"label heading"},zv={class:"label heading"},_v={class:"settings-row"},Jv={class:"input-box"},Kv={class:"input-box"},qv={class:"settings-row"},Yv={class:"input-box"},jv={class:"input-box"},Xv={class:"settings-row"},Qv={class:"input-box"},Zv={style:{"margin-top":"15px"}};function ey(e,t,n,i,o,a){const s=He("color-input"),l=He("font-editor");return I(),E("div",Uv,[ve(s,{label:e.t("textInput.bg","Background color"),color:e.component.backgroundColor,"onUpdate:color":t[0]||(t[0]=d=>e.component.backgroundColor=d)},null,8,["label","color"]),ve(s,{label:e.t("textInput.bgActive","Active background color"),color:e.component.backgroundColorActive,"onUpdate:color":t[1]||(t[1]=d=>e.component.backgroundColorActive=d)},null,8,["label","color"]),r("div",Lv,[r("span",Fv,f(e.t("textInput.placeholder","Placeholder")),1),U(r("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=d=>e.component.placeHolder=d)},null,512),[[z,e.component.placeHolder]])]),r("div",Vv,[r("span",Bv,f(e.t("textInput.default","Default input")),1),U(r("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=d=>e.component.defaultInput=d)},null,512),[[z,e.component.defaultInput]])]),r("div",Hv,[r("span",Gv,f(e.t("textInput.maxLength","Max input length")),1),U(r("input",{type:"number",style:{"max-width":"40px"},"onUpdate:modelValue":t[4]||(t[4]=d=>e.component.maxLength=d)},null,512),[[z,e.component.maxLength,void 0,{number:!0}]])]),t[22]||(t[22]=r("br",null,null,-1)),r("span",Wv,f(e.t("textInput.textStyle","Text-Style")),1),ve(s,{color:e.component.fontColor,"onUpdate:color":t[5]||(t[5]=d=>e.component.fontColor=d)},null,8,["color"]),ve(s,{label:e.t("textInput.placeholderColor","Placeholder Color"),color:e.component.fontColorPlaceholder,"onUpdate:color":t[6]||(t[6]=d=>e.component.fontColorPlaceholder=d)},null,8,["label","color"]),ve(l,{font:e.component.font,"onUpdate:font":t[7]||(t[7]=d=>e.component.font=d),size:e.component.size,"onUpdate:size":t[8]||(t[8]=d=>e.component.size=d)},null,8,["font","size"]),r("div",zv,f(e.t("textInput.position","Position")),1),r("div",_v,[r("div",Jv,[U(r("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=d=>e.component.x=d)},null,512),[[z,e.component.x,void 0,{number:!0}]]),t[14]||(t[14]=K()),t[15]||(t[15]=r("span",null,"X",-1))]),r("div",Kv,[U(r("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=d=>e.component.width=d)},null,512),[[z,e.component.width,void 0,{number:!0}]]),t[16]||(t[16]=K()),t[17]||(t[17]=r("span",null,"W",-1))])]),r("div",qv,[r("div",Yv,[U(r("input",{type:"number","onUpdate:modelValue":t[11]||(t[11]=d=>e.component.y=d)},null,512),[[z,e.component.y,void 0,{number:!0}]]),t[18]||(t[18]=K()),t[19]||(t[19]=r("span",null,"Y",-1))]),r("div",jv,[U(r("input",{type:"number","onUpdate:modelValue":t[12]||(t[12]=d=>e.component.height=d)},null,512),[[z,e.component.height,void 0,{number:!0}]]),t[20]||(t[20]=K()),t[21]||(t[21]=r("span",null,"H",-1))])]),r("div",Xv,[r("div",Qv,[U(r("input",{type:"number","onUpdate:modelValue":t[13]||(t[13]=d=>e.component.padding=d)},null,512),[[z,e.component.padding,void 0,{number:!0}]]),r("span",null,f(e.t("textInput.padding","Padding")),1)])]),r("p",Zv,f(e.t("textInput.info","The user's input of this component is available through the placeholder %advancedgui_textinput_{id}%. PlaceholderAPI is required.").replace("{id}",e.component.id)),1)])}const ty=re(Ov,[["render",ey],["__scopeId","data-v-af3c6f76"]]);class Ht extends sr{constructor(t,n,i,o,a,s,l,d,m,c,h,C,A,H,G,_,Z){super(t,n,i,o,a,s,l),this.id=t,this.name=n,this.clickAction=i,this.x=o,this.y=a,this.width=s,this.height=l,this.padding=d,this.backgroundColor=m,this.backgroundColorActive=c,this.defaultInput=h,this.placeHolder=C,this.maxLength=A,this.fontColor=H,this.fontColorPlaceholder=G,this.font=_,this.size=Z}static displayName="Text-Input";static icon="keyboard";displayName=Ht.displayName;icon=Ht.icon;resizeable=!0;vueComponent=ce(ty);draw(t){t.fillStyle=this.backgroundColor,t.fillRect(this.x,this.y,this.width,this.height),t.font=`${this.size}px ${this.font}`,this.defaultInput?t.fillStyle=this.fontColor:t.fillStyle=this.fontColorPlaceholder,t.fillText(this.defaultInput||this.placeHolder,this.x+this.padding,this.y+this.height-this.padding)}modify(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}toDataObj(){return{type:Ht.displayName,x:this.x,y:this.y,width:this.width,height:this.height,padding:this.padding,backgroundColor:this.backgroundColor,backgroundColorActive:this.backgroundColorActive,defaultInput:this.defaultInput,placeHolder:this.placeHolder,maxLength:this.maxLength,fontColor:this.fontColor,fontColorPlaceholder:this.fontColorPlaceholder,font:this.font,size:this.size}}static fromJson(t,n){return new Ht(t.id,t.name,n,t.x,t.y,t.width,t.height,t.padding,t.backgroundColor,t.backgroundColorActive,t.defaultInput,t.placeHolder,t.maxLength,t.fontColor,t.fontColorPlaceholder,t.font,t.size)}static generator(){return new Ht("-",Ht.displayName,[],10,10,64,20,3,Jt("#2d5380",1),Jt("#042c5d",1),"","Name...",7,Jt("#eeeeee",1),Jt("#c4c4c4",1),"VT323",20)}}const ny=oe({data(){return{components:rt,defaultData:void 0,idWatcher:Vn,t:q}},props:{component:{type:Object,required:!0}},mounted(){this.defaultData=this.component.getTemplateDefaultData()},watch:{defaultData:{deep:!0,handler(){this.updateTemplateData()}},"component.targetId":{handler(){this.defaultData=this.component.getTemplateDefaultData()}},"component.id":{handler(){this.defaultData=this.component.getTemplateDefaultData(),this.updateTemplateData()}}},methods:{updateTemplateData(){if(this.defaultData){for(const e of this.defaultData)this.component.templateData.some(t=>t.name==e.name&&typeof t.value==typeof e.value)||this.component.templateData.push(JSON.parse(JSON.stringify(e)));this.component.templateData=this.component.templateData.filter(e=>this.defaultData.some(t=>t.name==e.name&&typeof t.value==typeof e.value))}}}}),iy={id:"replicaSettings"},sy={class:"settings-row"},oy={class:"label"},ry={class:"label heading"},ay={class:"settings-row"},ly={class:"input-box"},dy={class:"input-box"},uy={class:"label normalCase"},cy=["onUpdate:modelValue"],py=["onUpdate:modelValue"];function fy(e,t,n,i,o,a){return I(),E("div",iy,[r("div",sy,[r("span",oy,f(e.t("replica.templateId","Template ID")),1),U(r("input",{type:"text",class:"componentIdInput",onFocus:t[0]||(t[0]=s=>e.idWatcher=l=>e.component.targetId=l),"onUpdate:modelValue":t[1]||(t[1]=s=>e.component.targetId=s)},null,544),[[z,e.component.targetId]])]),r("p",{class:Pe(["label",e.components[e.component.targetId]&&e.components[e.component.targetId].displayName=="Template"?"":"red-text"])},f(e.t("replica.target","TARGET"))+f(e.components[e.component.targetId]?e.components[e.component.targetId].displayName!="Template"?e.t("replica.notTemplate"," is not a Template"):": "+e.components[e.component.targetId].name:e.t("replica.notFound"," NOT FOUND!")),3),r("div",ry,f(e.t("replica.position","Position")),1),r("div",ay,[r("div",ly,[U(r("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=s=>e.component.position.x=s)},null,512),[[z,e.component.position.x,void 0,{number:!0}]]),t[4]||(t[4]=r("span",null,"X",-1))]),r("div",dy,[U(r("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=s=>e.component.position.y=s)},null,512),[[z,e.component.position.y,void 0,{number:!0}]]),t[5]||(t[5]=r("span",null,"Y",-1))])]),t[6]||(t[6]=r("br",null,null,-1)),(I(!0),E(le,null,Xe(e.component.templateData,(s,l)=>(I(),E("div",{key:l,class:"settings-row"},[r("span",uy,"#"+f(s.name)+" = ",1),typeof s.value=="number"?U((I(),E("input",{key:0,type:"number","onUpdate:modelValue":d=>s.value=d},null,8,cy)),[[z,s.value,void 0,{number:!0}]]):U((I(),E("input",{key:1,type:"text","onUpdate:modelValue":d=>s.value=d},null,8,py)),[[z,s.value]])]))),128))])}const hy=re(ny,[["render",fy],["__scopeId","data-v-eb1804d3"]]);class Gt extends Qi{constructor(t,n,i,o,a,s){super(t,n,i),this.id=t,this.name=n,this.clickAction=i,this.position=o,this.targetId=a,this.templateData=s}static displayName="Replica";static icon="collections_bookmark";displayName=Gt.displayName;icon=Gt.icon;vueComponent=ce(hy);actionable=!1;getTemplate(){const t=rt[this.targetId];if(t?.displayName==Je.displayName)return t}getGroup(){return this.getTemplate()?.transpileToGroup(this.templateData,this.position,this.id)}getTemplateDefaultData(){return this.getTemplate()?.defaultData}draw(t){this.getGroup()?.draw(t)}modify(t){this.position.x=t.x,this.position.y=t.y}getBoundingBox(){return this.getGroup()?.getBoundingBox()||new ge(0,0,0,0)}toDataObj(t){return t?this.getGroup()?.toDataObj(!0)||{}:{type:Gt.displayName,position:this.position,targetId:this.targetId,templateData:this.templateData}}static fromJson(t,n){return new Gt(t.id,t.name,n,t.position,t.targetId,t.templateData)}static generator(){return new Gt("-",Gt.displayName,[],{x:10,y:10},"",[])}}class Wt extends Qi{constructor(t,n,i){super(t,n,i),this.id=t,this.name=n,this.clickAction=i}static displayName="Dummy";static icon="code";displayName=Wt.displayName;icon=Wt.icon;vueComponent=ce(Cl);actionable=!1;hideable=!1;draw(){}modify(){}getBoundingBox(){return ge.EMPTY}toDataObj(){return{type:Wt.displayName}}static fromJson(t,n){return new Wt(t.id,t.name,n)}static generator(){return new Wt("-",Wt.displayName,[])}}const my=oe({data(){return{t:q}},props:{component:{type:Object,required:!0}}}),gy={id:"listSettings"},vy={class:"varBox"},yy={class:"label heading"},wy=["onUpdate:modelValue"],by={value:"number"},$y={value:"string"},Cy=["onUpdate:modelValue"],Iy=["onClick"],Ty={class:"text"},Ey={class:"varBox entries"},Sy={class:"label heading"},Ay={class:"varName"},ky=["onUpdate:modelValue"],Ny=["onUpdate:modelValue"],Dy=["onClick"],My={class:"text"},Py={class:"label heading"},Ry={class:"settings-row"},xy={class:"input-box"},Oy={class:"input-box"},Uy={class:"settings-row"},Ly={class:"input-box"},Fy={class:"label heading"},Vy=["max"];function By(e,t,n,i,o,a){return I(),E("div",gy,[r("div",vy,[r("div",yy,f(e.t("list.entryVars","Entry variables")),1),(I(!0),E(le,null,Xe(e.component.entryType,(s,l)=>(I(),E("div",{key:l,class:"settings-row"},[U(r("select",{"onUpdate:modelValue":d=>s.type=d},[r("option",by,f(e.t("common.number","Number")),1),r("option",$y,f(e.t("common.text","Text")),1)],8,wy),[[si,s.type]]),t[6]||(t[6]=r("span",{class:"label hashtag"},"#",-1)),U(r("input",{class:"varName",type:"text","onUpdate:modelValue":d=>s.name=d},null,8,Cy),[[z,s.name]]),r("span",{class:"material-icons closeIcon",onClick:d=>e.component.entryType.splice(l,1)},"close",8,Iy)]))),128)),r("div",{class:"btn",onClick:t[0]||(t[0]=s=>e.component.entryType.push({name:"varName",type:"string"}))},[t[7]||(t[7]=r("span",{class:"material-icons"},"add",-1)),r("span",Ty,f(e.t("list.addVariable","Add variable")),1)])]),t[11]||(t[11]=r("br",null,null,-1)),r("div",Ey,[r("div",Sy,f(e.t("list.entries","Entries")),1),(I(!0),E(le,null,Xe(e.component.entries,(s,l)=>(I(),E("div",{key:l,class:"settings-row entry"},[r("div",null,[(I(!0),E(le,null,Xe(e.component.entryType,(d,m)=>(I(),E("div",{key:m,class:"entry-row"},[r("span",Ay,"#"+f(d.name)+" =",1),d.type=="number"?U((I(),E("input",{key:0,type:"number","onUpdate:modelValue":c=>s[d.name]=c},null,8,ky)),[[z,s[d.name],void 0,{number:!0}]]):U((I(),E("input",{key:1,type:"text","onUpdate:modelValue":c=>s[d.name]=c},null,8,Ny)),[[z,s[d.name]]])]))),128))]),r("span",{class:"material-icons closeIcon",onClick:d=>e.component.entries.splice(l,1)},"close",8,Dy)]))),128)),r("div",{class:"btn",onClick:t[1]||(t[1]=s=>e.component.entries.push({}))},[t[8]||(t[8]=r("span",{class:"material-icons"},"add",-1)),r("span",My,f(e.t("list.addEntry","Add entry")),1)])]),t[12]||(t[12]=r("br",null,null,-1)),r("div",Py,f(e.t("list.offset","Entry offset")),1),r("div",Ry,[r("div",xy,[U(r("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=s=>e.component.xOffset=s)},null,512),[[z,e.component.xOffset,void 0,{number:!0}]]),t[9]||(t[9]=r("span",null,"X",-1))]),r("div",Oy,[U(r("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=s=>e.component.yOffset=s)},null,512),[[z,e.component.yOffset,void 0,{number:!0}]]),t[10]||(t[10]=r("span",null,"Y",-1))])]),t[13]||(t[13]=r("br",null,null,-1)),r("div",Uy,[r("div",Ly,[U(r("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=s=>e.component.itemsAtOnce=s)},null,512),[[z,e.component.itemsAtOnce,void 0,{number:!0}]]),r("span",null,f(e.t("list.entriesPerPage","Entries per page")),1)])]),t[14]||(t[14]=r("br",null,null,-1)),r("div",Fy,f(e.t("list.showPage","Show page ({current}/{total})").replace("{current}",(e.component.drawOffset+1).toString()).replace("{total}",e.component.pageCount.toString())),1),U(r("input",{type:"range","onUpdate:modelValue":t[5]||(t[5]=s=>e.component.drawOffset=s),max:e.component.pageCount-1},null,8,Vy),[[z,e.component.drawOffset,void 0,{number:!0}]]),t[15]||(t[15]=r("br",null,null,-1)),r("p",null,f(e.t("list.help","Use #variableName in any text-input within this template to use the corresponding variable. You can also use them in actions. Make sure each variable has a value. In number inputs you can press '#' to activate text input.")),1)])}const Hy=re(my,[["render",By]]);class cn extends Se{constructor(t,n,i,o,a,s,l,d,m,c,h){super(t,n,i,o,a),this.id=t,this.name=n,this.clickAction=i,this.components=o,this.expanded=a,this.xOffset=s,this.yOffset=l,this.itemsAtOnce=d,this.entryType=m,this.entries=c,this.drawOffset=h}static displayName="List";static icon="format_list_bulleted";displayName=cn.displayName;icon=cn.icon;vueComponent=ce(Hy);actionable=!1;get pageCount(){return Math.max(this.entries.length-this.itemsAtOnce+1,1)}getBoundingBox(){const t=super.getBoundingBox();return t.width+=(this.itemsAtOnce-1)*this.xOffset,t.height+=(this.itemsAtOnce-1)*this.yOffset,t}transpileToGroup(){const{x:t,y:n}=super.getBoundingBox(),i=[];for(let o=0;o<this.pageCount;o++){const a=`${this.id}#${o}`,s=[];for(let l=0;l<this.itemsAtOnce;l++){const d=o+l;if(d>=this.entries.length)break;const m=this.entries[d],c=Object.keys(m).map(h=>({name:h,value:m[h]}));s.push(Tl(c,{x:t+this.xOffset*l,y:n+this.yOffset*l},`${a}#${l}`,this.components))}i.push(new Se(a,"",[],s,!1))}return new Nt(this.id,this.name,[],i,!1,this.drawOffset)}draw(t){this.transpileToGroup().draw(t)}toDataObj(t){return t?this.transpileToGroup().toDataObj(t):{xOffset:this.xOffset,yOffset:this.yOffset,itemsAtOnce:this.itemsAtOnce,entryType:this.entryType,entries:this.entries,drawOffset:this.drawOffset,...super.toDataObj()}}static fromJson(t,n){const i=Se.componentsFromJson(t.components);return new cn(t.id,t.name,n,i,t.expanded,t.xOffset,t.yOffset,t.itemsAtOnce,t.entryType,t.entries,t.drawOffset)}static generator(){return new cn("-",cn.displayName,[],[qi(new dt("-",dt.displayName,[],14,26,"#test","VT323",20,Jt("#ffffff",1),0,!1,"123")),qi(new gt("-",gt.displayName,[],10,10,130,20,"#color",3))],!0,0,25,3,[{name:"color",type:"string"},{name:"test",type:"string"}],[{color:Pi(),test:"Test 1"},{color:Pi(),test:"Test 2"},{color:Pi(),test:"Test 3"},{color:Pi(),test:"Test 4"}],0)}}const Gy=[gt.displayName,dt.displayName,Ct.displayName,dn.displayName,_t.displayName,Se.displayName,zt.displayName,un.displayName,Dt.displayName,Ht.displayName,Nt.displayName,Je.displayName,Gt.displayName,cn.displayName,Wt.displayName],As={[gt.displayName]:gt,[dt.displayName]:dt,[Ct.displayName]:Ct,[dn.displayName]:dn,[_t.displayName]:_t,[Se.displayName]:Se,[zt.displayName]:zt,[un.displayName]:un,[Dt.displayName]:Dt,[Ht.displayName]:Ht,[Nt.displayName]:Nt,[Je.displayName]:Je,[Gt.displayName]:Gt,[cn.displayName]:cn,[Wt.displayName]:Wt},St=Ot([]),rt={};function la(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length;for(let o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*i));return t}function cr(){let e=la(8);for(;rt[e];)e=la(8);return e}function Yt(e){return St.value.includes(e)}function ks(e){e.includes("#")||Object.keys(rt).filter(n=>n.startsWith(`${e}#`)).forEach(ks);const t=St.value.indexOf(e);t!=-1?St.value.splice(t,1):St.value.push(e)}function xo(e,t=cr,n){if(e.type){n[e.id]=t(e.id);const i=As[e.type].childComponentProps;if(i){for(const o of i)if(e[o])if(Array.isArray(e[o]))for(const a of e[o])xo(a,t,n);else xo(e[o],t,n)}}}function Ns(e,t){t(e),e.isGroup()&&e.getItems().forEach(n=>Ns(n,t))}function ti(e){return Object.values(rt).find(t=>t.isGroup()&&t.getItems().some(n=>n.id==e.id))}function Kt(e){if(e.locked)return!0;let t=ti(e);for(;t;){if(t.locked)return!0;t=ti(t)}return!1}function qi(e){return e.id=="-"&&e.setId(cr()),rt[e.id]=e,e.id.includes("#")&&St.value.includes(e.id.split("#")[0])&&!St.value.includes(e.id)&&St.value.push(e.id),e}function pr(e){delete rt[e.id],e.id.includes("#")||Object.values(rt).filter(t=>t.id.startsWith(`${e.id}#`)||t.id.endsWith(`#${e.id}`)).forEach(pr)}function Fl(e,t=cr){const n={};xo(e,t,n);let i=JSON.stringify(e);return Object.keys(n).forEach(o=>i=i.replace(new RegExp(`${o}`,"g"),n[o])),JSON.parse(i)}function es(e,t=!1){if(t&&(e=Fl(e)),e.type){const n=Ws(e.action),i=As[e.type].fromJson(e,n);return i.locked=!!e.locked,qi(i),i}else return null}const ct=Ot([]),Be=Ot(null),Ds=Ot(null),Oo=Ot(!1),Ti=Ot(!1),Vn=Ot((()=>{})),Ln=wn({loading:!1,error:null,action:null,info:null});function Xt(e){Ln.loading=e}function qs(e,t=!1,n){t||(Ln.loading=!1),Ln.action=n||null,Ln.info=e}function fr(e,t){Ln.action=t||null,Ln.loading=!1,Ln.error=e}function on(e){e.value&&e.event&&document.activeElement?.classList?.contains("componentIdInput")?(Vn.value(e.value.id),e.event.preventDefault()):Be.value=e.value?{component:e.value,action:null}:null}function Vl(e){if(e||(e=ct.value),Ds.value){const t=es(JSON.parse(Ds.value),!0);e.splice(0,0,t),on({value:t})}}function Wy(e,t){e.forEach(n=>{const i=es(n,t);if(i)e.length==1?ct.value.splice(0,0,i):ct.value.push(i),qi(i);else throw Error(`Unable to import component ${JSON.stringify(n).substr(0,100)}`)})}const zy=oe({data(){return{loading:Ln,t:q}}}),_y={key:0,class:"material-icons spin"},Jy={key:1,class:"errorScreen"},Ky={class:"action-row"},qy={class:"text"},Yy={class:"text"},jy={key:2,class:"infoScreen"},Xy=["innerHTML"],Qy={class:"action-row"},Zy={class:"text"},e1={class:"text"};function t1(e,t,n,i,o,a){return I(),E("div",{class:"loadingPrompt",style:ii({display:e.loading.loading||e.loading.error||e.loading.info?"flex":"none"})},[e.loading.loading?(I(),E("span",_y," autorenew ")):e.loading.error?(I(),E("div",Jy,[r("h1",null,[t[4]||(t[4]=r("span",{class:"material-icons"},"warning",-1)),K(" "+f(e.t("loading.errorTitle","Something went wrong")),1)]),r("p",null,f(e.loading.error),1),r("div",Ky,[e.loading.action?(I(),E("div",{key:0,class:"btn action",onClick:t[0]||(t[0]=s=>{e.loading.error=null,e.loading.action.callback()})},[r("span",qy,f(e.loading.action.label),1)])):me("",!0),r("div",{class:"btn close",onClick:t[1]||(t[1]=s=>e.loading.error=null)},[r("span",Yy,f(e.t("loading.close","Close")),1)])])])):(I(),E("div",jy,[r("p",null,[t[5]||(t[5]=r("span",{class:"material-icons"},"info",-1)),r("span",{innerHTML:e.loading.info},null,8,Xy)]),r("div",Qy,[r("div",{class:"btn close",onClick:t[2]||(t[2]=s=>e.loading.info=null)},[r("span",Zy,f(e.t("modal.ok","Okay")),1)]),e.loading.action?(I(),E("div",{key:0,class:"btn action",onClick:t[3]||(t[3]=s=>{e.loading.info=null,e.loading.action.callback()})},[r("span",e1,f(e.loading.action.label),1)])):me("",!0)])]))],4)}const n1=re(zy,[["render",t1],["__scopeId","data-v-bf2a313b"]]),i1=oe({props:{dragIndication:{type:Boolean}},data(){return{}}});function s1(e,t,n,i,o,a){return I(),E("div",{class:Pe([e.dragIndication?"":"invisible","dropzone"]),onDragover:t[0]||(t[0]=fe(s=>s.target.classList.add("targeted"),["prevent","self"])),onDragleave:t[1]||(t[1]=fe(s=>s.target.classList.remove("targeted"),["self"])),onDrop:t[2]||(t[2]=fe(s=>e.$emit("droped"),["prevent","self"]))},null,34)}const o1=re(i1,[["render",s1]]),r1=oe({name:"ComponentList",components:{DragZone:o1},data(){return{activeIndex:-2,optElem:null,invisibleIDs:St,toggleVis:ks,t:q}},props:{components:{type:Array,required:!0},modelValue:{type:Object},root:{type:Boolean,default:!1},itemLimit:{type:Number},itemClasses:{type:Array,default:()=>[]},treeState:{type:Object,default:()=>wn({dragElement:null,dragElementsList:null})}},mounted(){document.addEventListener("click",this.checkClose,{capture:!0})},unmounted(){document.removeEventListener("click",this.checkClose,{capture:!0})},computed:{hasCapacity(){if(this.itemLimit===void 0)return!0;let e=this.components.length;return this.activeIndex!=-2&&e--,e<this.itemLimit}},methods:{dragStart(e,t,n){e.classList.add("dragging"),this.treeState.dragElement=t,this.treeState.dragElementsList=this.components,this.activeIndex=n},dragEnd(e){e.classList.remove("dragging"),this.treeState.dragElement=null,this.treeState.dragElementsList=null,this.activeIndex=-2},dragDrop(e){if(!this.treeState.dragElement)return;const t=this.treeState.dragElementsList?.indexOf(this.treeState.dragElement);t!==void 0&&t!=-1&&this.treeState.dragElementsList?.splice(t,1),this.components.splice(e,0,this.treeState.dragElement)},openMenu(e,t){const n=this.$refs.moreMenu;n.style.display="block",n.style.opacity="0",setTimeout(()=>{let i=t.x,o=t.y;i+n.offsetWidth>window.innerWidth&&(i=window.innerWidth-n.offsetWidth-5),o+n.offsetHeight>window.innerHeight&&(o=t.y-n.offsetHeight-5),n.style.top=o+"px",n.style.left=i+"px",n.style.opacity="1"},10),this.optElem=e},checkClose(e){const t=this.$refs.moreMenu;if(!t)return;const n=e.target;t.contains(n)||(t.style.display="none")},duplicateOpt(){const e=this.components.indexOf(this.optElem);if(this.optElem&&e!=-1){const t=this.optElem.duplicate();t&&(this.components.splice(e,0,t),this.$emit("update:modelValue",t))}},deleteOpt(){const e=this.components.indexOf(this.optElem);e!=-1&&(this.components.splice(e,1),this.optElem?.delete(),this.$emit("deleted",this.optElem))},visibilityOpt(){ks(this.optElem.id)},copyOpt(){this.$emit("copy",this.optElem?.toJson())},addChildOpt(e){this.$emit("add-child",{event:e,anchor:this.optElem.getItems()})}}}),a1={class:"moreMenu absoluteMenu",ref:"moreMenu"},l1={class:"material-icons"},d1=["onMousedown","onDragstart"],u1={class:"itemName row"},c1=["onClick"],p1={class:"material-icons"},f1=["onClick"],h1={key:0,class:"subFolder"};function m1(e,t,n,i,o,a){const s=He("drag-zone"),l=He("component-list",!0);return I(),E("div",null,[r("div",a1,[e.optElem?(I(),E(le,{key:0},[e.optElem.isGroup()&&(e.optElem.itemLimit===void 0||e.optElem.itemLimit>e.optElem.getItems().length)?(I(),E(le,{key:0},[r("div",{class:"entry",onClick:t[0]||(t[0]=fe((...d)=>e.addChildOpt&&e.addChildOpt(...d),["stop"]))},[t[13]||(t[13]=r("span",{class:"material-icons"},"+",-1)),K(" "+f(e.t("componentList.addChild","Add child")),1)]),t[14]||(t[14]=r("div",{class:"divider"},null,-1))],64)):me("",!0),r("div",{class:"entry",onClick:t[1]||(t[1]=fe(d=>e.deleteOpt(),["stop"]))},[t[15]||(t[15]=r("span",{class:"material-icons"},"delete",-1)),K(" "+f(e.t("componentList.delete","Delete")),1)]),t[19]||(t[19]=r("div",{class:"divider"},null,-1)),r("div",{class:"entry",onClick:t[2]||(t[2]=fe(d=>e.copyOpt(),["stop"]))},[t[16]||(t[16]=r("span",{class:"material-icons"},"content_copy",-1)),K(" "+f(e.t("componentList.copy","Copy")),1)]),t[20]||(t[20]=r("div",{class:"divider"},null,-1)),e.hasCapacity?(I(),E(le,{key:1},[r("div",{class:"entry",onClick:t[3]||(t[3]=fe(d=>e.duplicateOpt(),["stop"]))},[t[17]||(t[17]=r("span",{class:"material-icons"},"add_to_photos",-1)),K(" "+f(e.t("componentList.duplicate","Duplicate")),1)]),t[18]||(t[18]=r("div",{class:"divider"},null,-1))],64)):me("",!0),e.optElem.hideable?(I(),E("div",{key:2,class:"entry",onClick:t[4]||(t[4]=fe(d=>e.visibilityOpt(),["stop"]))},[r("span",l1,f(e.invisibleIDs.indexOf(e.optElem.id)!=-1?"visibility":"visibility_off"),1),K(" "+f(e.invisibleIDs.indexOf(e.optElem.id)!=-1?e.t("componentList.show","Show"):e.t("componentList.hide","Hide")),1)])):me("",!0)],64)):me("",!0)],512),r("div",null,[e.activeIndex!=0&&e.hasCapacity?(I(),kt(s,{key:0,dragIndication:!!e.treeState.dragElement,onDroped:t[5]||(t[5]=d=>e.dragDrop(0))},null,8,["dragIndication"])):me("",!0),(I(!0),E(le,null,Xe(e.components,(d,m)=>(I(),E("div",{key:m},[r("div",{class:Pe(["item",(e.modelValue==d?"active ":"")+(d.id&&e.invisibleIDs.indexOf(d.id)!=-1?"invisible ":"")+(e.itemClasses[m]||"")]),onMousedown:fe(c=>e.$emit("update:modelValue",{value:e.modelValue==d?null:d,event:c}),["stop"]),draggable:"true",ondragstart:"event.dataTransfer.setData('text/plain', null)",onDragstart:fe(c=>e.dragStart(c.target,d,m),["self"]),onDragend:t[11]||(t[11]=fe(c=>e.dragEnd(c.target),["self"])),onDragover:t[12]||(t[12]=fe(()=>{},["prevent"]))},[r("div",u1,[d.isGroup()?(I(),E("span",{key:0,class:"material-icons expandBtn",onClick:fe(c=>d.expanded=!d.expanded,["stop"])},f(d.expanded?"keyboard_arrow_down":"keyboard_arrow_right"),9,c1)):me("",!0),r("span",p1,f(d.icon),1),K(f(e.t(`component.${d.name}`,e.t(`action.${d.name}`,d.name)))+" ",1),t[21]||(t[21]=r("span",{class:"material-icons dragIndicator"},"drag_indicator",-1)),r("span",{class:"material-icons moreMenuBtn",onMousedown:t[6]||(t[6]=fe(()=>{},["stop"])),onClick:fe(c=>e.openMenu(d,c),["stop"])},"more_vert",40,f1)]),d.isGroup()&&d.expanded?(I(),E("div",h1,[ve(l,{components:d.getItems(),modelValue:e.modelValue,treeState:e.treeState,itemLimit:d.itemLimit,itemClasses:d.itemClasses,onDeleted:t[7]||(t[7]=c=>e.$emit("deleted",c)),"onUpdate:modelValue":t[8]||(t[8]=c=>e.$emit("update:modelValue",c)),onCopy:t[9]||(t[9]=c=>e.$emit("copy",c)),onAddChild:t[10]||(t[10]=c=>e.$emit("add-child",c))},null,8,["components","modelValue","treeState","itemLimit","itemClasses"])])):me("",!0)],42,d1),e.activeIndex!=m&&e.activeIndex!=m+1&&e.hasCapacity?(I(),kt(s,{key:0,dragIndication:!!e.treeState.dragElement,onDroped:c=>e.dragDrop(m+1)},null,8,["dragIndication","onDroped"])):me("",!0)]))),128))])])}const Bl=re(r1,[["render",m1],["__scopeId","data-v-3770d961"]]),g1=oe({components:{ComponentList:Bl},data(){return{settings:Re,actionTarget:null,copiedAction:null,actions:Do,actionIDs:Vh,toggleVis:ks,invisibleIDs:St,selection:Be,devMode:Ti,isActionMenuOpen:!1,alignScope:"canvas",t:q}},computed:{fillCanvasTarget(){if(!this.selection?.component||Kt(this.selection.component))return null;let e=this.selection.component;for(;e;){if(["Image","GIF","Remote Image"].includes(e.displayName))return e;e=ti(e)}return null},parentComponent(){return this.selection?.component&&ti(this.selection.component)||null},hasParent(){return!!this.parentComponent},canAlign(){return!this.selection?.component||Kt(this.selection.component)?!1:this.selection.component.getBoundingBox()!==ge.EMPTY}},watch:{hasParent(e){!e&&this.alignScope==="parent"&&(this.alignScope="canvas")}},mounted(){document.addEventListener("click",this.checkClose,{capture:!0})},unmounted(){document.removeEventListener("click",this.checkClose,{capture:!0})},methods:{fillCanvas(){if(this.selection?.component&&Kt(this.selection.component))return;const e=this.fillCanvasTarget;if(!e)return;const t=this.settings.width*128,n=this.settings.height*128;e.keepImageRatio=!1,e.modify(new ge(0,0,t,n))},setAlignScope(e){e==="parent"&&!this.hasParent||(this.alignScope=e)},getAlignmentBounds(){const e=new ge(0,0,this.settings.width*128,this.settings.height*128);if(this.alignScope==="parent"){const t=this.parentComponent?.getBoundingBox();if(t&&t!==ge.EMPTY)return t}return e},alignSelected(e,t){if(!this.selection?.component||Kt(this.selection.component))return;const n=this.selection.component.getBoundingBox();if(n===ge.EMPTY)return;const i=this.getAlignmentBounds();let o=n.x,a=n.y;e==="x"?t==="start"?o=i.x:t==="center"?o=i.x+(i.width-n.width)/2:o=i.x+i.width-n.width:t==="start"?a=i.y:t==="center"?a=i.y+(i.height-n.height)/2:a=i.y+i.height-n.height,this.selection.component.modify(new ge(o,a,n.width,n.height)),ur()},checkDelete(e){e==this.selection?.action&&(this.selection.action=null)},addActionToTree(e){this.showActionAddMenu(e.event,e.anchor)},addNewAction(e){if(this.selection&&this.actionTarget){const t=Do[e].generator(this.selection.component);this.actionTarget.push(t),this.selection.action=t}this.closeActionAddMenu()},pasteAction(){if(this.selection&&this.copiedAction&&this.actionTarget){const e=nr(JSON.parse(this.copiedAction));this.actionTarget.push(e),this.selection.action=e}this.closeActionAddMenu()},toggleActionAddMenu(e){if(this.isActionMenuOpen){this.closeActionAddMenu();return}this.showActionAddMenu(e,void 0,!0)},closeActionAddMenu(){const e=this.$refs.actionAddMenu;e&&(e.style.display="none",e.style.opacity="0",e.style.pointerEvents="none",e.style.visibility="hidden",this.isActionMenuOpen=!1,this.actionTarget=null)},showActionAddMenu(e,t,n=!1){this.actionTarget=t||(this.selection?this.selection.component.clickAction:null);const i=this.$refs.actionAddMenu;i.style.display="block",i.style.opacity="0",i.style.visibility="hidden",i.style.pointerEvents="none";const o=8,a=i.offsetWidth,s=i.offsetHeight;let l=e.clientX,d=e.clientY+o;if(n){const m=this.$refs.addActionBtn;if(m){const c=m.getBoundingClientRect();l=c.left,d=c.bottom+o,d+s>window.innerHeight&&(d=c.top-s-o)}}else{const m=e.currentTarget;if(m&&m.getBoundingClientRect){const c=m.getBoundingClientRect();l=c.right+o,d=c.top,l+a>window.innerWidth&&(l=c.left-a-o)}}l+a>window.innerWidth&&(l=window.innerWidth-a-o),l<o&&(l=o),d+s>window.innerHeight&&(d=window.innerHeight-s-o),d<o&&(d=o),i.style.top=`${d}px`,i.style.left=`${l}px`,i.style.visibility="visible",requestAnimationFrame(()=>{i.style.opacity="1",i.style.pointerEvents="auto"}),this.isActionMenuOpen=!0},checkClose(e){const t=this.$refs.actionAddMenu,n=this.$refs.addActionBtn;if(!t)return;const i=e.target;t.contains(i)||n?.contains(i)||this.closeActionAddMenu()},copyID(){const e=this.$refs.idInput,t=this.$refs.copyIcon;e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),t.innerText="assignment_turned_in",setTimeout(()=>t.innerText="content_copy",1e3)}}}),v1={id:"settings"},y1={key:0,id:"generalSettings"},w1={class:"settings-box gen-box"},b1={class:"settings-row"},$1={class:"label"},C1={class:"settings-row id-box"},I1={class:"label"},T1=["value"],E1={key:0,class:"settings-row"},S1={class:"label"},A1=["checked"],k1={class:"settings-row"},N1={class:"label"},D1={key:1,class:"alignBlock"},M1={class:"settings-row alignRow"},P1={class:"label"},R1={class:"alignScope"},x1={class:"settings-row alignRow"},O1={class:"label"},U1={class:"alignButtons"},L1={class:"settings-row alignRow"},F1={class:"label"},V1={class:"alignButtons"},B1={class:"settings-box clickActions"},H1={class:"settings-row"},G1={class:"text"},W1={key:0,class:"divider"},z1=["onClick"],_1={class:"material-icons"},J1={key:0,id:"actionEditor"},K1={class:"settings-box"},q1={class:"material-icons"},Y1={key:0,class:"settings-row"},j1={class:"text"},X1={key:1,class:"settings-box"},Q1={class:"label"};function Z1(e,t,n,i,o,a){const s=He("component-list");return I(),E("div",v1,[e.selection?(I(),E("div",y1,[r("div",w1,[r("h1",null,[r("span",{class:"material-icons",style:{cursor:"pointer","user-select":"none"},onClick:t[0]||(t[0]=fe(l=>e.devMode=!e.devMode,["prevent"]))},f(e.devMode?"code":"tune"),1),K(" "+f(e.t("sidebar.general","General settings")),1)]),r("div",b1,[r("span",$1,f(e.t("sidebar.name","Name")),1),U(r("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=l=>e.selection.component.name=l)},null,512),[[z,e.selection.component.name]])]),r("div",C1,[r("span",I1,f(e.t("sidebar.id","ID")),1),r("input",{type:"text",value:e.selection.component.id,onInput:t[2]||(t[2]=l=>e.devMode?e.selection.component.id=e.$refs.idInput.value:e.$refs.idInput.value=e.selection.component.id),ref:"idInput"},null,40,T1),r("span",{class:"material-icons",onClick:t[3]||(t[3]=l=>e.copyID()),ref:"copyIcon"},"content_copy",512)]),e.selection.component.hideable?(I(),E("div",E1,[r("span",S1,f(e.t("sidebar.visibility","Visibility")),1),r("input",{type:"checkbox",checked:e.invisibleIDs.indexOf(e.selection.component.id)==-1,onChange:t[4]||(t[4]=l=>e.toggleVis(e.selection.component.id))},null,40,A1)])):me("",!0),r("div",k1,[r("span",N1,f(e.t("sidebar.lock","Lock")),1),U(r("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=l=>e.selection.component.locked=l)},null,512),[[Qe,e.selection.component.locked]])]),e.canAlign?(I(),E("div",D1,[r("div",M1,[r("span",P1,f(e.t("sidebar.align.scope","Align to")),1),r("div",R1,[r("div",{class:Pe(["alignScopeBtn",{active:e.alignScope=="canvas"}]),onClick:t[6]||(t[6]=l=>e.setAlignScope("canvas"))},f(e.t("sidebar.align.canvas","Canvas")),3),r("div",{class:Pe(["alignScopeBtn",{active:e.alignScope=="parent",disabled:!e.hasParent}]),onClick:t[7]||(t[7]=l=>e.setAlignScope("parent"))},f(e.t("sidebar.align.parent","Parent")),3)])]),r("div",x1,[r("span",O1,f(e.t("sidebar.align.horizontal","Horizontal")),1),r("div",U1,[r("span",{class:"material-icons",onClick:t[8]||(t[8]=l=>e.alignSelected("x","start")),title:"Align left"},"align_horizontal_left"),r("span",{class:"material-icons",onClick:t[9]||(t[9]=l=>e.alignSelected("x","center")),title:"Align center"},"align_horizontal_center"),r("span",{class:"material-icons",onClick:t[10]||(t[10]=l=>e.alignSelected("x","end")),title:"Align right"},"align_horizontal_right")])]),r("div",L1,[r("span",F1,f(e.t("sidebar.align.vertical","Vertical")),1),r("div",V1,[r("span",{class:"material-icons",onClick:t[11]||(t[11]=l=>e.alignSelected("y","start")),title:"Align top"},"align_vertical_top"),r("span",{class:"material-icons",onClick:t[12]||(t[12]=l=>e.alignSelected("y","center")),title:"Align middle"},"align_vertical_center"),r("span",{class:"material-icons",onClick:t[13]||(t[13]=l=>e.alignSelected("y","end")),title:"Align bottom"},"align_vertical_bottom")])])])):me("",!0)]),e.selection.component.actionable?(I(),E(le,{key:0},[t[26]||(t[26]=r("div",{class:"divider"},null,-1)),r("div",B1,[r("h1",null,[t[21]||(t[21]=r("span",{class:"material-icons"},"touch_app",-1)),K(" "+f(e.t("sidebar.clickAction","Click Action")),1)]),ve(s,{root:"",components:e.selection.component.clickAction,modelValue:e.selection.action,"onUpdate:modelValue":t[14]||(t[14]=l=>e.selection.action=l.value),onDeleted:e.checkDelete,onCopy:t[15]||(t[15]=l=>e.copiedAction=l),onAddChild:e.addActionToTree},null,8,["components","modelValue","onDeleted","onAddChild"]),r("div",H1,[r("div",{class:"btn addAction",ref:"addActionBtn",onClick:t[19]||(t[19]=fe((...l)=>e.toggleActionAddMenu&&e.toggleActionAddMenu(...l),["stop"]))},[t[24]||(t[24]=r("span",{class:"material-icons"},"add",-1)),r("span",G1,f(e.t("sidebar.addAction","Add action")),1),r("div",{class:"absoluteMenu actionAddMenu",ref:"actionAddMenu",onMousedown:t[17]||(t[17]=fe(()=>{},["stop"])),onClick:t[18]||(t[18]=fe(()=>{},["stop"]))},[e.copiedAction?(I(),E(le,{key:0},[r("div",{class:"entry",onClick:t[16]||(t[16]=fe(l=>e.pasteAction(),["stop"]))},[t[22]||(t[22]=r("span",{class:"material-icons"},"content_paste",-1)),K(" "+f(e.t("sidebar.paste","Paste")),1)]),t[23]||(t[23]=r("div",{class:"divider"},null,-1))],64)):me("",!0),(I(!0),E(le,null,Xe(e.actionIDs,(l,d)=>(I(),E("div",{key:d},[d!=0?(I(),E("div",W1)):me("",!0),r("div",{class:"entry",onClick:fe(m=>e.addNewAction(l),["stop"])},[r("span",_1,f(e.actions[l].icon),1),K(" "+f(e.t(`action.${l}`,l)),1)],8,z1)]))),128))],544)],512)]),e.selection&&e.selection.action?(I(),E("div",J1,[r("h2",null,[t[25]||(t[25]=r("span",{class:"material-icons"},"edit",-1)),K(" "+f(e.t("sidebar.edit","Edit"))+" "+f(e.t(`action.${e.selection.action.id}`,e.selection.action.id)),1)]),(I(),kt(Io(e.actions[e.selection.action.id].component),{action:e.selection.action.isCheck()?e.selection.action.check:e.selection.action},null,8,["action"]))])):me("",!0)])],64)):me("",!0),t[28]||(t[28]=r("div",{class:"divider"},null,-1)),r("div",K1,[r("h1",null,[r("span",q1,f(e.selection.component.icon),1),K(" "+f(e.t(`component.${e.selection.component.displayName}`,e.selection.component.displayName)),1)]),e.fillCanvasTarget?(I(),E("div",Y1,[r("div",{class:"btn fillCanvas",onClick:t[20]||(t[20]=(...l)=>e.fillCanvas&&e.fillCanvas(...l))},[t[27]||(t[27]=r("span",{class:"material-icons"},"wallpaper",-1)),r("span",j1,f(e.t("image.fillCanvas","Fill canvas")),1)])])):me("",!0),(I(),kt(Io(e.selection.component.vueComponent),{component:e.selection.component,maxWidth:e.settings.width*128,maxHeight:e.settings.height*128},null,8,["component","maxWidth","maxHeight"]))])])):(I(),E("div",X1,[r("h1",null,[r("b",Q1,f(e.t("sidebar.noneSelected","no component selected")),1)])]))])}const ew=re(g1,[["render",Z1]]),tw=oe({components:{ComponentList:Bl},data(){return{componentInfo:As,componentNames:Gy,componentTree:ct,selection:Be,copiedComponent:Ds,updateSelection:on,pasteComponent:Vl,addComponentAnchor:null,isCompAddMenuOpen:!1,t:q}},mounted(){document.addEventListener("click",this.checkClose,{capture:!0})},unmounted(){document.removeEventListener("click",this.checkClose,{capture:!0})},computed:{selectedComponent(){return this.selection?.component||null}},methods:{checkDelete(e){this.selection?.component?.id==e.id&&this.updateSelection({value:null})},checkClose(e){const t=this.$refs.compAddMenu,n=this.$refs.addComponentBtn;if(!t)return;const i=e.target;t.contains(i)||n?.contains(i)||this.closeCompAddMenu()},addChildToTreeElem(e){this.openCompAddMenu(e.event,e.anchor)},addNewComponent(e){const t=As[e].generator();qi(t),this.addComponentAnchor.splice(0,0,t),this.updateSelection({value:t}),this.closeCompAddMenu()},pasteComponentAndClose(){this.addComponentAnchor?this.pasteComponent(this.addComponentAnchor):this.pasteComponent(),this.closeCompAddMenu()},toggleCompAddMenu(e){if(this.isCompAddMenuOpen){this.closeCompAddMenu();return}this.openCompAddMenu(e,void 0,!0)},closeCompAddMenu(){const e=this.$refs.compAddMenu;e&&(e.style.display="none",e.style.opacity="0",e.style.pointerEvents="none",e.style.visibility="hidden",this.isCompAddMenuOpen=!1,this.addComponentAnchor=null)},openCompAddMenu(e,t=void 0,n=!1){const i=this.$refs.compAddMenu;this.addComponentAnchor=t||this.componentTree,i.style.display="block",i.style.opacity="0",i.style.visibility="hidden",i.style.pointerEvents="none";const o=i.offsetWidth,a=i.offsetHeight,s=8;let l=e.clientX,d=e.clientY;if(n){const m=this.$refs.addComponentBtn;if(m){const c=m.getBoundingClientRect();l=c.left,d=c.bottom+s,d+a>window.innerHeight&&(d=c.top-a-s)}}else d+a>window.innerHeight&&(d=e.clientY-a-s);l+o>window.innerWidth&&(l=window.innerWidth-o-s),l<s&&(l=s),d+a>window.innerHeight&&(d=window.innerHeight-a-s),d<s&&(d=s),i.style.top=`${d}px`,i.style.left=`${l}px`,i.style.visibility="visible",requestAnimationFrame(()=>{i.style.opacity="1",i.style.pointerEvents="auto"}),this.isCompAddMenuOpen=!0}}}),nw={id:"compTree"},iw={class:"text"},sw={key:0,class:"divider"},ow=["onClick"],rw={class:"material-icons"};function aw(e,t,n,i,o,a){const s=He("component-list");return I(),E("div",nw,[ve(s,{class:"actualTree",root:"",components:e.componentTree,modelValue:e.selectedComponent,"onUpdate:modelValue":t[0]||(t[0]=l=>e.updateSelection(l)),onCopy:t[1]||(t[1]=l=>e.copiedComponent=l),onDeleted:e.checkDelete,onAddChild:e.addChildToTreeElem},null,8,["components","modelValue","onDeleted","onAddChild"]),r("div",{class:"btn addComponentBtn",ref:"addComponentBtn",onClick:t[4]||(t[4]=fe((...l)=>e.toggleCompAddMenu&&e.toggleCompAddMenu(...l),["stop"]))},[t[7]||(t[7]=r("span",{class:"material-icons"},"add",-1)),r("span",iw,f(e.t("componentTree.add","Add component")),1),r("div",{class:"absoluteMenu compAddMenu",ref:"compAddMenu",onClick:t[3]||(t[3]=fe(()=>{},["stop"]))},[e.copiedComponent?(I(),E(le,{key:0},[r("div",{class:"entry",onClick:t[2]||(t[2]=fe(l=>e.pasteComponentAndClose(),["stop"]))},[t[5]||(t[5]=r("span",{class:"material-icons"},"content_paste",-1)),K(" "+f(e.t("sidebar.paste","Paste")),1)]),t[6]||(t[6]=r("div",{class:"divider"},null,-1))],64)):me("",!0),(I(!0),E(le,null,Xe(e.componentNames,(l,d)=>(I(),E("div",{key:d},[d!=0?(I(),E("div",sw)):me("",!0),r("div",{class:"entry",onClick:fe(m=>e.addNewComponent(l),["stop"])},[r("span",rw,f(e.componentInfo[l].icon),1),K(" "+f(e.t(`component.${l}`,l)),1)],8,ow)]))),128))],512)],512)])}const lw=re(tw,[["render",aw]]),dw=oe({data(){return{t:q}},props:{modelValue:{type:Boolean},closeBtn:{type:Boolean,default:!1},icon:{type:String},title:{type:String}}}),uw={class:"modalContainer"},cw={key:0},pw={key:0,class:"material-icons"},fw={key:1,class:"action-row"},hw={class:"text"};function mw(e,t,n,i,o,a){return I(),E("div",{class:"modal",style:ii({display:e.modelValue?"flex":"none"})},[r("div",uw,[e.title?(I(),E("h1",cw,[e.icon?(I(),E("span",pw,f(e.icon),1)):me("",!0),K(" "+f(e.title),1)])):me("",!0),xu(e.$slots,"default",{},void 0),e.closeBtn?(I(),E("div",fw,[r("div",{class:"btn close",onClick:t[0]||(t[0]=s=>e.$emit("update:modelValue",!1))},[r("span",hw,f(e.t("modal.ok","Okay")),1)])])):me("",!0)])],4)}const Hl=re(dw,[["render",mw],["__scopeId","data-v-4b3aace9"]]),gw=oe({components:{Modal:Hl},data(){return{settings:Re,undo:dr,redo:Es,history:Ee,importComponent:!1,showShortcuts:!1,projectExplorerOpen:Ji,unsavedChange:oi,language:Gs,languages:bl.value,t:q,saveCurrentProject:Js,exportCurrentProject:qg}},computed:{projectNameModel:{get(){return this.settings.projectName},set(e){this.settings.projectName=Zi(e,q("project.unnamed","Unnamed"))}},pixelWidth(){const e=Number(this.settings.width)||0;return Math.round(e*128)},pixelHeight(){const e=Number(this.settings.height)||0;return Math.round(e*128)},isMac(){return typeof navigator>"u"?!1:/Mac|iPhone|iPad|iPod/.test(navigator.platform)},modKeyLabel(){return this.isMac?"CMD":"CTRL"},altKeyLabel(){return this.isMac?"OPT":"ALT"},deleteKeyLabel(){return this.isMac?"BACKSPACE":"DELETE"}},methods:{openShortcuts(){this.showShortcuts=!0},exitToExplorer(){this.unsavedChange?qs(q("header.unsaved","Unsaved changes! Save all your changes before you exit."),!1,{label:q("header.discard","Discard changes and exit"),callback:()=>{this.projectExplorerOpen=!0}}):this.projectExplorerOpen=!0},onLanguageChange(e){const t=e.target;$l(t.value)}}}),vw={class:"head"},yw={class:"headLeft"},ww={class:"text"},bw={class:"text"},$w={class:"center"},Cw={class:"size"},Iw={class:"label"},Tw={class:"sizeResolution"},Ew={class:"headRight"},Sw={class:"text"},Aw={class:"text"},kw={class:"lang-switch"},Nw={class:"label"},Dw={class:"langSelect"},Mw=["value"],Pw=["value"],Rw={class:"shortcuts"},xw={key:1};function Ow(e,t,n,i,o,a){const s=He("modal");return I(),E("div",vw,[r("div",yw,[r("div",{class:"btn exitBtn",onClick:t[0]||(t[0]=l=>e.exitToExplorer())},[t[9]||(t[9]=r("span",{class:"material-icons"},"arrow_back",-1)),r("span",ww,f(e.t("header.backToProjects","Back to projects")),1)]),r("div",{class:"btn shortcutsBtn",onClick:t[1]||(t[1]=(...l)=>e.openShortcuts&&e.openShortcuts(...l))},[t[10]||(t[10]=r("span",{class:"material-icons"},"keyboard",-1)),r("span",bw,f(e.t("header.shortcuts","Shortcuts")),1)])]),r("div",$w,[U(r("input",{class:"inputProjectName",type:"text","onUpdate:modelValue":t[2]||(t[2]=l=>e.projectNameModel=l)},null,512),[[z,e.projectNameModel]]),r("div",Cw,[U(r("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=l=>e.settings.width=l)},null,512),[[z,e.settings.width]]),t[11]||(t[11]=r("span",{class:"label"},"x",-1)),U(r("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=l=>e.settings.height=l)},null,512),[[z,e.settings.height]]),r("span",Iw,f(e.t("header.sizeFrames","frames")),1),r("span",Tw,"("+f(e.pixelWidth)+":"+f(e.pixelHeight)+" px)",1)])]),r("div",Ew,[r("div",{class:Pe(["btn save",e.unsavedChange?"":"inactive"]),onClick:t[5]||(t[5]=(...l)=>e.saveCurrentProject&&e.saveCurrentProject(...l))},[t[12]||(t[12]=r("span",{class:"material-icons"},"save",-1)),r("span",Sw,f(e.t("header.save","Save")),1)],2),r("div",{class:"btn export",onClick:t[6]||(t[6]=l=>e.exportCurrentProject())},[t[13]||(t[13]=r("span",{class:"material-icons"},"get_app",-1)),r("span",Aw,f(e.t("header.download","Download")),1)]),r("div",kw,[r("span",Nw,f(e.t("header.lang","Language")),1),t[15]||(t[15]=r("span",{class:"material-icons"},"translate",-1)),r("div",Dw,[r("select",{value:e.language,onChange:t[7]||(t[7]=(...l)=>e.onLanguageChange&&e.onLanguageChange(...l))},[(I(!0),E(le,null,Xe(e.languages,l=>(I(),E("option",{key:l.value,value:l.value},f(l.label),9,Pw))),128))],40,Mw),t[14]||(t[14]=r("span",{class:"material-icons caret"},"expand_more",-1))])])]),(I(),kt(Yo,{to:"body"},[ve(s,{title:e.t("header.shortcuts.title","Shortcuts"),icon:"keyboard",modelValue:e.showShortcuts,"onUpdate:modelValue":t[8]||(t[8]=l=>e.showShortcuts=l),closeBtn:""},{default:ws(()=>[r("p",Rw,[r("span",null,f(e.modKeyLabel),1),t[19]||(t[19]=K()),t[20]||(t[20]=r("span",null,"C",-1)),K("  "+f(e.t("shortcuts.copy","Copy component"))+" ",1),t[21]||(t[21]=r("br",null,null,-1)),r("span",null,f(e.modKeyLabel),1),t[22]||(t[22]=K()),t[23]||(t[23]=r("span",null,"V",-1)),K("  "+f(e.t("shortcuts.paste","Paste component"))+" ",1),t[24]||(t[24]=r("br",null,null,-1)),r("span",null,f(e.modKeyLabel),1),t[25]||(t[25]=K()),t[26]||(t[26]=r("span",null,"X",-1)),K("  "+f(e.t("shortcuts.cut","Copy & delete component"))+" ",1),t[27]||(t[27]=r("br",null,null,-1)),r("span",null,f(e.deleteKeyLabel),1),K("  "+f(e.t("shortcuts.delete","Delete component"))+" ",1),t[28]||(t[28]=r("br",null,null,-1)),r("span",null,f(e.modKeyLabel),1),t[29]||(t[29]=K()),t[30]||(t[30]=r("span",null,"Z",-1)),K("  "+f(e.t("shortcuts.undo","Undo"))+" ",1),t[31]||(t[31]=r("br",null,null,-1)),r("span",null,f(e.modKeyLabel),1),e.isMac?(I(),E(le,{key:0},[t[16]||(t[16]=r("span",null,"SHIFT",-1)),t[17]||(t[17]=K()),t[18]||(t[18]=r("span",null,"Z",-1))],64)):(I(),E("span",xw,"Y")),K("  "+f(e.t("shortcuts.redo","Redo"))+" ",1),t[32]||(t[32]=r("br",null,null,-1)),r("span",null,f(e.modKeyLabel),1),t[33]||(t[33]=K()),t[34]||(t[34]=r("span",null,"SCROLL",-1)),K("  "+f(e.t("shortcuts.zoom","Zoom in/out"))+" ",1),t[35]||(t[35]=r("br",null,null,-1)),r("span",null,f(e.modKeyLabel),1),t[36]||(t[36]=K()),t[37]||(t[37]=r("span",null,"SHIFT",-1)),t[38]||(t[38]=r("span",null,"S",-1)),K("  "+f(e.t("shortcuts.snapToggle","Toggle snapping"))+" ",1),t[39]||(t[39]=r("br",null,null,-1)),t[40]||(t[40]=r("span",null,"ARROW KEY",-1)),K("  "+f(e.t("shortcuts.move1","Move component by 1 pixel"))+" ",1),t[41]||(t[41]=r("br",null,null,-1)),t[42]||(t[42]=r("span",null,"SHIFT",-1)),t[43]||(t[43]=K()),t[44]||(t[44]=r("span",null,"ARROW KEY",-1)),K("  "+f(e.t("shortcuts.move10","Move component by 10 pixel"))+" ",1),t[45]||(t[45]=r("br",null,null,-1)),r("span",null,f(e.altKeyLabel),1),t[46]||(t[46]=K()),t[47]||(t[47]=r("span",null,"DRAG",-1)),K("  "+f(e.t("shortcuts.duplicateDrag","Duplicate while dragging"))+" ",1),t[48]||(t[48]=r("br",null,null,-1)),r("span",null,f(e.modKeyLabel),1),t[49]||(t[49]=K()),t[50]||(t[50]=r("span",null,"S",-1)),K("  "+f(e.t("shortcuts.download","Download savepoint"))+" ",1),t[51]||(t[51]=r("br",null,null,-1)),K(" "+f(e.t("shortcuts.snap","Press SHIFT while moving an element to snap to x- or y-axis")),1)])]),_:1},8,["title","modelValue"])]))])}const Uw=re(gw,[["render",Ow],["__scopeId","data-v-e6f98378"]]);function Lw(e){return ct.value.some(t=>t.id==e.id)?ct.value:ti(e)?.getItems()}function Gl(e){(e.ctrlKey||e.metaKey)&&(Re.zoom+=-(e.deltaY*Re.zoom)/1e3,Re.zoom=Math.round(Re.zoom*100)/100,e.preventDefault())}function Wl(e){const t=e.target,n=e.ctrlKey||e.metaKey,i=e.key.toLowerCase();if(!(t&&(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement||t.isContentEditable)&&!(n&&i=="s"))&&!Ji.value){if(n&&(i=="c"||i=="x")&&Be.value?.component&&(Ds.value=Be.value.component.toJson()),n&&i=="v"){let a=ct.value;Be.value?.component&&(Be.value.component.isGroup()?a=Be.value.component.getItems():a=ti(Be.value.component)?.getItems()||a),Vl(a)}if(n&&e.shiftKey&&i=="s"){Re.snapEnabled=!Re.snapEnabled,e.preventDefault();return}if(n&&i=="s"&&(Js(),e.preventDefault()),n&&i=="z"){e.shiftKey?Es():dr();return}if(n&&i=="y"){Es();return}if((e.code=="Delete"||e.code=="Backspace"||n&&i=="x")&&Be.value?.component){const a=Lw(Be.value.component);if(a){const s=a.findIndex(l=>l.id==Be.value?.component.id);a.splice(s,1),on({value:null})}}if((e.code=="ArrowUp"||e.code=="ArrowRight"||e.code=="ArrowLeft"||e.code=="ArrowDown")&&Be.value?.component){if(Kt(Be.value.component))return;const a=Be.value.component.getBoundingBox(),s=e.shiftKey?10:1;e.code=="ArrowUp"?a.y-=s:e.code=="ArrowDown"?a.y+=s:e.code=="ArrowRight"?a.x+=s:e.code=="ArrowLeft"&&(a.x-=s),Be.value.component.modify(a)}}}function Fw(){document.addEventListener("keydown",Wl,{capture:!0}),document.addEventListener("wheel",Gl,{capture:!0,passive:!1})}function Vw(){document.removeEventListener("keydown",Wl,{capture:!0}),document.removeEventListener("wheel",Gl,{capture:!0})}const Bw=oe({data(){return{history:Ee,redo:Es,undo:dr,settings:Re,t:q}},methods:{toggleSnap(){Re.snapEnabled=!Re.snapEnabled}}}),Hw={class:"toolbar"},Gw={class:"zoom"},Ww={class:"label"},zw=["value"],_w=["title"],Jw={class:"historyControls row"};function Kw(e,t,n,i,o,a){return I(),E("div",Hw,[r("div",Gw,[r("b",Ww,f(e.t("toolbar.zoom","ZOOM")),1),U(r("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.settings.zoom=s)},[r("option",{value:e.settings.zoom,style:{display:"none"}},f((e.settings.zoom*100).toFixed(0))+"% ",9,zw),t[4]||(t[4]=r("option",{value:"0.5"},"50%",-1)),t[5]||(t[5]=r("option",{value:"1"},"100%",-1)),t[6]||(t[6]=r("option",{value:"2"},"200%",-1)),t[7]||(t[7]=r("option",{value:"4"},"400%",-1))],512),[[si,e.settings.zoom,void 0,{number:!0}]]),r("div",{class:Pe(["snapToggle",{active:e.settings.snapEnabled}]),title:e.t("toolbar.snapToggle","Toggle snapping"),onClick:t[1]||(t[1]=fe((...s)=>e.toggleSnap&&e.toggleSnap(...s),["stop"]))},[...t[8]||(t[8]=[r("span",{class:"material-icons"},"grid_on",-1)])],10,_w)]),r("div",Jw,[r("div",{class:Pe(["btnHstr",e.history.stack.length<=e.history.historyIndex+1?"inactive":""]),onClick:t[2]||(t[2]=fe((...s)=>e.undo&&e.undo(...s),["stop"]))},[...t[9]||(t[9]=[r("span",{class:"material-icons"},"undo",-1)])],2),r("div",{class:Pe(["btnHstr",e.history.historyIndex!=0?"":"inactive"]),onClick:t[3]||(t[3]=fe((...s)=>e.redo&&e.redo(...s),["stop"]))},[...t[10]||(t[10]=[r("span",{class:"material-icons"},"redo",-1)])],2)])])}const qw=re(Bw,[["render",Kw]]),Yw=oe({props:{entries:{type:Array,required:!0}},mounted(){document.addEventListener("click",this.checkClose,{capture:!0})},unmounted(){document.removeEventListener("click",this.checkClose,{capture:!0})},data(){return{}},methods:{checkClose(e){const t=this.$refs.menu,n=e.target;t.contains(n)||(t.style.display="none")},open(e,t){const n=this.$refs.menu;n.style.display="block",n.style.opacity="0",n.style.visibility="hidden",n.style.pointerEvents="none";const i=8,o=n.offsetWidth,a=n.offsetHeight;let s=e,l=t;s+o>window.innerWidth&&(s=window.innerWidth-o-i),s<i&&(s=i),l+a>window.innerHeight&&(l=t-a-i),l<i&&(l=i),l+a>window.innerHeight&&(l=window.innerHeight-a-i),n.style.top=`${l}px`,n.style.left=`${s}px`,n.style.visibility="visible",requestAnimationFrame(()=>{n.style.opacity="1",n.style.pointerEvents="auto"})}}}),jw={class:"absoluteMenu",ref:"menu"},Xw={key:0,class:"divider"},Qw=["onClick"],Zw={class:"material-icons"};function eb(e,t,n,i,o,a){return I(),kt(Yo,{to:"body"},[r("div",jw,[(I(!0),E(le,null,Xe(e.entries,(s,l)=>(I(),E("div",{key:l},[l!=0?(I(),E("div",Xw)):me("",!0),r("div",{class:"entry",onClick:fe(s.action,["stop"])},[r("span",Zw,f(s.icon),1),K(" "+f(s.name),1)],8,Qw)]))),128))],512)])}const tb=re(Yw,[["render",eb]]),nb=oe({data(){return{projects:Ze,openNewProject:Qg,openProject:Mo,VERSION:Et,formatVersion:Et,info:qs,t:q,searchQuery:"",showAbout:!1,showDevMode:!1,language:Gs,languages:bl.value}},components:{AbsoluteMenu:tb,Modal:Hl},computed:{summedSize(){return this.projects.map(e=>JSON.stringify(e).length*2/1e3/1e3).reduce((e,t)=>e+t,0)},filteredProjects(){const e=this.searchQuery.trim().toLowerCase();return e?this.projects.filter(t=>t.name.toLowerCase().includes(e)):this.projects}},watch:{projects:{handler(){setTimeout(()=>{this.projects.forEach(async e=>{const t=this.$refs[`proj#${e.name}`];t&&(t.style.backgroundImage=`url(${await ev(e.name)})`)})},30)},immediate:!0,deep:!0}},methods:{triggerFileSelector(){this.$refs.fileDownload.click()},async checkForUpload(){const e=this.$refs.fileDownload;if(e.files?.length){const t=e.files[0];Xt(!0);const n=JSON.parse(await t.text());await Yg(n),Xt(!1)}},getActions(e){const t=[{icon:"download",name:q("projectExplorer.download","Download"),action:()=>Kg(e.name)},{icon:"delete",name:q("projectExplorer.delete","Delete"),action:()=>jg(e.name)}];return e.version!=Et&&t.splice(0,0,{icon:"update",name:q("projectExplorer.openToUpdate","Open to update"),action:()=>{Mo(e)}}),t},onLanguageChange(e){const t=e.target;$l(t.value)},openAbout(){this.showAbout=!0},openDevMode(){this.showDevMode=!0},openProjectMenu(e,t){const n=`projMenu#${e}`,i=this.$refs[n],o=Array.isArray(i)?i[0]:i;o?.open&&o.open(t.clientX,t.clientY)}}}),ib={id:"projectExplorer"},sb={class:"head explorerHead"},ob={class:"center"},rb={class:"explorerTitle"},ab={class:"headRight"},lb={class:"langSwitch"},db={class:"label"},ub={class:"langSelect"},cb=["value"],pb=["value"],fb={class:"hero"},hb={class:"heroText"},mb={class:"brand"},gb={class:"brandText"},vb={class:"subtitle"},yb={class:"lead"},wb={class:"heroActions"},bb={class:"text"},$b={class:"text"},Cb={class:"heroStats"},Ib={class:"stat"},Tb={class:"value"},Eb={class:"label"},Sb={class:"stat"},Ab={class:"value"},kb={class:"label"},Nb={class:"heroPanel"},Db={class:"panelTitle"},Mb={class:"tipsList"},Pb={class:"panelFooter"},Rb={class:"panelActions"},xb={class:"projectSection"},Ob={class:"sectionHeader"},Ub={class:"sectionActions"},Lb={class:"searchBox"},Fb=["placeholder"],Vb={class:"projectList"},Bb=["onClick"],Hb={class:"cardHeader"},Gb={key:0,class:"badge"},Wb=["onClick"],zb={class:"cardFooter"},_b={class:"name"},Jb={class:"openCta"},Kb={key:0,class:"emptyState"},qb={class:"emptyTitle"},Yb={class:"emptyBody"},jb={class:"text"},Xb={key:1,class:"emptyState"},Qb={class:"emptyTitle"},Zb={class:"emptyBody"};function e0(e,t,n,i,o,a){const s=He("absolute-menu"),l=He("modal");return I(),E("div",ib,[r("div",sb,[t[13]||(t[13]=r("div",{class:"headLeft"},[r("div",{class:"explorerBrand"},[r("span",{class:"material-icons"},"grid_view"),r("span",{class:"title"},"AdvancedGUI Community Editor")])],-1)),r("div",ob,[r("div",rb,f(e.t("projectExplorer.title","Project Explorer")),1)]),r("div",ab,[r("div",lb,[r("span",db,f(e.t("header.lang","Language")),1),t[12]||(t[12]=r("span",{class:"material-icons"},"translate",-1)),r("div",ub,[r("select",{value:e.language,onChange:t[0]||(t[0]=(...d)=>e.onLanguageChange&&e.onLanguageChange(...d))},[(I(!0),E(le,null,Xe(e.languages,d=>(I(),E("option",{key:d.value,value:d.value},f(d.label),9,pb))),128))],40,cb),t[11]||(t[11]=r("span",{class:"material-icons caret"},"expand_more",-1))])])])]),r("div",fb,[r("div",hb,[r("div",mb,[t[15]||(t[15]=r("div",{class:"logoBadge"},"AG",-1)),r("div",gb,[t[14]||(t[14]=r("h1",null,"AdvancedGUI Community Editor",-1)),r("p",vb,f(e.t("projectExplorer.subtitle","A community-built GUI editor for Minecraft, made for creators")),1)])]),r("p",yb,f(e.t("projectExplorer.lead","Build menus without the hassle: drag elements, align them, and export when everything feels right.")),1),r("div",wb,[r("div",{class:"btn heroPrimary",onClick:t[1]||(t[1]=(...d)=>e.openNewProject&&e.openNewProject(...d))},[t[16]||(t[16]=r("span",{class:"material-icons"},"add",-1)),r("span",bb,f(e.t("projectExplorer.create","Create new project")),1)]),r("div",{class:"btn heroSecondary",onClick:t[2]||(t[2]=d=>e.triggerFileSelector())},[t[17]||(t[17]=r("span",{class:"material-icons"},"upload",-1)),r("span",$b,f(e.t("projectExplorer.import","Import project")),1)])]),r("div",Cb,[r("div",Ib,[r("span",Tb,f(e.projects.length),1),r("span",Eb,f(e.t("projectExplorer.stats.projects","Projects")),1)]),r("div",Sb,[r("span",Ab,f(e.summedSize.toFixed(2))+" MB",1),r("span",kb,f(e.t("projectExplorer.stats.storage","Storage used")),1)])])]),r("div",Nb,[r("div",Db,f(e.t("projectExplorer.tips.title","Getting started")),1),r("ul",Mb,[r("li",null,f(e.t("projectExplorer.tips.one","Create a project and set the canvas size in frames.")),1),r("li",null,f(e.t("projectExplorer.tips.two","Organize layers in the tree so the layout stays readable.")),1),r("li",null,f(e.t("projectExplorer.tips.three","Use snapping and alignment to keep everything neat.")),1)]),r("div",Pb,[t[18]||(t[18]=r("span",{class:"material-icons"},"auto_awesome",-1)),r("span",null,f(e.t("projectExplorer.tips.note","Everything stays local in your browser.")),1)]),t[21]||(t[21]=r("div",{class:"panelDivider"},null,-1)),r("div",Rb,[r("div",{class:"panelAction",onClick:t[3]||(t[3]=(...d)=>e.openAbout&&e.openAbout(...d))},[t[19]||(t[19]=r("span",{class:"material-icons"},"info",-1)),r("span",null,f(e.t("projectExplorer.about","About the editor")),1)]),r("div",{class:"panelAction",onClick:t[4]||(t[4]=(...d)=>e.openDevMode&&e.openDevMode(...d))},[t[20]||(t[20]=r("span",{class:"material-icons"},"code",-1)),r("span",null,f(e.t("projectExplorer.devMode","Dev-Mode")),1)])])])]),r("div",xb,[r("div",Ob,[r("h2",null,f(e.t("projectExplorer.yourProjects","Your projects")),1),r("div",Ub,[r("div",Lb,[t[22]||(t[22]=r("span",{class:"material-icons"},"search",-1)),U(r("input",{"onUpdate:modelValue":t[5]||(t[5]=d=>e.searchQuery=d),type:"text",placeholder:e.t("projectExplorer.search","Search projects")},null,8,Fb),[[z,e.searchQuery]])])])]),r("div",Vb,[e.projects.length>0?(I(),E("div",{key:0,class:"card createNew",onClick:t[6]||(t[6]=(...d)=>e.openNewProject&&e.openNewProject(...d))},[t[23]||(t[23]=r("span",{class:"material-icons"},"add",-1)),r("span",null,f(e.t("projectExplorer.create","Create new project")),1)])):me("",!0),(I(!0),E(le,null,Xe(e.filteredProjects,d=>(I(),E("div",{key:d.name,class:"card projectCard",onClick:m=>e.openProject(d),ref_for:!0,ref:`proj#${d.name}`},[r("div",Hb,[d.version!=e.VERSION?(I(),E("div",Gb,f(e.t("projectExplorer.needsUpdate","Update")),1)):me("",!0),r("div",{class:"more",onClick:fe(m=>e.openProjectMenu(d.name,m),["stop"])},[...t[24]||(t[24]=[r("span",{class:"material-icons"},"expand_more",-1)])],8,Wb)]),r("div",zb,[r("div",_b,[r("h3",null,f(d.name),1),r("span",null,f((JSON.stringify(d).length*2/1e3/1e3).toFixed(2)+" MB"),1)]),r("div",Jb,[t[25]||(t[25]=r("span",{class:"material-icons"},"launch",-1)),r("span",null,f(e.t("projectExplorer.open","OPEN")),1)])]),ve(s,{entries:e.getActions(d),ref_for:!0,ref:`projMenu#${d.name}`},null,8,["entries"])],8,Bb))),128))]),e.projects.length===0?(I(),E("div",Kb,[t[27]||(t[27]=r("span",{class:"material-icons"},"search_off",-1)),r("div",qb,f(e.t("projectExplorer.empty.firstTitle","No projects yet")),1),r("div",Yb,f(e.t("projectExplorer.empty.firstBody","Start fresh by creating your first project.")),1),r("div",{class:"btn heroPrimary",onClick:t[7]||(t[7]=(...d)=>e.openNewProject&&e.openNewProject(...d))},[t[26]||(t[26]=r("span",{class:"material-icons"},"add",-1)),r("span",jb,f(e.t("projectExplorer.create","Create new project")),1)])])):e.filteredProjects.length===0?(I(),E("div",Xb,[t[28]||(t[28]=r("span",{class:"material-icons"},"search_off",-1)),r("div",Qb,f(e.t("projectExplorer.empty.title","No projects found")),1),r("div",Zb,f(e.t("projectExplorer.empty.body","Try another name.")),1)])):me("",!0)]),t[29]||(t[29]=r("div",{class:"absInfoBar"},null,-1)),r("input",{type:"file",ref:"fileDownload",accept:".json",style:{display:"none"},onChange:t[8]||(t[8]=d=>e.checkForUpload())},null,544),(I(),kt(Yo,{to:"body"},[ve(l,{title:e.t("header.about.title","About the editor"),icon:"help_outline",modelValue:e.showAbout,"onUpdate:modelValue":t[9]||(t[9]=d=>e.showAbout=d),closeBtn:""},{default:ws(()=>[r("p",null,f(e.t("header.about.body","AdvancedGUI Community Editor is a community-built project for easier GUI editing in AdvancedGUI. AdvancedGUI is a game extension for the sandbox video game Minecraft. It is available for purchase on SpigotMC. The editor is open-source on GitHub. Current format-version: {version}.").replace("{version}",e.formatVersion)),1)]),_:1},8,["title","modelValue"]),ve(l,{title:e.t("header.dev.title","Dev-Mode"),icon:"code",modelValue:e.showDevMode,"onUpdate:modelValue":t[10]||(t[10]=d=>e.showDevMode=d),closeBtn:""},{default:ws(()=>[r("p",null,f(e.t("header.dev.body",'Enable the tune icon near "General settings" to toggle dev-mode for advanced options like moving elements outside the view, editing IDs, previewing item-frame grid, and setting RGBA directly.')),1),r("ul",null,[r("li",null,f(e.t("dev.move","Move component partially outside the GUI view")),1),r("li",null,f(e.t("dev.id","Change the ID of components")),1),r("li",null,f(e.t("dev.preview","Preview how the GUI will be divided into item-frames")),1),r("li",null,f(e.t("dev.rgba","Set the direct RGBA color value of components (useful for template variables)")),1)])]),_:1},8,["title","modelValue"])]))])}const t0=re(nb,[["render",e0]]),n0="/AdvancedGUI-CE/",i0=oe({name:"App",components:{MyCanvas:sv,ComponentTree:lw,SideBar:ew,LoadingScreen:n1,Toolbar:qw,ProjectExplorer:t0,AppHeader:Uw},data(){return{baseUrl:n0,projectExplorerOpen:Ji,updateHistory:ur,selection:Be,beforeUnloadHandler:null,showMobileWarning:!1}},async mounted(){this.checkMobile(),av(this.$refs.imageContainer),Fw(),Xt(!0),await Jg(),Xt(!1),this.beforeUnloadHandler=e=>{if(!oi.value||Ji.value)return;const t=q("app.unsavedLeave","It looks like you have been editing something. If you leave before saving, your changes will be lost.");return(e||window.event).returnValue=t,t},window.addEventListener("beforeunload",this.beforeUnloadHandler)},unmounted(){Vw(),this.beforeUnloadHandler&&(window.removeEventListener("beforeunload",this.beforeUnloadHandler),this.beforeUnloadHandler=null)},methods:{checkMobile(){const e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=800,t=sessionStorage.getItem("mobileWarningDismissed");e&&!t&&(this.showMobileWarning=!0)},dismissMobileWarning(){this.showMobileWarning=!1,sessionStorage.setItem("mobileWarningDismissed","true")},blurActiveElement(e){const t=e.target;if(t&&t.closest("input, textarea, select, [contenteditable='true']"))return;const n=document.activeElement;n&&(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement||n.isContentEditable)&&n.blur()}}}),s0={id:"app"},o0={ref:"imageContainer",style:{display:"none"}},r0=["src"],a0={key:2,class:"mobile-warning-overlay"},l0={class:"mobile-warning-modal"};function d0(e,t,n,i,o,a){const s=He("app-header"),l=He("component-tree"),d=He("my-canvas"),m=He("toolbar"),c=He("side-bar"),h=He("project-explorer"),C=He("loading-screen");return I(),E("div",s0,[e.projectExplorerOpen?(I(),kt(h,{key:1})):(I(),E(le,{key:0},[ve(s),r("div",{class:"row mainSpace",onClickCapture:t[1]||(t[1]=(...A)=>e.updateHistory&&e.updateHistory(...A)),onMousedownCapture:t[2]||(t[2]=(...A)=>e.blurActiveElement&&e.blurActiveElement(...A))},[ve(l),r("div",{class:"canvasContainer",onClick:t[0]||(t[0]=fe(A=>e.selection=null,["self"]))},[ve(d),ve(m)]),ve(c)],32)],64)),ve(C),t[7]||(t[7]=r("a",{id:"downloadAnchor",style:{display:"none"}},null,-1)),r("div",o0,[r("img",{src:e.baseUrl+"images/error.svg",crossorigin:"anonymous",id:"broken_TAKEN_ID"},null,8,r0)],512),e.showMobileWarning?(I(),E("div",a0,[r("div",l0,[t[4]||(t[4]=r("h3",null," ",-1)),t[5]||(t[5]=r("p",null,[K(" ,    . "),r("br"),K("         . ")],-1)),t[6]||(t[6]=r("p",{class:"warning-text"},"   ,      . ",-1)),r("button",{class:"proceed-btn",onClick:t[3]||(t[3]=(...A)=>e.dismissMobileWarning&&e.dismissMobileWarning(...A))},"       ")])])):me("",!0)])}const u0=re(i0,[["render",d0]]),c0="modulepreload",p0=function(e){return"/AdvancedGUI-CE/"+e},da={},f0=function(t,n,i){let o=Promise.resolve();if(n&&n.length>0){let m=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};var s=m;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=l?.nonce||l?.getAttribute("nonce");o=m(n.map(c=>{if(c=p0(c),c in da)return;da[c]=!0;const h=c.endsWith(".css"),C=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${C}`))return;const A=document.createElement("link");if(A.rel=h?"stylesheet":c0,h||(A.as="script"),A.crossOrigin="",A.href=c,d&&A.setAttribute("nonce",d),document.head.appendChild(A),h)return new Promise((H,G)=>{A.addEventListener("load",H),A.addEventListener("error",()=>G(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return o.then(l=>{for(const d of l||[])d.status==="rejected"&&a(d.reason);return t().catch(a)})};function h0(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:o,onRegisteredSW:a,onRegisterError:s}=e;let l,d;const m=async(h=!0)=>{await d};async function c(){if("serviceWorker"in navigator){if(l=await f0(async()=>{const{Workbox:h}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:h}},[]).then(({Workbox:h})=>new h("/AdvancedGUI-CE/sw.js",{scope:"/AdvancedGUI-CE/",type:"classic"})).catch(h=>{s?.(h)}),!l)return;l.addEventListener("activated",h=>{(h.isUpdate||h.isExternal)&&window.location.reload()}),l.addEventListener("installed",h=>{h.isUpdate||i?.()}),l.register({immediate:t}).then(h=>{a?a("/AdvancedGUI-CE/sw.js",h):o?.(h)}).catch(h=>{s?.(h)})}}return d=c(),m}h0({immediate:!0});lm();Yc(u0).mount("#app");
